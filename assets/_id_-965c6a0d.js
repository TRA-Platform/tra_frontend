import{L as Ge,N as Je,b5 as ht,R as st,S as vt,W as _t,b6 as gt,a9 as Xe,p as t,G as Be,a8 as Rt,Z as Ae,E as K,ac as bt,Q as kt,b7 as wt,O as xt,b8 as Bt,Y as pt,a1 as At,$ as Tt,ap as B,b9 as Lt,ba as Nt,bb as Ot,k as N,I as ze,o as p,b as R,y as l,aI as se,aY as Q,C as J,m as d,A as w,b2 as me,D as b,aV as Le,bc as ee,aD as Ve,aJ as fe,aL as je,q as S,b1 as Ne,aK as ne,c as z,aj as O,F as le,a as ie,at as Te,aG as Ce,aH as Ue,r as ve,aZ as De,aX as xe,ar as Me,w as Re,ah as Fe,s as rt,bd as Vt,H as ot,aa as Et,b4 as Ct,b0 as Ht,t as Gt}from"./index-d95795e1.js";import{V as we}from"./VDialog-37100c35.js";import{a as ke,u as Jt,_ as Xt,V as Zt}from"./ProjectCreateDialog-f5151d87.js";import{V as oe,a as X}from"./VRow-d6a2abcc.js";import{V as W}from"./VChip-a2d4f2bd.js";import{V as ae}from"./VDivider-59634c34.js";import{a as We,g as be,b as Ut}from"./formatters-e8cec08b.js";import{V as te}from"./VSpacer-cf09c0ef.js";import{b as nt,c as _e,V as it,a as Dt}from"./VTabs-2875af64.js";import{V as ct,a as ge}from"./VSlideGroup-ec6491f9.js";import{V as Ie}from"./VForm-2f455d72.js";import{b as ce}from"./VTextField-49998873.js";import{V as pe}from"./VSelect-063e615d.js";import{V as et,a as tt,b as lt}from"./VList-91b055b1.js";import{V as $t}from"./VTooltip-65c349fb.js";import{b as ft}from"./route-block-a4db4ab4.js";import"./index-3bf00b97.js";import"./VMenu-4ed8d15c.js";import"./VCheckboxBtn-6ecc4126.js";import"./ssrBoot-d0bdfe5e.js";const a=he;(function(){const n=he,o=ut();for(;;)try{if(parseInt(n(977))/1+-parseInt(n(820))/2+parseInt(n(666))/3*(parseInt(n(713))/4)+-parseInt(n(839))/5*(-parseInt(n(806))/6)+parseInt(n(1058))/7*(-parseInt(n(1035))/8)+parseInt(n(776))/9+-parseInt(n(741))/10===785572)break;o.push(o.shift())}catch{o.push(o.shift())}})();const Pt=function(){let n=!0;return function(o,e){const u=n?function(){if(e){const j=e[he(622)](o,arguments);return e=null,j}}:function(){};return n=!1,u}}();(function(){Pt(this,function(){const n=he,o=new RegExp("function *\\( *\\)"),e=new RegExp(n(917),"i"),u=yt("init");o[n(443)](u+n(436))&&e[n(443)](u+n(509))?yt():u("0")})()})();function he(n,o){const e=ut();return he=function(u,j){return e[u-=429]},he(n,o)}function ut(){const n=["html-preview","tabler-file-export","e.g. registered user, system administrator, customer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","500","text-h4 font-weight-bold","hasManagerPermission","No User Stories Found","Role","currentMockup","HTML Content","tabler-user-check","Sequence Diagram","Failed to delete mockup: ","div","requirements","version_number","Other","updatePlanVersion","requirement_type","versions","icon-defaults","text-caption ms-3","tabler-edit","mb-2","font-weight-medium","success","gger","deleteMockup","data-v-9ece2766","comment-item mb-4"," User ","findIndex","createRequirement","As a ","message","while (true) {}","tabler-chart-bar","constraint","tabler-box","d-flex flex-column gap-4","v-timeline-divider__dot","text-caption","Estimated cost is required","Failed to delete comment: ","Failed to update requirement: ","Notes","Add a comment","Failed to create UML diagram","tabler-calendar-time","isAdmin","deleteComment","usecase","tabler-x","charAt","This project does not have any mockups yet.","generation_status","truncateLine","DevelopmentPlanStore","cost","then","text-subtitle-2 font-weight-medium mb-2","tabler-code","1477385dzhJCB","Failed to update requirement","Failed to delete UML diagram: ","text-center pa-2","Are you sure you want to delete this project? This action cannot be undone.","width","formRef","text-h6 mb-2","Error parsing roles and hours:","Security","Diagram Content (SVG)","tabler-server","User Stories","roles_and_hours","side","action","has-manager-permission","/service/requirements/","/service/uml-diagrams/","Failed to delete requirement: ","tabler-arrow-left","v-timeline-item__body","dotColor","2-digit","tabler-tag","userStories","900","username","v-timeline-item__opposite","PlanVersionDialog","HTML content is required","Activity Diagram","iconColor"," Mockups ","pt-5 pb-2"," Be the first to comment on this requirement. ","priority_modules","includes","No Mockups Found","800px","created_by","mockups","English","currentDiagram","Roles & Hours","Failed to fetch UML diagram","role","px-5 pt-4","Failed to start SRS export: ","ER Diagram","fetchDevelopmentPlanById","Failed to fetch development plan","parse"," for this development plan. "," Set as Current ","onClick","As a","top","2008224geSAim","Failed to create requirement","onSubmit","lineColor","tabler-world-www","currentProject","me-3","state","v-timeline-divider__before","Non-Functional","is_admin","tabler-trash","v-timeline--"," Last updated: ","justify","currentUserStory","d-flex align-center justify-space-between mb-2","data-v-5106171e","lineInset","Failed to update project","submit","text-body-1 mb-4","rounded","28mgLBCo","src"," No acceptance criteria defined for this user story. ","additional_requirements","RequirementDetailsDialog","text-h3","updateDiagram","preliminary_budget","changed_by","Archived","Class Diagram","Version","counter","No HTML Content","update:isDialogVisible","Failed to create plan version","Plan version updated successfully","UmlDiagramList","text-caption me-4","updateRequirement"," Generate User Stories ","sort","Search user stories...","calc(var(--v-timeline-dot-size) / 2 + ","Non-Functional Requirements","IconBtn","d-flex justify-center my-8","UmlDiagramDetailsDialog","responsibleUser","height","Mockups generation started successfully","No Requirements Found","params","Failed to start mockups generation: "," Generate Requirements ","Status","validate","Failed to generate UML diagrams","acceptance_criteria","planId","/service/user-story-comments/","technology_stack","tabler-calendar-stats","outlined","createComment","requirement"," User Stories ","Unknown User","website","Failed to set current plan version","api","Failed to create comment"," Generate Development Plan ","Acceptance Criteria:","diagram-svg-container pa-4 d-flex justify-center align-center","Failed to regenerate user story: ","Failed to create mockup","function","default","Estimated Cost","text-medium-emphasis text-center","Stories","project"," View Diagram ","Add new criterion"," Create Development Plan ","update","tabler-minimize","in_progress","style","number","desktop","max-width","[id]","pl-4","all"," Generate Mockups "," Add ","MockupStore","whitespace-pre-wrap mb-4","en-US","Error Loading Project","Failed to update UML diagram: ","info","Action is required","dot","Detailed Description","ProjectDetailsInfo","pt-3 pb-0","Failed to fetch user stories","Functional","tabler-user","userStory","Failed to delete requirement","Failed to fetch mockups","Failed to start SRS export","deleteProject","No Diagram Content"," This mockup doesn't have any HTML content to display. ","fixedHeader","User stories generation started successfully","currency","There was an error loading the project details","Estimated Cost ($)","tabler-check","UML diagram updated successfully","userData","No User Stories Available","Project deleted successfully","hideDot","text-caption text-capitalize","text-medium-emphasis mb-4","size","Development plan created successfully","Failed to create development plan: ","content","Try adjusting your filters to see more results.","tabler-palette","numeric"," Changed by: ","Requirements generation started successfully","User story updated successfully","d-flex align-center mt-3 mt-sm-0","Requirement updated successfully","Failed to start development plan generation","I want to:","tabler-database","I want to","text-center pa-6","Failed to start UML diagram generation: ","Deployment Diagram","UML diagram deleted successfully","d-flex justify-center align-center h-100","diagram-svg","Benefit is required"," Current ","projectId"," Requirements ","small"," Regenerate User Story ","completed","text","generateDiagrams","description","text-caption text-medium-emphasis","text-subtitle-2 font-weight-medium mb-2 text-primary","tabler-maximize","ConfirmDialog","tabler-device-desktop","120px"," Development Plan ","pa-5","toLocaleDateString"," Comments ","tag"," This requirement doesn't have any user stories yet. ","Mockup updated successfully","Failed to update user story","data-v-fcfe1101","performance","active","tabler-puzzle"," This user story hasn't been modified since its creation. ","other","deleteUserStory","Edit UML Diagram","Search diagrams...","project-id","user-story-card h-100 d-flex flex-column","html_content","confirm"," Add User Story ","Budget:","chain","/service/mockups/","tabler-calendar-plus","diagram-metadata d-flex align-center px-6 py-3","language"," Cancel ","currentPlan","test","vertical","MockupPreviewDialog"," Generate UML Diagram ","mockup-metadata d-flex align-center px-6 py-3","project-info-card","Failed to update mockup","pb-0","nonfunctional","ms-1","Are you sure you want to delete this mockup? This action cannot be undone.","text-center pa-4","diagram","createPlanVersion","Failed to add comment: ","fetchUserStories","tabler-file-description","current-version-number","createUserStory","Interface","Current Development Plan","/service/user-stories/","draft","requirementId","text-subtitle-1 font-weight-bold mb-2","text-center px-10 py-6","Created:","slice","tabler-calendar-event","70vh"," This requirement hasn't been modified since its creation. ","post","text-medium-emphasis text-center pa-4","application_description","is-current","text-caption mt-3"," Overview ","Russian"," Details "," Created by: "," View All ","start","All Diagram Types","bottom","mt-3","Failed to fetch requirement"," more ","quality","UML diagram regeneration started","constructor","User story created successfully","Failed to regenerate UML diagram","refresh","Acceptance Criteria","short_description","strong","d-flex align-center mb-5","class","Failed to regenerate user story","category","opposite","Failed to create requirement: ","Technical Details","me-1","Create New Requirement","find","input","tabler-chart-dots","text-body-1 whitespace-pre-wrap","user-story-format mb-6","Failed to create user story","tabler-notebook","plans","security","Create New User Story","/generate_uml_diagrams/","Title must be less than 255 characters","Generating Diagram"," Requirement ","data","mt-5","tabler-messages","uiux","deployment"," This will use AI to regenerate this user story based on your feedback and the associated requirement. ","mockup","modelValue","tabler-star","isDialogVisible","setCurrentPlanVersion","NumberFormat","tabler-refresh","generateUserStories","estimated_cost","data-v-b1d59641","align-center justify-space-between mb-3","Constraint","status","So that:","Requirement created successfully","direction","PlanVersionCreateDialog","Failed to fetch development plans","updateMockup","font-weight-medium text-primary","Requirement Title","Role is required","Generate All User Stories","Description is required","Project updated successfully","VTable","Deadline:","diagram-preview mb-3"," Estimated total cost ","color_scheme","so that","Failed to generate UML diagrams: ","disabled","me-2","Requirement Type","88px","400px","fetchPlanVersionById","text-right","/regenerate/","preview-overlay d-flex justify-center align-center","delete"," Refresh "," No acceptance criteria added yet ","view-user-stories","uml_diagrams","tabler-search","px-0"," New Version "," This project does not have a development plan yet. ","Roles & Hours Breakdown","Language:","format","mb-3","userStoryData","pt-3 px-6","d-flex align-center","tabler-history","user-story","text-body-1 mb-3"," Generate UML Diagrams ","?project="," Creating version ","text-caption font-weight-medium","mb-3 d-flex align-center","No roles and hours defined","UserStoriesList","German","d-flex pt-5 px-5","d-flex align-center justify-space-between mb-3","requirementData","Category","comment-text mt-2 whitespace-pre-wrap","UML diagram generation started successfully","span","Generated Diagram","short","Diagram Name","regenerateDiagram","text-h5 mb-4","Title","d-flex align-center justify-center text-medium-emphasis","text-lg font-weight-medium","py-2","whitespace-pre-wrap","mb-4","Project Overview","This project does not have any UML diagrams yet.","text-medium-emphasis text-center pa-4 rounded bg-grey-lighten-5","Mockup Name","mobile","overflow-hidden position-relative rounded bg-grey-lighten-4","name","show","apply","Requirement Details","toLowerCase","Priority Modules/Features","tabler-file-code","Failed to add comment","diagrams","tabler-info-circle","push","resetValidation","stateObject","mockup-content pa-0","user-stories","trim","Cost","projects","?requirement=","text-subtitle-1 font-weight-medium","Completed","tabler-circle-check","All Categories","text-subtitle-2","put","Created: ","v-table","get","center","UserStoryStore","Failed to fetch UML diagrams","text-primary","Edit User Story","fillDot","non_functional_requirements","long","has-moderator-permission","is-admin","toUpperCase","text-medium-emphasis text-caption mb-2"," Back to All User Stories ","Failed to update UML diagram","Create","tabler-photo-off","ms-2","icon","192VycQZS","No UML Diagrams Found","Comment deleted successfully","Failed to update user story: "," View Full Details ","end","Failed to create development plan","created_at","Failed to start development plan generation: "," Delete ","deleteDiagram","__scopeId","300px","d-flex flex-column","mt-4"," No acceptance criteria added yet. Add at least one criterion to help clarify when this user story is considered done. ","prevent","fetchProjectById","Edit Requirement","tabler-chart-dots-2","sequence","notes","v-timeline--justify-","Plan version created successfully","Use Case Diagram"," Only one version available. Create more versions to see the history. ","data-v-9d431090","UserStoryCreateDialog","Feature","Explain what you want to improve about this user story...","srcdoc","mockup-preview mb-3","Active","updateUserStory","Generate User Stories for this Requirement","tbody"," This diagram doesn't have any content to display. Try regenerating it. ","This project does not have any requirements yet.","diagram_type","100%","Generating diagram...","debu","generatePlan","/service/development-plans/","No History Available","User story regeneration started","Development plan generation started successfully","18412eUoUli","No Comments Yet","/service/requirement-comments/","color"," Edit ","Regenerating User Story","Failed to update project: ","Failed to start requirements generation","w-100","error","Try adjusting your search to see more results.","benefit","text-subtitle-1 mb-4","600","RequirementCreateDialog",'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',"Failed to fetch plan version","string","text-center","pa-6","text-medium-emphasis font-weight-medium me-3"," Note: Direct editing of diagram content is not recommended. Use the Regenerate button to create a new version instead. ","e.g. search for products, export reports, reset my password","Requirement: ","splice","Technology Stack","functional","calc(70vh - 110px)","1091040XwYyXj"," Regenerate ","/service/projects/","d-flex py-3 px-5","text-medium-emphasis d-flex align-center","Version not found","Failed to delete user story","Mockup Preview","changed_at","type_of_application","none","RequirementStore","pa-4","generateMockups","v-timeline-divider__after","Title is required","tabler-device-mobile","State Diagram","value","hasModeratorPermission","version","updateDevelopmentPlan","Draft"," ...and ","text-body-1 text-medium-emphasis mb-6","auto","createDevelopmentPlan","Quality","developmentPlan"," Created: ","Updated: ","Update","Created","density","Failed to start UML diagram generation","8648118xdTEcG","Roles and hours must be valid JSON","Color Scheme:","Component Diagram","split","No Development Plan","thead"," Diagram","pointer","regenerate","Failed to delete mockup","UI/UX","white","currentRequirement"," Back to Projects ","enter","exportSrs","my-5","compact","secondary","calc(100vh - 180px)","Actions"," Development Plan v","Failed to fetch requirements","Failed to update plan version: ","history"," Create Version ","text-medium-emphasis","data-v-f1e2d8ab","v-timeline-item","1605306ygrmXj","x-small","Are you sure you want to delete this user story? This action cannot be undone.","comments","bg-grey-lighten-5 rounded pa-3","/service/development-plan-versions/","Failed to set as current version: ","fullscreen"," Add Comment ","d-flex flex-column gap-2","data-v-af74848b","hours","Action (I want to...)","deleteRequirement","2738386EGBNVu","calc(100vh - 120px)"," diagram generation started","150px","assign","text-caption text-medium-emphasis ml-2","d-flex flex-column justify-center align-center pa-6","Story","stop","primary","Failed to delete UML diagram","Failed to create user story: ","Unknown","align-center justify-center gap-2","700","elevated","interface","diagram-content pa-0","v-timeline","10CfcbEq","Failed to load project details","text-h6 mb-3","Failed to delete comment","Feedback for Regeneration","All Statuses","title","plan-id","model-value","tabler-calendar","fetchUserStoryById","v-timeline--truncate-line-start"," Export SRS ","Benefit (So that...)","archived","d-flex justify-end mt-2","mt-6","updated_at","length","tonal","v-timeline--align-","both","This user story is currently being regenerated. Please check back shortly.","Failed to start user stories generation: ","component","development-plan","tabler-list-details","user_stories","fetchRequirementById","d-flex align-center mb-2","tabler-function","update:modelValue","Comment added successfully","activity","operating_system","Failed to update plan version","Failed to update mockup: ","e.g. I can find what I need quickly, I can analyze the data offline","d-flex justify-center align-center","loading","color-swatch rounded me-1"," Save Changes ","Failed to fetch mockup","hover"," Be the first to comment on this user story. ","replace","regenerateUserStory","tabler-plus"," History ","text-body-2 mb-3","current_version_number","text-h5","warning","filter","text-body-2 whitespace-pre-wrap","Roles & Hours (JSON format)","Estimated cost must be a number","/new_version/","iframe","d-flex align-center justify-space-between","align","Role (As a...)","data-v-3f565aa3","USD","Description","data-v-3d0ce27d","Hours","editMode","Diagram Type","Name is required","Failed to start requirements generation: ","rules","user","v-timeline--truncate-line-end","d-flex align-center justify-space-between mt-3"];return(ut=function(){return n})()}const at=Ge()({name:a(553),props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Je(),...ht(),...st(),...vt()},setup(n,o){const e=a;let{slots:u}=o;const{themeClasses:j}=_t(n),{densityClasses:M}=gt(n);return Xe(()=>t(n[e(1212)],{class:[e(646),{"v-table--fixed-height":!!n[e(1087)],"v-table--fixed-header":n[e(1157)],"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!u[e(1034)],"v-table--has-bottom":!!u[e(486)],"v-table--hover":n[e(882)]},j.value,M[e(759)],n[e(500)]],style:n.style},{default:()=>{var P,V,k;return[(P=u[e(1034)])==null?void 0:P.call(u),u[e(1116)]?t("div",{class:"v-table__wrapper",style:{height:Be(n[e(1087)])}},[t("table",null,[u.default()])]):(V=u.wrapper)==null?void 0:V.call(u),(k=u.bottom)==null?void 0:k.call(u)]}})),{}}}),St=Ge()({name:"VTimeline",props:{align:{type:String,default:"center",validator:n=>["center",a(484)][a(1014)](n)},direction:{type:String,default:a(444),validator:n=>[a(444),"horizontal"].includes(n)},justify:{type:String,default:a(766),validator:n=>[a(766),a(648)][a(1014)](n)},side:{type:String,validator:n=>n==null||[a(484),a(671)][a(1014)](n)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:n=>[a(484),a(671),a(860)].includes(n)},...Je(),...ht(),...st(),...vt()},setup(n,o){const e=a;let{slots:u}=o;const{themeClasses:j}=_t(n),{densityClasses:M}=gt(n);Rt({VTimelineDivider:{lineColor:Ae(n,e(1038))},VTimelineItem:{density:Ae(n,e(774)),lineInset:Ae(n,e(1053))}});const P=K(()=>{const k=e,_=n[k(991)]?n[k(991)]:n[k(774)]!==k(1116)?k(671):null;return _&&"v-timeline--side-"+_}),V=K(()=>{const k=e,_=[k(850),k(912)];switch(n[k(971)]){case k(860):return _;case k(484):return _[0];case"end":return _[1];default:return null}});return Xe(()=>t(n[e(1212)],{class:[e(838),e(1047)+n[e(543)],e(859)+n[e(899)],e(688)+n[e(1049)],V[e(759)],{"v-timeline--inset-line":!!n[e(1053)]},j[e(759)],M[e(759)],P[e(759)],n[e(500)]],style:[{"--v-timeline-line-thickness":Be(n.lineThickness)},n[e(1127)]]},u)),{}}}),Kt=Ge()({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:bt,iconColor:String,lineColor:String,...Je(),...kt(),...wt(),...xt()},setup(n,o){const e=a;let{slots:u}=o;const{sizeClasses:j,sizeStyles:M}=Bt(n,"v-timeline-divider__dot"),{backgroundColorStyles:P,backgroundColorClasses:V}=pt(Ae(n,e(999))),{roundedClasses:k}=At(n,e(955)),{elevationClasses:_}=Tt(n),{backgroundColorClasses:E,backgroundColorStyles:$}=pt(Ae(n,e(1038)));return Xe(()=>t("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":n[e(653)]},n[e(500)]],style:n[e(1127)]},[t(e(928),{class:[e(1043),E[e(759)]],style:$[e(759)]},null),!n[e(1167)]&&t(e(928),{key:e(1143),class:[e(955),_[e(759)],k[e(759)],j[e(759)]],style:M[e(759)]},[t(e(928),{class:["v-timeline-divider__inner-dot",V[e(759)],k[e(759)]],style:P[e(759)]},[u[e(1116)]?t(Lt,{key:e(935),disabled:!n[e(665)],defaults:{VIcon:{color:n[e(1009)],icon:n.icon,size:n[e(1170)]}}},u[e(1116)]):t(B,{key:e(665),color:n[e(1009)],icon:n[e(665)],size:n.size},null)])]),t(e(928),{class:[e(755),E[e(759)]],style:$[e(759)]},null)])),{}}}),qt=Ge()({name:"VTimelineItem",props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:bt,iconColor:String,lineInset:[Number,String],...Je(),...Nt(),...xt(),...kt(),...wt(),...st()},setup(n,o){const e=a;let{slots:u}=o;const{dimensionStyles:j}=Ot(n),M=N(0),P=N();return ze(P,V=>{var _;const k=he;V&&(M[k(759)]=((_=V.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:_.getBoundingClientRect()[k(982)])??0)},{flush:e(474)}),Xe(()=>{var V,k;return t("div",{class:[e(805),{"v-timeline-item--fill-dot":n[e(653)]},n[e(500)]],style:[{"--v-timeline-dot-size":Be(M[e(759)]),"--v-timeline-line-inset":n.lineInset?e(1081)+Be(n.lineInset)+")":Be(0)},n[e(1127)]]},[t(e(928),{class:e(998),style:j[e(759)]},[(V=u[e(1116)])==null?void 0:V.call(u)]),t(Kt,{ref:P,hideDot:n[e(1167)],icon:n[e(665)],iconColor:n[e(1009)],size:n.size,elevation:n.elevation,dotColor:n[e(999)],fillDot:n[e(653)],rounded:n[e(1057)]},{default:u[e(665)]}),n[e(774)]!==e(794)&&t(e(928),{class:e(1005)},[!n.hideOpposite&&((k=u[e(503)])==null?void 0:k.call(u))])])}),{}}}),Yt=d(a(602),{class:"text-5xl"},"!",-1),Qt={class:a(610)},Oe={__name:a(1205),props:{confirmationMsg:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:[a(1072),a(433)],setup(n,{emit:o}){const e=n,u=P=>{o(he(1072),P)},j=()=>{o(he(433),!0),u(!1)},M=()=>{o("confirm",!1),o("update:isDialogVisible",!1)};return(P,V)=>{const k=he;return p(),R(we,{"max-width":k(918),"model-value":e[k(531)],"onUpdate:modelValue":u},{default:l(()=>[t(se,{class:k(468)},{default:l(()=>[t(Q,null,{default:l(()=>[t(J,{icon:"",variant:"outlined",color:"warning",class:k(613),style:{width:"88px",height:k(563),"pointer-events":k(751)}},{default:l(()=>[Yt]),_:1}),d("h6",Qt,w(e.confirmationMsg),1)]),_:1}),t(me,{class:k(833)},{default:l(()=>[t(J,{variant:k(835),onClick:j},{default:l(()=>[b(" Confirm ")]),_:1}),t(J,{color:k(795),variant:k(858),onClick:M},{default:l(()=>[b(k(441))]),_:1})]),_:1})]),_:1})]),_:1},8,[k(847)])}}},dt=Le({id:a(649),state:()=>({userStories:[],currentUserStory:null,loading:!1,error:null}),actions:{async fetchUserStories(n=null){const o=a;this.loading=!0;try{let e=o(464);n&&(e+=o(638)+n);const u=await ee[o(647)](e);return u[o(540)]===200?(this.userStories=u[o(522)],{data:u[o(522)],error:null}):{data:[],error:u[o(522)]}}catch(e){return this[o(722)]=e.message||o(1147),{data:[],error:this[o(722)]}}finally{this[o(878)]=!1}},async fetchUserStoryById(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(647)]("/service/user-stories/"+n+"/");return e[o(540)]===200?(this[o(1050)]=e[o(522)],{data:e.data,error:null}):{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||"Failed to fetch user story",{data:null,error:this.error}}finally{this[o(878)]=!1}},async createUserStory(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(474)](o(464),n);return e[o(540)]===201?(this[o(1002)][o(857)]&&this[o(1002)][o(630)](e[o(522)]),{data:e.data,error:null}):{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e.message||"Failed to create user story",{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async updateUserStory(n,o){const e=a;this[e(878)]=!0;try{const u=await ee[e(644)](e(464)+n+"/",o);if(u[e(540)]===200){if(this[e(1002)][e(857)]){const j=this[e(1002)][e(946)](M=>M.id===n);j!==-1&&(this.userStories[j]=u.data)}return this[e(1050)]&&this[e(1050)].id===n&&(this.currentUserStory=u[e(522)]),{data:u[e(522)],error:null}}return{data:null,error:u.data}}catch(u){return this.error=u[e(949)]||e(1215),{data:null,error:this[e(722)]}}finally{this[e(878)]=!1}},async deleteUserStory(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(569)](o(464)+n+"/");return e[o(540)]===204?(this.userStories[o(857)]&&(this[o(1002)]=this[o(1002)][o(892)](u=>u.id!==n)),this[o(1050)]&&this[o(1050)].id===n&&(this[o(1050)]=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(722)]=e[o(949)]||o(747),{success:!1,error:this[o(722)]}}finally{this[o(878)]=!1}},async regenerateUserStory(n,o=""){const e=a;this[e(878)]=!0;try{const u=await ee.post(e(464)+n+e(567),{feedback:o});return u[e(540)]===202?{data:u.data,error:null}:{data:null,error:u[e(522)]}}catch(u){return this[e(722)]=u[e(949)]||e(501),{data:null,error:this[e(722)]}}finally{this.loading=!1}},async createComment(n,o){const e=a;this[e(878)]=!0;try{const u=await ee[e(474)]("/service/user-story-comments/",{user_story:n,text:o[e(1199)],status:o[e(540)]||e(1218)});return u.status===201?{data:u[e(522)],error:null}:{data:null,error:u[e(522)]}}catch(u){return this[e(722)]=u[e(949)]||e(1109),{data:null,error:this[e(722)]}}finally{this.loading=!1}},async deleteComment(n){const o=a;this.loading=!0;try{const e=await ee[o(569)](o(1098)+n+"/");return e[o(540)]===204?{success:!0,error:null}:{success:!1,error:e[o(522)]}}catch(e){return this[o(722)]=e.message||o(842),{success:!1,error:this[o(722)]}}finally{this[o(878)]=!1}}}}),mt=Le({id:"UmlDiagramStore",state:()=>({diagrams:[],currentDiagram:null,loading:!1,error:null}),actions:{async fetchDiagrams(n=null,o=null){const e=a;this.loading=!0;try{let u="/service/uml-diagrams/";const j={};n&&(j.project=n),o&&(j.diagram_type=o);const M=await ee[e(647)](u,{params:j});return M[e(540)]===200?(this[e(628)]=M[e(522)],{data:M[e(522)],error:null}):{data:[],error:M[e(522)]}}catch(u){return this[e(722)]=u[e(949)]||e(650),{data:[],error:this[e(722)]}}finally{this[e(878)]=!1}},async fetchDiagramById(n){const o=a;this.loading=!0;try{const e=await ee[o(647)]("/service/uml-diagrams/"+n+"/");return e[o(540)]===200?(this[o(1020)]=e[o(522)],{data:e[o(522)],error:null}):{data:null,error:e[o(522)]}}catch(e){return this.error=e[o(949)]||o(1022),{data:null,error:this.error}}finally{this[o(878)]=!1}},async createDiagram(n){const o=a;this[o(878)]=!0;try{const e=await ee.post("/service/uml-diagrams/",n);return e[o(540)]===201?(this[o(628)][o(857)]&&this[o(628)][o(630)](e.data),{data:e[o(522)],error:null}):{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||o(962),{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async updateDiagram(n,o){const e=a;this[e(878)]=!0;try{const u=await ee[e(644)](e(995)+n+"/",o);if(u.status===200){if(this[e(628)][e(857)]){const j=this[e(628)][e(946)](M=>M.id===n);j!==-1&&(this[e(628)][j]=u.data)}return this[e(1020)]&&this.currentDiagram.id===n&&(this[e(1020)]=u[e(522)]),{data:u[e(522)],error:null}}return{data:null,error:u.data}}catch(u){return this[e(722)]=u[e(949)]||"Failed to update UML diagram",{data:null,error:this[e(722)]}}finally{this.loading=!1}},async deleteDiagram(n){const o=a;this.loading=!0;try{const e=await ee[o(569)]("/service/uml-diagrams/"+n+"/");return e[o(540)]===204?(this[o(628)][o(857)]&&(this[o(628)]=this[o(628)][o(892)](u=>u.id!==n)),this.currentDiagram&&this[o(1020)].id===n&&(this[o(1020)]=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(722)]=e[o(949)]||o(830),{success:!1,error:this.error}}finally{this[o(878)]=!1}},async regenerateDiagram(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(474)](o(995)+n+o(567));return e.status===202?{data:e[o(522)],error:null}:{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||"Failed to regenerate UML diagram",{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async generateDiagrams(n,o=a(500)){const e=a;this[e(878)]=!0;try{const u=await ee[e(474)](e(743)+n+e(518),{diagram_type:o});return u[e(540)]===202?{data:u[e(522)],error:null}:{data:null,error:u[e(522)]}}catch(u){return this[e(722)]=u[e(949)]||e(1095),{data:null,error:this.error}}finally{this.loading=!1}}}}),Se=n=>(Ce(a(901)),n=n(),Ue(),n),Wt={class:"d-flex flex-column gap-4"},el={class:a(815)},tl={class:a(584)},ll=Se(()=>d(a(602),{class:a(733),style:{"min-width":a(1207)}},a(469),-1)),al={class:a(584)},sl=Se(()=>d(a(602),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":a(1207)}},"Last Updated:",-1)),rl={class:"d-flex align-center"},ol=Se(()=>d(a(602),{class:a(733),style:{"min-width":a(1207)}},"Type:",-1)),nl={class:a(584)},il=Se(()=>d(a(602),{class:a(733),style:{"min-width":"120px"}},a(579),-1)),cl={key:0,class:a(584)},ul=Se(()=>d("span",{class:a(733),style:{"min-width":a(1207)}},a(554),-1)),dl={key:1,class:a(584)},ml=Se(()=>d(a(602),{class:a(733),style:{"min-width":a(1207)}},a(435),-1)),pl={key:2,class:a(584)},fl=Se(()=>d(a(602),{class:a(733),style:{"min-width":a(1207)}},a(778),-1)),yl={class:"d-flex align-center"},hl={class:a(664)},vl={class:"whitespace-pre-wrap"},_l={class:a(954)},gl={key:0},bl=Se(()=>d("h6",{class:a(467)},a(738),-1)),kl={class:"whitespace-pre-wrap"},wl={key:1},xl=Se(()=>d("h6",{class:"text-subtitle-1 font-weight-bold mb-2"},"Operating System",-1)),Vl={class:a(954)},Cl={class:a(1137)},Ul={key:0,class:a(612)},Dl=Se(()=>d("h6",{class:a(467)},a(1144),-1)),Sl={class:a(612)},ql={class:"whitespace-pre-wrap"},zl={class:a(612)},jl={__name:a(1145),props:{project:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(n){const o=a,e=n,u=V=>{const k=he;return V?new Date(parseInt(V))[k(1210)](k(1138),{year:k(1176),month:k(655),day:k(1176)}):"Not set"},j=K(()=>{const V=he;switch(e.project[V(540)]){case"draft":return V(891);case V(1218):return V(940);case"archived":return V(795);case"completed":return"info";default:return"primary"}}),M=K(()=>{const V=he;switch(e[V(1120)][V(750)]){case V(1106):return V(1039);case V(618):return V(757);case V(1129):return V(1206);case V(1108):return"tabler-api";default:return V(976)}}),P={en:o(1019),ru:o(480),de:o(595)};return(V,k)=>{const _=o;return p(),R(Q,{class:_(732)},{default:l(()=>[t(oe,null,{default:l(()=>[t(X,{cols:"12",md:"6"},{default:l(()=>[d(_(928),Wt,[t(se,{border:"",class:_(448)},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(je,{color:_(829),variant:_(858),rounded:"",size:"42"},{default:l(()=>[t(B,{icon:S(M)},null,8,[_(665)])]),_:1})]),append:l(()=>[t(W,{size:_(1196),color:S(j),label:""},{default:l(()=>[b(w(Ne(n[_(1120)].status)),1)]),_:1},8,[_(716)])]),default:l(()=>[t(ne,null,{default:l(()=>[b(_(614))]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d("div",el,[d("div",tl,[ll,d("span",null,w(u(n.project[_(673)])),1)]),d(_(928),al,[sl,d(_(602),null,w(u(n.project.updated_at)),1)]),d(_(928),rl,[ol,t(W,{size:"small"},{default:l(()=>[b(w(n[_(1120)].type_of_application),1)]),_:1})]),d(_(928),nl,[il,t(W,{size:"small"},{default:l(()=>{return[b(w((E=n[_(1120)][_(440)],P[E]||E)),1)];var E}),_:1})]),n[_(1120)].deadline?(p(),z("div",cl,[ul,d(_(602),null,w(u(n[_(1120)].deadline)),1)])):O("",!0),n[_(1120)][_(1065)]?(p(),z("div",dl,[ml,d(_(602),null,"$"+w(n[_(1120)].preliminary_budget),1)])):O("",!0),n[_(1120)][_(557)]?(p(),z(_(928),pl,[fl,d("div",yl,[(p(!0),z(le,null,ie(n[_(1120)][_(557)][_(780)](","),(E,$)=>{const I=_;return p(),z(I(928),{key:$,class:I(879),style:Te({backgroundColor:E[I(635)]()}),title:I(716)},null,4)}),128)),d(_(602),hl,w(n[_(1120)][_(557)]),1)])])):O("",!0)])]),_:1})]),_:1}),n[_(1120)][_(1061)]?(p(),R(se,{key:0,border:"",class:_(448)},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(B,{color:_(829),icon:_(865)})]),default:l(()=>[t(ne,null,{default:l(()=>[b("Additional Requirements")]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d(_(928),vl,w(n[_(1120)][_(1061)]),1)]),_:1})]),_:1})):O("",!0),n[_(1120)][_(1099)]||n[_(1120)][_(873)]?(p(),R(se,{key:1,border:"",class:_(448)},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(B,{color:_(829),icon:"tabler-device-laptop-code"})]),default:l(()=>[t(ne,null,{default:l(()=>[b(_(505))]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d("div",_l,[n.project.technology_stack?(p(),z(_(928),gl,[bl,d(_(928),kl,w(n.project[_(1099)]),1)])):O("",!0),n[_(1120)][_(873)]?(p(),z(_(928),wl,[xl,d(_(928),null,w(n.project[_(873)]),1)])):O("",!0)])]),_:1})]),_:1})):O("",!0)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[d(_(928),Vl,[t(se,{border:"",class:_(448)},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(B,{color:_(829),icon:_(459)})]),default:l(()=>[t(ne,null,{default:l(()=>[b(_(903))]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d(_(928),Cl,w(n[_(1120)][_(497)]),1),n.project[_(476)]?(p(),z("div",Ul,[Dl,d(_(928),null,w(n.project[_(476)]),1)])):O("",!0)]),_:1})]),_:1}),n[_(1120)].target_users?(p(),R(se,{key:0,border:"",class:"project-info-card"},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(B,{color:_(829),icon:"tabler-users"})]),default:l(()=>[t(ne,null,{default:l(()=>[b("Target Users")]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d(_(928),Sl,w(n[_(1120)].target_users),1)]),_:1})]),_:1})):O("",!0),n.project[_(654)]?(p(),R(se,{key:1,border:"",class:"project-info-card"},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(B,{color:_(829),icon:"tabler-chart-bubble"})]),default:l(()=>[t(ne,null,{default:l(()=>[b(_(1082))]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d(_(928),ql,w(n[_(1120)][_(654)]),1)]),_:1})]),_:1})):O("",!0),n[_(1120)].priority_modules?(p(),R(se,{key:2,border:"",class:"project-info-card"},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(B,{color:_(829),icon:_(530)})]),default:l(()=>[t(ne,null,{default:l(()=>[b(_(625))]),_:1})]),_:1}),t(ae),t(Q,null,{default:l(()=>[d(_(928),zl,w(n[_(1120)][_(1013)]),1)]),_:1})]),_:1})):O("",!0)])]),_:1})]),_:1})]),_:1})}}},Fl=Ve(jl,[["__scopeId",a(901)]]),zt=Le({id:a(752),state:()=>({requirements:[],currentRequirement:null,loading:!1,error:null}),actions:{async fetchRequirements(n=null){const o=a;this.loading=!0;try{let e=o(994);n&&(e+="?project="+n);const u=await ee[o(647)](e);return u[o(540)]===200?(this[o(929)]=u[o(522)],{data:u[o(522)],error:null}):{data:[],error:u[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||o(799),{data:[],error:this[o(722)]}}finally{this[o(878)]=!1}},async fetchRequirementById(n){const o=a;this[o(878)]=!0;try{const e=await ee.get(o(994)+n+"/");return e.status===200?(this.currentRequirement=e[o(522)],{data:e[o(522)],error:null}):{data:null,error:e.data}}catch(e){return this[o(722)]=e[o(949)]||o(488),{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async createRequirement(n){const o=a;this[o(878)]=!0;try{const e=await ee.post(o(994),n);return e[o(540)]===201?(this.requirements[o(857)]&&this[o(929)][o(630)](e[o(522)]),{data:e[o(522)],error:null}):{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||"Failed to create requirement",{data:null,error:this[o(722)]}}finally{this.loading=!1}},async updateRequirement(n,o){const e=a;this[e(878)]=!0;try{const u=await ee[e(644)](e(994)+n+"/",o);if(u[e(540)]===200){if(this[e(929)][e(857)]){const j=this.requirements[e(946)](M=>M.id===n);j!==-1&&(this[e(929)][j]=u[e(522)])}return this[e(789)]&&this[e(789)].id===n&&(this[e(789)]=u[e(522)]),{data:u[e(522)],error:null}}return{data:null,error:u.data}}catch(u){return this[e(722)]=u.message||e(978),{data:null,error:this.error}}finally{this[e(878)]=!1}},async deleteRequirement(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(569)]("/service/requirements/"+n+"/");return e[o(540)]===204?(this.requirements[o(857)]&&(this.requirements=this.requirements[o(892)](u=>u.id!==n)),this[o(789)]&&this[o(789)].id===n&&(this[o(789)]=null),{success:!0,error:null}):{success:!1,error:e[o(522)]}}catch(e){return this[o(722)]=e.message||o(1151),{success:!1,error:this[o(722)]}}finally{this[o(878)]=!1}},async createComment(n,o){const e=a;this[e(878)]=!0;try{const u=await ee[e(474)](e(715),{requirement:n,text:o.text,status:o[e(540)]||e(1218),responsible_user:o[e(1086)]||null});return u[e(540)]===201?{data:u[e(522)],error:null}:{data:null,error:u[e(522)]}}catch(u){return this[e(722)]=u.message||e(1109),{data:null,error:this[e(722)]}}finally{this[e(878)]=!1}},async deleteComment(n){const o=a;this[o(878)]=!0;try{const e=await ee.delete(o(715)+n+"/");return e[o(540)]===204?{success:!0,error:null}:{success:!1,error:e[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||"Failed to delete comment",{success:!1,error:this.error}}finally{this[o(878)]=!1}}}}),qe=n=>(Ce(a(816)),n=n(),Ue(),n),Ml={key:0,class:a(890)},Il={key:1,class:a(890)},Pl={key:0},Rl={key:1},Bl={class:a(499)},Al={class:"text-medium-emphasis d-flex align-center"},Tl={class:a(1076)},Ll={class:a(956)},Nl={class:"text-h4 mb-4"},Ol={class:a(511)},El={key:0,class:a(1186)},Hl=qe(()=>d("h4",{class:a(984)},a(1165),-1)),Gl=qe(()=>d("p",{class:a(1169)},a(1213),-1)),Jl={key:1},Xl={class:"d-flex justify-space-between align-center mb-4"},Zl=qe(()=>d("h5",{class:a(890)},a(989),-1)),$l={class:a(938)},Kl=qe(()=>d(a(498),null,a(1183),-1)),Yl=qe(()=>d(a(498),null,a(541),-1)),Ql={key:0,class:"mt-3"},Wl=qe(()=>d(a(928),{class:a(643)},a(1111),-1)),ea={class:a(1132)},ta={key:0},la={key:0,class:"text-center mt-4"},aa={key:0,class:"text-center pa-6"},sa=qe(()=>d("h4",{class:"text-h6 mb-2"},a(710),-1)),ra=qe(()=>d("p",{class:"text-medium-emphasis"},a(473),-1)),oa={key:1},na={class:"text-caption"},ia={class:"text-caption text-medium-emphasis"},ca={class:a(868)},ua={class:a(956)},da={class:a(893)},ma={class:a(854)},pa={key:1,class:a(1186)},fa=qe(()=>d("h4",{class:a(984)},"No Comments Yet",-1)),ya=qe(()=>d("p",{class:"text-medium-emphasis"},a(1012),-1)),ha={key:2},va={class:a(584)},_a={class:a(584)},ga={class:a(825)},ba={class:a(600)},ka={__name:a(1062),props:{modelValue:{type:Boolean,default:!1},requirement:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(870),a(1124),a(569),a(572)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u[e(529)],set:y=>o(e(870),y)}),M=zt(),P=N(0),V=N(!1),k=N({...u[e(1103)]}),_=N(""),E=N(!1),$=N({show:!1,text:"",color:e(940)}),I=[{title:e(1148),value:"functional"},{title:e(1044),value:e(451)},{title:"UI/UX",value:e(525)},{title:e(931),value:e(1221)}],H=[{title:e(763),value:"draft"},{title:"Active",value:e(1218)},{title:e(1067),value:e(853)},{title:"Completed",value:"completed"}],U=[{title:e(694),value:"feature"},{title:e(539),value:e(952)},{title:e(768),value:e(490)},{title:e(462),value:e(836)},{title:e(986),value:e(516)},{title:"Performance",value:e(1217)},{title:e(931),value:e(1221)}],Z=K(()=>{const y=e;return u[y(1103)][y(801)]||[]}),q=K(()=>{const y=e;return u[y(1103)][y(809)]||[]}),D=K(()=>u.requirement.user_stories||[]),h=y=>{const m=e;return y?(y=parseInt(y),new Date(y)[m(1210)](m(1138),{year:"numeric",month:"short",day:m(1176),hour:m(1e3),minute:m(1e3)})):""},c=y=>{const m=e;return y?y[m(968)](0)[m(658)]()+y.slice(1):""},C=()=>{const y=e;V[y(759)]&&(k[y(759)]={...u[y(1103)]}),V[y(759)]=!V[y(759)]},v=()=>{const y=e;o(y(1124),k[y(759)]),V[y(759)]=!1},g=()=>{o(e(569))},re=()=>{o("view-user-stories",u[e(1103)]),j.value=!1},F=async()=>{const y=e;if(_[y(759)][y(635)]()){E[y(759)]=!0;try{const{data:m,error:s}=await M.createComment(u[y(1103)].id,{text:_.value,status:y(1218)});if(m&&!s){T(y(871)),_[y(759)]="";const{data:r}=await M.fetchRequirementById(u[y(1103)].id);r&&Object.assign(u[y(1103)],r)}else T(y(627),y(722))}catch(m){T(y(457)+m[y(949)],y(722))}finally{E.value=!1}}},T=(y,m="success")=>{$[e(759)]={show:!0,text:y,color:m}};return ze(()=>u.requirement,y=>{k[e(759)]={...y}},{deep:!0}),(y,m)=>{const s=e,r=ve(s(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":m[11]||(m[11]=f=>Me(j)?j[s(759)]=f:null),"max-width":s(1003),scrollable:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:s(596)},{default:l(()=>[V[s(759)]?(p(),z("h5",Ml,s(684))):(p(),z("h5",Il,s(623))),t(te),t(r,{onClick:m[0]||(m[0]=f=>j[s(759)]=!1)},{default:l(()=>[t(B,{icon:s(967)})]),_:1})]),_:1}),t(Q,{class:s(450)},{default:l(()=>[t(nt,{modelValue:P[s(759)],"onUpdate:modelValue":m[1]||(m[1]=f=>P[s(759)]=f),"slider-color":s(829),"align-tabs":s(484)},{default:l(()=>[t(_e,{value:"0"},{default:l(()=>[t(B,{size:"18",icon:s(629),start:""}),b(s(481))]),_:1}),t(_e,{value:"1"},{default:l(()=>[t(B,{size:"18",icon:"tabler-user-check",start:""}),b(s(1104)),S(D)[s(857)]?(p(),R(W,{key:0,size:s(807),color:"primary",class:s(664)},{default:l(()=>[b(w(S(D)[s(857)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"2"},{default:l(()=>[t(B,{size:"18",icon:s(585),start:""}),b(s(887)),S(Z).length?(p(),R(W,{key:0,size:s(807),color:"primary",class:s(664)},{default:l(()=>[b(w(S(Z)[s(857)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"3"},{default:l(()=>[t(B,{size:"18",icon:s(524),start:""}),b(s(1211)),S(q).length?(p(),R(W,{key:0,size:s(807),color:s(829),class:"ms-2"},{default:l(()=>[b(w(S(q)[s(857)]),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(ae),t(Q,{class:s(732),style:{"min-height":s(564),"max-height":"70vh"}},{default:l(()=>[t(ct,{modelValue:P[s(759)],"onUpdate:modelValue":m[8]||(m[8]=f=>P[s(759)]=f),class:"mt-5"},{default:l(()=>[t(ge,{value:"0"},{default:l(()=>[V[s(759)]?(p(),z(s(928),Pl,[t(Ie,{onSubmit:De(v,[s(682)])},{default:l(()=>[t(oe,{class:"mt-3"},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[s(759)][s(845)],"onUpdate:modelValue":m[2]||(m[2]=f=>k[s(759)][s(845)]=f),label:s(608),required:"",rules:[f=>!!f||s(756)]},null,8,[s(529),"rules"])]),_:1}),t(X,{cols:"12",md:"4"},{default:l(()=>[t(pe,{modelValue:k[s(759)][s(502)],"onUpdate:modelValue":m[3]||(m[3]=f=>k.value.category=f),label:s(599),items:I,required:""},null,8,[s(529)])]),_:1}),t(X,{cols:"12",md:"4"},{default:l(()=>[t(pe,{modelValue:k[s(759)][s(933)],"onUpdate:modelValue":m[4]||(m[4]=f=>k[s(759)][s(933)]=f),label:s(562),items:U,required:""},null,8,[s(529)])]),_:1}),t(X,{cols:"12",md:"4"},{default:l(()=>[t(pe,{modelValue:k[s(759)].status,"onUpdate:modelValue":m[5]||(m[5]=f=>k[s(759)][s(540)]=f),label:s(1093),items:H,required:""},null,8,[s(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:k[s(759)][s(1201)],"onUpdate:modelValue":m[6]||(m[6]=f=>k[s(759)][s(1201)]=f),label:s(903),required:"",rows:"8",rules:[f=>!!f||s(551)]},null,8,[s(529),s(910)])]),_:1})]),_:1})]),_:1},8,[s(1037)])])):(p(),z(s(928),Rl,[d(s(928),Bl,[t(W,{color:S(We)(n[s(1103)].category),size:s(1196),label:"",class:s(561)},{default:l(()=>[b(w(n[s(1103)][s(502)]),1)]),_:1},8,[s(716)]),t(W,{color:S(be)(n.requirement.status),size:s(1196),label:""},{default:l(()=>[b(w(c(n[s(1103)][s(540)])),1)]),_:1},8,[s(716)]),t(W,{color:s(795),size:s(1196),label:"",class:s(664)},{default:l(()=>[b(" v"+w(n.requirement[s(930)]),1)]),_:1}),n.requirement[s(933)]?(p(),R(W,{key:0,color:"info",size:s(1196),label:"",class:s(664)},{default:l(()=>[b(w(n.requirement[s(933)]),1)]),_:1})):O("",!0),t(te),d(s(928),Al,[t(B,{size:"18",icon:"tabler-calendar",class:"me-1"}),d(s(602),Tl,"Updated: "+w(h(n[s(1103)].updated_at)),1),t(B,{size:"18",icon:s(438),class:"me-1"}),d(s(602),Ll,s(645)+w(h(n[s(1103)][s(673)])),1)])]),d("h4",Nl,w(n.requirement[s(845)]),1),d("div",Ol,w(n.requirement[s(1201)]),1)]))]),_:1}),t(ge,{value:"1"},{default:l(()=>[S(D)[s(857)]===0?(p(),z("div",El,[t(B,{icon:"tabler-user-check",size:"64",color:"secondary",class:s(581)}),Hl,Gl,t(J,{color:s(829),onClick:re},{default:l(()=>[b(s(1078))]),_:1})])):(p(),z(s(928),Jl,[d(s(928),Xl,[Zl,t(J,{color:s(829),variant:s(858),onClick:re},{default:l(()=>[b(" View All User Stories ")]),_:1})]),(p(!0),z(le,null,ie(S(D)[s(470)](0,3),(f,i)=>{const x=s;return p(),R(se,{key:f.id,class:x(613),border:""},{default:l(()=>[t(fe,null,{append:l(()=>[t(W,{color:S(be)(f[x(540)]),size:"small",label:""},{default:l(()=>[b(w(f.status),1)]),_:2},1032,[x(716)])]),default:l(()=>[t(ne,null,{default:l(()=>[b(x(948)+w(f[x(1023)]),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:l(()=>[d("p",$l,[Kl,b(" "+w(f[x(992)]),1)]),d("p",null,[Yl,b(" "+w(f.benefit),1)]),f.acceptance_criteria&&f[x(1096)][x(857)]>0?(p(),z(x(928),Ql,[Wl,d("ul",ea,[(p(!0),z(le,null,ie(f[x(1096)].slice(0,2),(L,A)=>(p(),z("li",{key:A},w(L),1))),128)),f[x(1096)][x(857)]>2?(p(),z("li",ta,x(764)+w(f.acceptance_criteria.length-2)+x(489),1)):O("",!0)])])):O("",!0)]),_:2},1024)]),_:2},1024)}),128)),S(D)[s(857)]>3?(p(),z("div",la,[t(J,{color:s(829),variant:s(858),onClick:re},{default:l(()=>[b(s(483)+w(S(D).length)+" User Stories ",1)]),_:1})])):O("",!0)]))]),_:1}),t(ge,{value:"2"},{default:l(()=>[S(Z).length===0?(p(),z("div",aa,[t(B,{icon:"tabler-history",size:"64",color:s(795),class:s(581)}),sa,ra])):(p(),z(s(928),oa,[t(St,{density:"compact",align:"start"},{default:l(()=>[(p(!0),z(le,null,ie(S(Z),(f,i)=>{const x=s;return p(),R(qt,{key:i,"dot-color":"primary",size:x(1196)},{opposite:l(()=>[d("div",na,w(h(f[x(749)])),1),d(x(928),ia,"v"+w(f[x(930)]),1)]),default:l(()=>[t(se,{border:""},{default:l(()=>[t(fe,null,{append:l(()=>[t(W,{color:S(be)(f[x(540)]),size:"small",label:"",class:x(664)},{default:l(()=>[b(w(f.status),1)]),_:2},1032,[x(716)])]),default:l(()=>[t(ne,null,{default:l(()=>[b(w(f.title),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:l(()=>[d("div",ca,[t(W,{color:S(We)(f.category),size:x(1196),label:"",class:x(561)},{default:l(()=>[b(w(f[x(502)]),1)]),_:2},1032,[x(716)]),d(x(602),ua,x(1177)+w(f[x(1066)]?f[x(1066)][x(1004)]:x(832)),1)]),d(x(928),da,w(f[x(1201)]),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ge,{value:"3"},{default:l(()=>[t(oe,{class:s(487)},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:_.value,"onUpdate:modelValue":m[7]||(m[7]=f=>_[s(759)]=f),label:s(961),rows:"3",counter:"",disabled:E[s(759)]},null,8,[s(529),"disabled"]),d(s(928),ma,[t(J,{color:s(829),size:s(1196),loading:E.value,disabled:!_[s(759)].trim(),onClick:F},{default:l(()=>[b(" Add Comment ")]),_:1},8,[s(878),s(560)])])]),_:1}),t(X,{cols:"12"},{default:l(()=>[S(q).length?(p(),R(ae,{key:0,class:"mb-4"})):O("",!0),S(q)[s(857)]===0?(p(),z("div",pa,[t(B,{icon:s(524),size:"64",color:"secondary",class:s(581)}),fa,ya])):(p(),z(s(928),ha,[(p(!0),z(le,null,ie(S(q),f=>{const i=s;return p(),z(i(928),{key:f.id,class:i(944)},[t(se,{border:""},{default:l(()=>[t(Q,{class:i(611)},{default:l(()=>[d(i(928),va,[t(je,{color:"primary",variant:i(858),size:"36",class:i(1041)},{default:l(()=>[t(B,{icon:i(1149)})]),_:1}),d(i(928),null,[d(i(928),_a,[d(i(498),null,w(f[i(911)]?f[i(911)][i(1004)]:i(1105)),1),d(i(928),ga,w(h(f[i(673)])),1)])]),t(te),n[i(964)]||n.hasManagerPermission?(p(),R(r,{key:0,size:i(1196),color:i(722),variant:i(1199),onClick:x=>(async L=>{const A=e;E[A(759)]=!0;try{const{success:G,error:Y}=await M[A(965)](L);if(G&&!Y){T(A(668));const{data:ue}=await M[A(867)](u[A(1103)].id);ue&&Object.assign(u[A(1103)],ue)}else T(A(842),"error")}catch(G){T(A(958)+G[A(949)],A(722))}finally{E[A(759)]=!1}})(f.id),disabled:E[i(759)]},{default:l(()=>[t(B,{icon:i(1046),size:"18"})]),_:2},1032,["onClick",i(560)])):O("",!0)]),d("div",ba,w(f[i(1199)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[s(529)])]),_:1}),t(ae),t(me,{class:s(753)},{default:l(()=>[V[s(759)]?(p(),z(le,{key:0},[t(J,{color:s(795),variant:s(858),onClick:C},{default:l(()=>[b(" Cancel ")]),_:1}),t(te),t(J,{color:s(829),onClick:v},{default:l(()=>[b(s(880))]),_:1})],64)):(p(),z(le,{key:1},[n[s(964)]?(p(),R(J,{key:0,color:s(722),variant:s(858),"prepend-icon":s(1046),onClick:g},{default:l(()=>[b(" Delete ")]),_:1})):O("",!0),n.hasModeratorPermission&&S(D).length===0?(p(),R(J,{key:1,color:s(1141),variant:s(858),"prepend-icon":"tabler-user-check",class:s(664),onClick:re},{default:l(()=>[b(s(1078))]),_:1})):O("",!0),t(te),n.hasModeratorPermission?(p(),R(J,{key:2,color:s(829),"prepend-icon":s(937),onClick:C},{default:l(()=>[b(s(717))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:$[s(759)][s(621)],"onUpdate:modelValue":m[10]||(m[10]=f=>$[s(759)][s(621)]=f),color:$.value[s(716)],timeout:5e3},{actions:l(()=>[t(r,{onClick:m[9]||(m[9]=f=>$[s(759)][s(621)]=!1)},{default:l(()=>[t(B,{icon:s(967)})]),_:1})]),default:l(()=>[b(w($[s(759)][s(1199)])+" ",1)]),_:1},8,[s(529),s(716)])]),_:1},8,["modelValue"])}}},wa=Ve(ka,[[a(677),a(816)]]),xa={class:"text-h5"},Va={__name:a(727),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},requirementData:{type:Object,default:()=>({})}},emits:[a(870),a(1055)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u[e(529)],set:U=>o(e(870),U)}),M=N({title:u.editMode&&u[e(598)]?u.requirementData[e(845)]:"",description:u.editMode&&u[e(598)]?u[e(598)][e(1201)]:"",category:u[e(906)]&&u[e(598)]?u.requirementData[e(502)]:e(739),status:u[e(906)]&&u[e(598)]?u[e(598)].status:e(465)}),P=[U=>!!U||e(756),U=>U[e(857)]<=255||e(519)],V=[U=>!!U||e(551)],k=[{title:"Functional",value:e(739)},{title:e(1044),value:"nonfunctional"},{title:e(787),value:e(525)},{title:"Other",value:e(1221)}],_=[{title:"Draft",value:"draft"},{title:e(698),value:e(1218)},{title:"Archived",value:e(853)},{title:e(640),value:e(1198)}],E=N(null),$=()=>{const U=e;M[U(759)]={title:"",description:"",category:U(739),status:U(465)},E.value&&E[U(759)][U(631)]()},I=()=>{j.value=!1,$()},H=async()=>{const U=e,{valid:Z}=await E[U(759)][U(1094)]();Z&&(o(U(1055),M[U(759)]),j[U(759)]=!1,$())};return ze(j,U=>{U||$()}),(U,Z)=>{const q=e,D=ve(q(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":Z[4]||(Z[4]=h=>Me(j)?j[q(759)]=h:null),"max-width":q(834),persistent:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:"d-flex pt-5 px-5"},{default:l(()=>[d("h5",xa,w(u[q(906)]?q(684):q(507)),1),t(te),t(D,{onClick:I},{default:l(()=>[t(B,{icon:q(967)})]),_:1})]),_:1}),t(Q,{class:q(1024)},{default:l(()=>[t(Ie,{ref_key:q(983),ref:E,onSubmit:De(H,[q(682)])},{default:l(()=>[t(oe,{class:q(487)},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:M.value[q(845)],"onUpdate:modelValue":Z[0]||(Z[0]=h=>M[q(759)].title=h),label:q(548),rules:P,required:""},null,8,[q(529)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:M[q(759)][q(502)],"onUpdate:modelValue":Z[1]||(Z[1]=h=>M[q(759)][q(502)]=h),label:q(599),items:k,required:""},null,8,[q(529)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:M[q(759)].status,"onUpdate:modelValue":Z[2]||(Z[2]=h=>M[q(759)][q(540)]=h),label:q(1093),items:_,required:""},null,8,[q(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:M[q(759)][q(1201)],"onUpdate:modelValue":Z[3]||(Z[3]=h=>M[q(759)].description=h),label:"Description",rules:V,required:"",rows:"6"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(ae),t(me,{class:q(753)},{default:l(()=>[t(J,{variant:q(858),color:q(795),onClick:I},{default:l(()=>[b(q(441))]),_:1}),t(te),t(J,{color:q(829),onClick:H},{default:l(()=>[b(w(u[q(906)]?q(772):q(662))+q(521),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[q(529)])}}},Ca={key:0,class:a(877),style:{height:a(678)}},Ua={key:1,class:a(454)},Da=(He=()=>d("h4",{class:a(984)},a(1089),-1),Ce(a(904)),He=He(),Ue(),He),Sa={class:a(765)},qa={class:a(888)},za={class:a(1051)},ja={class:a(584)},Fa={class:a(1168)},Ma={class:a(584)},Ia={class:"text-caption"},Pa={class:a(584)},Ra={class:"text-caption"},Ba={key:0,class:a(487)},Aa={__name:"ProjectRequirementsList",props:{projectId:{type:String,required:!0},requirements:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh",a(572)],setup(n,{emit:o}){const e=a,u=n,j=zt(),M=Re(),P=N(""),V=N(e(1133)),k=N("all"),_=N(null),E=N(!1),$=N(!1),I=N(!1),H=N(!1),U=N({show:!1,text:"",color:e(940)}),Z=K(()=>M[e(1045)]()),q=K(()=>M[e(1164)][e(1023)]>=2),D=K(()=>M[e(1164)][e(1023)]>=3),h=[{title:e(642),value:e(1133)},{title:e(1148),value:e(739)},{title:e(1044),value:e(451)},{title:e(787),value:e(525)},{title:e(931),value:e(1221)}],c=[{title:"All Statuses",value:"all"},{title:"Draft",value:"draft"},{title:e(698),value:e(1218)},{title:e(1067),value:e(853)},{title:"Completed",value:"completed"}],C=K(()=>{const r=e;return u[r(929)][r(892)](f=>{const i=r,x=!P[i(759)]||f[i(845)][i(624)]()[i(1014)](P[i(759)][i(624)]())||f[i(1201)].toLowerCase()[i(1014)](P.value[i(624)]()),L=V[i(759)]===i(1133)||f[i(502)]===V[i(759)],A=k[i(759)]===i(1133)||f[i(540)]===k[i(759)];return x&&L&&A})}),v=()=>{$[e(759)]=!0},g=async r=>{const f=e;H[f(759)]=!0;try{const{data:i,error:x}=await j[f(947)]({...r,project:u.projectId});i&&!x?(y(f(542)),o("refresh")):y(f(1036),f(722))}catch(i){y(f(504)+i.message,"error")}finally{H.value=!1}},re=async r=>{const f=e;H[f(759)]=!0;try{const{data:i,error:x}=await j[f(1077)](_.value.id,r);i&&!x?(y(f(1181)),o("refresh")):y(f(978),f(722))}catch(i){y(f(959)+i[f(949)],f(722))}finally{H[f(759)]=!1}},F=async()=>{const r=e;if(_.value){H[r(759)]=!0,I[r(759)]=!1;try{const{success:f,error:i}=await j[r(819)](_[r(759)].id);f&&!i?(y("Requirement deleted successfully"),o(r(495)),E.value=!1):y("Failed to delete requirement",r(722))}catch(f){y(r(996)+f.message,r(722))}finally{H[r(759)]=!1}}},T=r=>{o(e(572),r)},y=(r,f="success")=>{U[e(759)]={show:!0,text:r,color:f}},m=(r,f=120)=>!r||r[e(857)]<=f?r:r.substring(0,f)+"...",s=r=>{const f=e;return r?(r=parseInt(r),new Date(r)[f(1210)](f(1138),{year:f(1176),month:"short",day:f(1176),hour:f(1e3),minute:f(1e3)})):""};return(r,f)=>{const i=e,x=Oe,L=ve(i(1083));return p(),R(Q,{class:i(732)},{default:l(()=>[t(oe,null,{default:l(()=>[t(X,{cols:"12",md:"4"},{default:l(()=>[t(ce,{modelValue:P[i(759)],"onUpdate:modelValue":f[0]||(f[0]=A=>P[i(759)]=A),density:i(794),placeholder:"Search requirements...","prepend-inner-icon":i(574),"hide-details":"",variant:i(1101),clearable:""},null,8,[i(529)])]),_:1}),t(X,{cols:"12",md:"3"},{default:l(()=>[t(pe,{modelValue:V.value,"onUpdate:modelValue":f[1]||(f[1]=A=>V[i(759)]=A),items:h,density:"compact","hide-details":"",label:i(599),variant:i(1101)},null,8,[i(529)])]),_:1}),t(X,{cols:"12",md:"3"},{default:l(()=>[t(pe,{modelValue:k[i(759)],"onUpdate:modelValue":f[2]||(f[2]=A=>k[i(759)]=A),items:c,density:"compact","hide-details":"",label:"Status",variant:i(1101)},null,8,[i(529)])]),_:1}),t(X,{cols:"12",md:"2",class:i(584)},{default:l(()=>[S(D)?(p(),R(J,{key:0,color:"primary","prepend-icon":i(886),onClick:v,loading:H[i(759)],block:""},{default:l(()=>[b(i(1135))]),_:1},8,[i(878)])):O("",!0)]),_:1})]),_:1}),t(ae,{class:i(793)}),n[i(878)]?(p(),z(i(928),Ca,[t(Fe,{indeterminate:"",color:"primary"})])):S(C)[i(857)]===0?(p(),z("div",Ua,[t(B,{icon:"tabler-file-search",size:"64",color:i(795),class:i(613)}),Da,d("p",Sa,w(P[i(759)]||V[i(759)]!=="all"||k[i(759)]!==i(1133)?i(1174):i(703)),1),S(D)&&!P.value&&V[i(759)]===i(1133)&&k[i(759)]===i(1133)?(p(),R(J,{key:0,color:"primary",onClick:v,"prepend-icon":i(886)},{default:l(()=>[b(" Add Requirement ")]),_:1})):O("",!0)])):(p(),R(oe,{key:2},{default:l(()=>[(p(!0),z(le,null,ie(S(C),A=>{const G=i;return p(),R(X,{key:A.id,cols:"12"},{default:l(()=>[t(se,{class:"requirement-card",onClick:Y=>(ue=>{const de=e;_.value=ue,E[de(759)]=!0})(A),border:"",hover:""},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(je,{color:S(We)(A[G(502)]),variant:G(858),size:"42"},{default:l(()=>[A[G(502)]==="functional"?(p(),R(B,{key:0,icon:G(869)})):A.category===G(451)?(p(),R(B,{key:1,icon:G(951)})):A[G(502)]===G(525)?(p(),R(B,{key:2,icon:G(1175)})):(p(),R(B,{key:3,icon:G(459)}))]),_:2},1032,["color"])]),append:l(()=>[t(W,{color:S(be)(A.status),size:"small",label:""},{default:l(()=>{return[b(w((Y=A.status,Y?Y[e(968)](0).toUpperCase()+Y.slice(1):"")),1)];var Y}),_:2},1032,["color"])]),default:l(()=>[t(ne,null,{default:l(()=>[b(w(A.title),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:l(()=>[d("p",qa,w(m(A[G(1201)])),1),d(G(928),za,[d(G(928),ja,[t(B,{size:"16",icon:G(1001),class:G(506)}),d(G(602),Fa,w(A.category),1)]),d(G(928),Ma,[t(B,{size:"16",icon:G(848),class:G(506)}),d("span",Ia,w(s(A[G(856)])),1)]),d("div",Pa,[t(B,{size:"16",icon:G(585),class:G(506)}),d(G(602),Ra,"v"+w(A.version_number),1)])]),A.user_stories&&A[G(866)][G(857)]>0?(p(),z(G(928),Ba,[t(J,{size:"small",variant:G(858),color:G(829),"prepend-icon":G(925),onClick:De(Y=>T(A),[G(828)])},{default:l(()=>[b(w(A[G(866)][G(857)])+G(945)+w(A[G(866)][G(857)]===1?G(827):G(1119)),1)]),_:2},1032,[G(1032)])])):O("",!0)]),_:2},1024)]),_:2},1032,[G(1032)])]),_:2},1024)}),128))]),_:1})),_[i(759)]?(p(),R(wa,{key:3,modelValue:E[i(759)],"onUpdate:modelValue":f[3]||(f[3]=A=>E.value=A),requirement:_[i(759)],onDelete:f[4]||(f[4]=A=>I[i(759)]=!0),onUpdate:re,onViewUserStories:T,"is-admin":S(Z),"has-manager-permission":S(q),"has-moderator-permission":S(D)},null,8,[i(529),i(1103),"is-admin",i(993),i(656)])):O("",!0),t(Va,{modelValue:$[i(759)],"onUpdate:modelValue":f[5]||(f[5]=A=>$[i(759)]=A),onSubmit:g},null,8,[i(529)]),t(x,{isDialogVisible:I[i(759)],"onUpdate:isDialogVisible":f[6]||(f[6]=A=>I.value=A),confirmationMsg:"Are you sure you want to delete this requirement? This action cannot be undone.",onConfirm:F},null,8,["isDialogVisible"]),t(xe,{modelValue:U[i(759)][i(621)],"onUpdate:modelValue":f[8]||(f[8]=A=>U[i(759)][i(621)]=A),color:U.value[i(716)],timeout:5e3},{actions:l(()=>[t(L,{onClick:f[7]||(f[7]=A=>U[i(759)][i(621)]=!1)},{default:l(()=>[t(B,{icon:i(967)})]),_:1})]),default:l(()=>[b(w(U[i(759)][i(1199)])+" ",1)]),_:1},8,[i(529),i(716)])]),_:1})}}},Ta=Ve(Aa,[[a(677),a(904)]]),jt=Le({id:a(1136),state:()=>({mockups:[],currentMockup:null,loading:!1,error:null}),actions:{async fetchMockups(n=null){const o=a;this[o(878)]=!0;try{let e=o(437);n&&(e+="?project="+n);const u=await ee[o(647)](e);return u[o(540)]===200?(this[o(1018)]=u[o(522)],{data:u[o(522)],error:null}):{data:[],error:u.data}}catch(e){return this[o(722)]=e[o(949)]||o(1152),{data:[],error:this[o(722)]}}finally{this.loading=!1}},async fetchMockupById(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(647)](o(437)+n+"/");return e[o(540)]===200?(this[o(923)]=e[o(522)],{data:e[o(522)],error:null}):{data:null,error:e[o(522)]}}catch(e){return this.error=e.message||o(881),{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async createMockup(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(474)](o(437),n);return e[o(540)]===201?(this[o(1018)][o(857)]&&this[o(1018)][o(630)](e[o(522)]),{data:e.data,error:null}):{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||o(1114),{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async updateMockup(n,o){const e=a;this.loading=!0;try{const u=await ee[e(644)](e(437)+n+"/",o);if(u[e(540)]===200){if(this[e(1018)][e(857)]){const j=this[e(1018)][e(946)](M=>M.id===n);j!==-1&&(this[e(1018)][j]=u[e(522)])}return this[e(923)]&&this.currentMockup.id===n&&(this[e(923)]=u[e(522)]),{data:u[e(522)],error:null}}return{data:null,error:u.data}}catch(u){return this[e(722)]=u.message||e(449),{data:null,error:this[e(722)]}}finally{this[e(878)]=!1}},async deleteMockup(n){const o=a;this[o(878)]=!0;try{const e=await ee.delete(o(437)+n+"/");return e.status===204?(this[o(1018)].length&&(this.mockups=this.mockups[o(892)](u=>u.id!==n)),this[o(923)]&&this.currentMockup.id===n&&(this.currentMockup=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(722)]=e.message||o(786),{success:!1,error:this[o(722)]}}finally{this.loading=!1}}}}),Ft=n=>(Ce(a(537)),n=n(),Ue(),n),La={key:0,class:"text-h5"},Na={class:a(890)},Oa={key:0},Ea={key:1},Ha={class:a(447)},Ga={class:a(584)},Ja={class:a(956)},Xa={class:"d-flex align-center ms-4"},Za={class:a(956)},$a={key:0,class:"d-flex align-center ms-4"},Ka={class:a(956)},Ya={class:a(633)},Qa=[a(696)],Wa={key:1,class:a(826),style:{height:"400px"}},es=Ft(()=>d("h4",{class:a(984)},a(1071),-1)),ts=Ft(()=>d("p",{class:a(1118)},a(1156),-1)),ls={__name:a(445),props:{modelValue:{type:Boolean,default:!1},mockup:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1}},emits:[a(870),a(569)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u.modelValue,set:D=>o("update:modelValue",D)}),M=jt(),P=N(!1),V=N(!1),k=N({...u[e(528)]}),_=N(!1),E=N({show:!1,text:"",color:e(940)}),$=D=>{const h=e;return D?new Date(parseInt(D))[h(1210)](h(1138),{year:"numeric",month:"short",day:h(1176),hour:h(1e3),minute:h(1e3)}):""},I=()=>{P.value=!P.value},H=()=>{const D=e;V.value&&(k[D(759)]={...u.mockup}),V.value=!V[D(759)]},U=async()=>{const D=e;_.value=!0;try{const{data:h,error:c}=await M[D(546)](u[D(528)].id,k.value);h&&!c?(q(D(1214)),Object[D(824)](u[D(528)],h),V.value=!1):q(D(449),D(722))}catch(h){q(D(875)+h[D(949)],"error")}finally{_[D(759)]=!1}},Z=()=>{o(e(569))},q=(D,h=e(940))=>{E[e(759)]={show:!0,text:D,color:h}};return ze(()=>u[e(528)],D=>{k[e(759)]={...D}},{deep:!0}),(D,h)=>{const c=e,C=ve("IconBtn");return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":h[6]||(h[6]=v=>Me(j)?j[c(759)]=v:null),fullscreen:P[c(759)],"max-width":P.value?c(705):c(1003),scrollable:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:c(744)},{default:l(()=>[V[c(759)]?(p(),z("h5",La,"Edit Mockup")):(p(),z(le,{key:1},[d("h5",Na,w(n[c(528)][c(620)]),1),t(W,{color:S(be)(n[c(528)][c(540)]),size:c(1196),label:""},{default:l(()=>[b(w(Ne(n[c(528)][c(540)])),1)]),_:1},8,[c(716)])],64)),t(te),t(J,{icon:"",variant:c(1199),onClick:I},{default:l(()=>[t(B,{icon:P[c(759)]?c(1125):c(1204)},null,8,[c(665)])]),_:1}),t(C,{onClick:h[0]||(h[0]=v=>j[c(759)]=!1)},{default:l(()=>[t(B,{icon:c(967)})]),_:1})]),_:1}),t(ae),t(Q,{class:rt({"pa-0":!V[c(759)],"pa-6":V[c(759)]}),style:Te({height:P[c(759)]?c(821):c(472),maxHeight:c(1016)})},{default:l(()=>[V[c(759)]?(p(),z(c(928),Oa,[t(Ie,{onSubmit:De(U,["prevent"])},{default:l(()=>[t(oe,{class:"mt-3"},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[c(759)].name,"onUpdate:modelValue":h[1]||(h[1]=v=>k[c(759)][c(620)]=v),label:c(617),required:"",rules:[v=>!!v||c(908)]},null,8,[c(529),c(910)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:k[c(759)].status,"onUpdate:modelValue":h[2]||(h[2]=v=>k.value[c(540)]=v),label:c(1093),items:[{title:c(763),value:"draft"},{title:c(698),value:"active"},{title:"Archived",value:"archived"},{title:"Completed",value:"completed"}],required:""},null,8,["modelValue"])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:k[c(759)][c(432)],"onUpdate:modelValue":h[3]||(h[3]=v=>k.value[c(432)]=v),label:c(924),rows:"15",rules:[v=>!!v||c(1007)],monospace:""},null,8,[c(529),c(910)])]),_:1})]),_:1})]),_:1},8,[c(1037)])])):(p(),z(c(928),Ea,[d(c(928),Ha,[d("div",Ga,[t(B,{icon:c(848),class:c(561),size:"18"}),d(c(602),Ja,c(645)+w($(n[c(528)].created_at)),1)]),d(c(928),Xa,[t(B,{icon:c(471),class:c(561),size:"18"}),d(c(602),Za,c(771)+w($(n[c(528)][c(856)])),1)]),n[c(528)][c(1103)]?(p(),z(c(928),$a,[t(B,{icon:"tabler-file-check",class:c(561),size:"18"}),d(c(602),Ka,c(736)+w(n[c(528)][c(1103)]),1)])):O("",!0)]),t(ae),d("div",Ya,[n[c(528)][c(432)]?(p(),z(c(897),{key:0,srcdoc:n[c(528)].html_content,class:"mockup-iframe",style:Te([{width:c(705),border:"none"},{height:P[c(759)]?"calc(100vh - 180px)":c(740)}]),sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",title:c(748)},null,12,Qa)):(p(),z(c(928),Wa,[t(B,{icon:"tabler-code-off",size:"64",color:c(795),class:"mb-4"}),es,ts]))])]))]),_:1},8,[c(500),c(1127)]),t(ae),t(me,{class:"pa-4"},{default:l(()=>[V[c(759)]?(p(),z(le,{key:0},[t(J,{color:c(795),variant:"tonal",onClick:H,disabled:_[c(759)]},{default:l(()=>[b(c(441))]),_:1},8,[c(560)]),t(te),t(J,{color:c(829),onClick:U,loading:_[c(759)]},{default:l(()=>[b(c(880))]),_:1},8,["loading"])],64)):(p(),z(le,{key:1},[n[c(964)]?(p(),R(J,{key:0,color:c(722),variant:c(858),"prepend-icon":c(1046),onClick:Z},{default:l(()=>[b(c(675))]),_:1})):O("",!0),t(te),n[c(920)]?(p(),R(J,{key:1,color:c(829),"prepend-icon":c(937),onClick:H},{default:l(()=>[b(c(717))]),_:1})):O("",!0),n[c(920)]?(p(),R(J,{key:2,class:c(664),color:"primary",variant:c(858),"prepend-icon":c(976),onClick:H},{default:l(()=>[b(" View HTML ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:E[c(759)].show,"onUpdate:modelValue":h[5]||(h[5]=v=>E[c(759)].show=v),color:E[c(759)].color,timeout:5e3},{actions:l(()=>[t(C,{onClick:h[4]||(h[4]=v=>E.value[c(621)]=!1)},{default:l(()=>[t(B,{icon:c(967)})]),_:1})]),default:l(()=>[b(w(E[c(759)][c(1199)])+" ",1)]),_:1},8,[c(529),c(716)])]),_:1},8,[c(529),c(813),"max-width"])}}},as=Ve(ls,[[a(677),a(537)]]),Mt=n=>(Ce(a(1216)),n=n(),Ue(),n),ss={key:0,class:a(877),style:{height:a(678)}},rs={key:1,class:a(454)},os=Mt(()=>d("h4",{class:"text-h6 mb-2"},a(1015),-1)),ns={class:a(765)},is={class:a(697)},cs={class:"overflow-hidden position-relative rounded bg-grey-lighten-4",style:{height:"150px"}},us={key:0,class:a(914)},ds=["innerHTML"],ms={key:1,class:a(1190)},ps={class:a(568)},fs={key:0,class:"mb-2"},ys=Mt(()=>d(a(602),{class:a(591)},a(736),-1)),hs={class:a(898)},vs={class:a(584)},_s={class:"text-caption"},gs=Ve({__name:"ProjectMockupsList",props:{projectId:{type:String,required:!0},mockups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(n,{emit:o}){const e=a,u=n,j=jt(),M=Re(),P=N(""),V=N(null),k=N(!1),_=N(!1),E=N(!1),$=N({show:!1,text:"",color:"success"}),I=K(()=>M[e(1045)]()),H=K(()=>M[e(1164)][e(1023)]>=2);K(()=>M[e(1164)].role>=3);const U=K(()=>{const c=e;return u[c(1018)].filter(C=>{const v=c;return!P[v(759)]||C[v(620)][v(624)]()[v(1014)](P[v(759)].toLowerCase())||C[v(1103)]&&C[v(1103)][v(845)][v(624)]().includes(P[v(759)][v(624)]())})}),Z=c=>{const C=e;return c?new Date(parseInt(c))[C(1210)](C(1138),{year:C(1176),month:C(604),day:"numeric",hour:C(1e3),minute:C(1e3)}):""},q=async()=>{const c=e;if(V[c(759)]){E[c(759)]=!0,_[c(759)]=!1;try{const{success:C,error:v}=await j[c(942)](V.value.id);C&&!v?(D("Mockup deleted successfully"),o(c(495)),k[c(759)]=!1):D(c(786),c(722))}catch(C){D(c(927)+C[c(949)],c(722))}finally{E[c(759)]=!1}}},D=(c,C=e(940))=>{$[e(759)]={show:!0,text:c,color:C}},h=(c,C=150)=>{const v=e;if(!c||c.length<=C)return c;const g=c[v(884)](/<[^>]*>/g,"");return g[v(857)]<=C?c:g.substring(0,C)+"..."};return(c,C)=>{const v=e,g=Oe,re=ve(v(1083));return p(),R(Q,{class:v(732)},{default:l(()=>[t(oe,null,{default:l(()=>[t(X,{cols:"12",md:"6"},{default:l(()=>[t(ce,{modelValue:P[v(759)],"onUpdate:modelValue":C[0]||(C[0]=F=>P[v(759)]=F),density:"compact",placeholder:"Search mockups...","prepend-inner-icon":v(574),"hide-details":"",variant:v(1101),clearable:""},null,8,[v(529)])]),_:1})]),_:1}),t(ae,{class:"my-5"}),n.loading?(p(),z("div",ss,[t(Fe,{indeterminate:"",color:v(829)})])):S(U).length===0?(p(),z(v(928),rs,[t(B,{icon:v(663),size:"64",color:v(795),class:v(613)}),os,d("p",ns,w(P.value?v(723):v(969)),1)])):(p(),R(oe,{key:2},{default:l(()=>[(p(!0),z(le,null,ie(S(U),F=>{const T=v;return p(),R(X,{key:F.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(se,{class:"mockup-card h-100",onClick:y=>(m=>{const s=e;V.value=m,k[s(759)]=!0})(F),border:"",hover:""},{default:l(()=>[t(fe,null,{append:l(()=>[t(W,{color:S(be)(F[T(540)]),size:"small",label:""},{default:l(()=>[b(w(Ne(F.status)),1)]),_:2},1032,["color"])]),default:l(()=>[t(ne,null,{default:l(()=>[b(w(F[T(620)]),1)]),_:2},1024)]),_:2},1024),t(ae),t(Q,null,{default:l(()=>[d(T(928),is,[d(T(928),cs,[F.html_content?(p(),z("div",us,[d("div",{innerHTML:h(F[T(432)])},null,8,ds)])):(p(),z(T(928),ms,[t(B,{icon:T(626),size:"48",color:T(795)})])),d("div",ps,[t(J,{color:T(829),variant:"elevated",size:T(1196),"prepend-icon":"tabler-eye"},{default:l(()=>[b(" Preview ")]),_:1})])])]),F[T(1103)]?(p(),z("div",fs,[ys,t(W,{size:T(807),color:T(829),class:T(452)},{default:l(()=>[b(w(F[T(1103)]),1)]),_:2},1024)])):O("",!0),d(T(928),hs,[d("div",vs,[t(B,{size:"16",icon:T(848),class:T(506)}),d("span",_s,w(Z(F.created_at)),1)])])]),_:2},1024)]),_:2},1032,[T(1032)])]),_:2},1024)}),128))]),_:1})),V.value?(p(),R(as,{key:3,modelValue:k[v(759)],"onUpdate:modelValue":C[1]||(C[1]=F=>k.value=F),mockup:V[v(759)],onDelete:C[2]||(C[2]=F=>_[v(759)]=!0),"is-admin":S(I),"has-manager-permission":S(H)},null,8,[v(529),v(528),v(657),v(993)])):O("",!0),t(g,{isDialogVisible:_[v(759)],"onUpdate:isDialogVisible":C[3]||(C[3]=F=>_[v(759)]=F),confirmationMsg:v(453),onConfirm:q},null,8,[v(531)]),t(xe,{modelValue:$[v(759)][v(621)],"onUpdate:modelValue":C[5]||(C[5]=F=>$[v(759)][v(621)]=F),color:$[v(759)][v(716)],timeout:5e3},{actions:l(()=>[t(re,{onClick:C[4]||(C[4]=F=>$.value.show=!1)},{default:l(()=>[t(B,{icon:v(967)})]),_:1})]),default:l(()=>[b(w($.value[v(1199)])+" ",1)]),_:1},8,[v(529),v(716)])]),_:1})}}},[[a(677),"data-v-fcfe1101"]]),It=Le({id:a(972),state:()=>({plans:[],currentPlan:null,loading:!1,error:null}),actions:{async fetchDevelopmentPlans(n=null){const o=a;this[o(878)]=!0;try{let e=o(709);n&&(e+=o(589)+n);const u=await ee.get(e);return u[o(540)]===200?(this[o(515)]=u[o(522)],{data:u.data,error:null}):{data:[],error:u[o(522)]}}catch(e){return this[o(722)]=e[o(949)]||o(545),{data:[],error:this[o(722)]}}finally{this[o(878)]=!1}},async fetchDevelopmentPlanById(n){const o=a;this.loading=!0;try{const e=await ee[o(647)](o(709)+n+"/");return e[o(540)]===200?(this[o(442)]=e[o(522)],{data:e[o(522)],error:null}):{data:null,error:e.data}}catch(e){return this.error=e[o(949)]||o(1028),{data:null,error:this.error}}finally{this[o(878)]=!1}},async createDevelopmentPlan(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(474)](o(709),{project:n,status:o(465)});return e[o(540)]===201?{data:e.data,error:null}:{data:null,error:e[o(522)]}}catch(e){return this[o(722)]=e.message||o(672),{data:null,error:this[o(722)]}}finally{this[o(878)]=!1}},async updateDevelopmentPlan(n,o){const e=a;this[e(878)]=!0;try{const u=await ee[e(644)](e(709)+n+"/",o);return u.status===200?(this[e(442)]&&this[e(442)].id===n&&(this[e(442)]=u[e(522)]),{data:u[e(522)],error:null}):{data:null,error:u.data}}catch(u){return this[e(722)]=u[e(949)]||"Failed to update development plan",{data:null,error:this[e(722)]}}finally{this[e(878)]=!1}},async createPlanVersion(n,o){const e=a;this.loading=!0;try{const u=await ee[e(474)](e(709)+n+e(896),o);return u.status===201?{data:u[e(522)],error:null}:{data:null,error:u[e(522)]}}catch(u){return this[e(722)]=u.message||e(1073),{data:null,error:this[e(722)]}}finally{this[e(878)]=!1}},async fetchPlanVersionById(n){const o=a;this[o(878)]=!0;try{const e=await ee[o(647)](o(811)+n+"/");return e[o(540)]===200?{data:e[o(522)],error:null}:{data:null,error:e.data}}catch(e){return this[o(722)]=e[o(949)]||o(729),{data:null,error:this.error}}finally{this[o(878)]=!1}},async updatePlanVersion(n,o){const e=a;this.loading=!0;try{const u=await ee[e(644)]("/service/development-plan-versions/"+n+"/",o);return u[e(540)]===200?{data:u[e(522)],error:null}:{data:null,error:u[e(522)]}}catch(u){return this[e(722)]=u[e(949)]||e(874),{data:null,error:this[e(722)]}}finally{this.loading=!1}},async setCurrentPlanVersion(n,o){const e=a;this[e(878)]=!0;try{const u=await this[e(1027)](n);if(!u[e(522)])return{data:null,error:"Plan not found"};const j=await this[e(565)](o);return j[e(522)]?await this[e(762)](n,{current_version_number:j[e(522)][e(930)],status:u[e(522)][e(540)]}):{data:null,error:e(746)}}catch(u){return this[e(722)]=u[e(949)]||e(1107),{data:null,error:this[e(722)]}}finally{this[e(878)]=!1}}}}),Ze=n=>(Ce(a(692)),n=n(),Ue(),n),bs={key:0,class:a(890)},ks={key:1,class:"text-h5"},ws={key:0},xs=Ze(()=>d("p",{class:a(467)},a(1021),-1)),Vs={key:1},Cs={class:"d-flex flex-wrap justify-space-between mb-4"},Us={class:a(584)},Ds={class:a(584)},Ss={class:"text-caption"},qs={key:0,class:a(936)},zs={class:a(919)},js=Ze(()=>d(a(928),{class:"text-caption text-medium-emphasis text-right"},a(556),-1)),Fs=Ze(()=>d(a(782),null,[d("tr",null,[d("th",null,a(922)),d("th",{class:a(566)},a(905)),d("th",{class:a(566)},"Cost")])],-1)),Ms={class:a(566)},Is={class:a(566)},Ps={key:0},Rs=[Ze(()=>d("td",{colspan:"3",class:a(731)},a(593),-1))],Bs={class:"text-body-1 whitespace-pre-wrap"},As=Ve({__name:a(1006),props:{modelValue:{type:Boolean,default:!1},version:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},planId:{type:String,default:null}},emits:[a(870),a(495)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u[e(529)],set:D=>o(e(870),D)}),M=It(),P=N(!1),V=N({...u.version}),k=N(!1),_=N({show:!1,text:"",color:e(940)}),E=D=>{const h=e;return D?new Date(parseInt(D))[h(1210)](h(1138),{year:h(1176),month:h(604),day:"numeric",hour:h(1e3),minute:h(1e3)}):""},$=D=>{const h=e;return D||D===0?new Intl.NumberFormat(h(1138),{style:h(1159),currency:h(902),minimumFractionDigits:2})[h(580)](D):"-"},I=()=>{const D=e;P[D(759)]&&(V[D(759)]={...u[D(761)]}),P[D(759)]=!P[D(759)]},H=async()=>{const D=e;k[D(759)]=!0;try{const{data:h,error:c}=await M[D(932)](u[D(761)].id,V[D(759)]);h&&!c?(q(D(1074)),Object.assign(u[D(761)],h),P[D(759)]=!1,o(D(495))):q(D(874),D(722))}catch(h){q(D(800)+h[D(949)],D(722))}finally{k[D(759)]=!1}},U=async()=>{const D=e;if(u[D(1097)]){k[D(759)]=!0;try{const{data:h,error:c}=await M[D(532)](u[D(1097)],u.version.id);h&&!c?(q("Set as current version successfully"),o(D(495))):q("Failed to set as current version",D(722))}catch(h){q(D(812)+h[D(949)],D(722))}finally{k[D(759)]=!1}}},Z=D=>{const h=e;if(!D)return[];try{return typeof D=="string"?JSON[h(1029)](D):D}catch(c){return console[h(722)]("Error parsing roles and hours:",c),[]}},q=(D,h=e(940))=>{_[e(759)]={show:!0,text:D,color:h}};return ze(()=>u[e(761)],D=>{V[e(759)]={...D}},{deep:!0}),(D,h)=>{const c=e,C=ve(c(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":h[7]||(h[7]=v=>Me(j)?j[c(759)]=v:null),"max-width":c(1003),scrollable:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:c(744)},{default:l(()=>[P[c(759)]?(p(),z("h5",bs,"Edit Plan Version")):(p(),z("h5",ks,[b(c(798)+w(n[c(761)][c(930)])+" ",1),n.isCurrent?(p(),R(W,{key:0,color:c(829),size:"small",label:"",class:c(664)},{default:l(()=>[b(c(1193))]),_:1})):O("",!0)])),t(te),t(C,{onClick:h[0]||(h[0]=v=>j.value=!1)},{default:l(()=>[t(B,{icon:c(967)})]),_:1})]),_:1}),t(ae),t(Q,{class:c(732)},{default:l(()=>[P[c(759)]?(p(),z("div",ws,[t(Ie,{onSubmit:De(H,[c(682)])},{default:l(()=>[t(oe,{class:"mt-3"},{default:l(()=>[t(X,{cols:"12",md:"4"},{default:l(()=>[t(ce,{modelValue:V[c(759)].estimated_cost,"onUpdate:modelValue":h[1]||(h[1]=v=>V[c(759)][c(536)]=v),modelModifiers:{number:!0},label:c(1161),type:c(1128),required:"",rules:[v=>!!v||c(957)]},null,8,[c(529),c(910)])]),_:1}),t(X,{cols:"12",md:"4"},{default:l(()=>[t(pe,{modelValue:V[c(759)].status,"onUpdate:modelValue":h[2]||(h[2]=v=>V.value[c(540)]=v),label:c(1093),items:[{title:c(763),value:c(465)},{title:c(698),value:c(1218)},{title:"Archived",value:"archived"},{title:c(640),value:c(1198)}],required:""},null,8,[c(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:V[c(759)][c(687)],"onUpdate:modelValue":h[3]||(h[3]=v=>V[c(759)][c(687)]=v),label:"Notes",rows:"4"},null,8,["modelValue"])]),_:1}),t(X,{cols:"12"},{default:l(()=>[xs,t(ke,{modelValue:V[c(759)][c(990)],"onUpdate:modelValue":h[4]||(h[4]=v=>V[c(759)][c(990)]=v),label:c(894),rows:"8",monospace:"",hint:"Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]","persistent-hint":""},null,8,[c(529)])]),_:1})]),_:1})]),_:1},8,[c(1037)])])):(p(),z(c(928),Vs,[t(oe,{class:c(487)},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[d(c(928),Cs,[d(c(928),Us,[t(W,{color:S(be)(n.version[c(540)]),size:c(1196),label:""},{default:l(()=>[b(w(Ne(n[c(761)][c(540)])),1)]),_:1},8,["color"])]),d(c(928),Ds,[d(c(602),Ss,c(770)+w(E(n[c(761)].created_at)),1),n[c(761)][c(1017)]?(p(),z(c(602),qs,c(482)+w(n[c(761)][c(1017)][c(1004)]),1)):O("",!0)]),d(c(928),null,[d("h4",zs,w($(n.version[c(536)])),1),js])])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(se,{variant:c(1101),class:c(613)},{default:l(()=>[t(ne,null,{default:l(()=>[b(c(578))]),_:1}),t(Q,null,{default:l(()=>[t(at,null,{default:l(()=>[Fs,d(c(701),null,[(p(!0),z(le,null,ie(Z(n[c(761)].roles_and_hours),(v,g)=>{const re=c;return p(),z("tr",{key:g},[d("td",null,w(v.role),1),d("td",Ms,w(v[re(817)]),1),d("td",Is,w($(v.cost)),1)])}),128)),Z(n.version[c(990)])[c(857)]===0?(p(),z("tr",Ps,Rs)):O("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),n[c(761)][c(687)]?(p(),R(X,{key:0,cols:"12"},{default:l(()=>[t(se,{variant:c(1101)},{default:l(()=>[t(ne,null,{default:l(()=>[b("Notes")]),_:1}),t(Q,null,{default:l(()=>[d(c(928),Bs,w(n[c(761)][c(687)]),1)]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]))]),_:1}),t(ae),t(me,{class:c(753)},{default:l(()=>[P[c(759)]?(p(),z(le,{key:0},[t(J,{color:c(795),variant:c(858),onClick:I,disabled:k.value},{default:l(()=>[b(" Cancel ")]),_:1},8,[c(560)]),t(te),t(J,{color:c(829),onClick:H,loading:k[c(759)]},{default:l(()=>[b(c(880))]),_:1},8,["loading"])],64)):(p(),z(le,{key:1},[!n.isCurrent&&n[c(920)]?(p(),R(J,{key:0,color:"primary",variant:"tonal",onClick:U,loading:k[c(759)],"prepend-icon":"tabler-check"},{default:l(()=>[b(c(1031))]),_:1},8,["loading"])):O("",!0),t(te),n[c(920)]?(p(),R(J,{key:1,color:c(829),"prepend-icon":"tabler-edit",onClick:I},{default:l(()=>[b(" Edit ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:_[c(759)].show,"onUpdate:modelValue":h[6]||(h[6]=v=>_[c(759)].show=v),color:_[c(759)][c(716)],timeout:5e3},{actions:l(()=>[t(C,{onClick:h[5]||(h[5]=v=>_[c(759)].show=!1)},{default:l(()=>[t(B,{icon:c(967)})]),_:1})]),default:l(()=>[b(w(_.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1},8,[c(529)])}}},[[a(677),a(692)]]),Ts=d("h5",{class:a(890)},"Create New Plan Version",-1),Ls={class:a(725)},Ns={__name:a(544),props:{modelValue:{type:Boolean,default:!1},planId:{type:String,required:!0},currentVersionNumber:{type:Number,default:0}},emits:[a(870),"submit"],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u[e(529)],set:I=>o(e(870),I)}),M=N({roles_and_hours:e(728),estimated_cost:1e4,notes:"",status:"draft"}),P=[I=>!!I||e(957),I=>!isNaN(parseFloat(I))||e(895)],V=[I=>{const H=e;try{return JSON.parse(I),!0}catch{return H(777)}}],k=N(null),_=()=>{const I=e;M[I(759)]={roles_and_hours:'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',estimated_cost:1e4,notes:"",status:I(465)},k[I(759)]&&k[I(759)][I(631)]()},E=()=>{j[e(759)]=!1,_()},$=async()=>{const I=e,{valid:H}=await k.value[I(1094)]();if(H){const U={...M.value};U[I(536)]=parseFloat(U[I(536)]),o(I(1055),U),j.value=!1,_()}};return ze(j,I=>{I||_()}),(I,H)=>{const U=e,Z=ve(U(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":H[4]||(H[4]=q=>Me(j)?j[U(759)]=q:null),"max-width":U(834),persistent:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:U(596)},{default:l(()=>[Ts,t(te),t(Z,{onClick:E},{default:l(()=>[t(B,{icon:U(967)})]),_:1})]),_:1}),t(Q,{class:U(1024)},{default:l(()=>[d("p",Ls,U(590)+w(n.currentVersionNumber+1)+U(1030),1),t(Ie,{ref_key:U(983),ref:k,onSubmit:De($,["prevent"])},{default:l(()=>[t(oe,{class:U(487)},{default:l(()=>[t(X,{cols:"12",md:"6"},{default:l(()=>[t(ce,{modelValue:M.value[U(536)],"onUpdate:modelValue":H[0]||(H[0]=q=>M[U(759)][U(536)]=q),modelModifiers:{number:!0},label:U(1161),type:U(1128),rules:P,required:""},null,8,[U(529)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:M[U(759)][U(540)],"onUpdate:modelValue":H[1]||(H[1]=q=>M[U(759)].status=q),label:U(1093),items:[{title:U(763),value:U(465)},{title:U(698),value:U(1218)},{title:U(1067),value:U(853)},{title:"Completed",value:U(1198)}],required:""},null,8,[U(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:M[U(759)].roles_and_hours,"onUpdate:modelValue":H[2]||(H[2]=q=>M[U(759)][U(990)]=q),label:U(894),rules:V,rows:"6",monospace:"",hint:"Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:M[U(759)].notes,"onUpdate:modelValue":H[3]||(H[3]=q=>M[U(759)][U(687)]=q),label:U(960),rows:"4"},null,8,[U(529)])]),_:1})]),_:1})]),_:1},8,[U(1037)])]),_:1}),t(ae),t(me,{class:U(753)},{default:l(()=>[t(J,{variant:U(858),color:U(795),onClick:E},{default:l(()=>[b(U(441))]),_:1}),t(te),t(J,{color:U(829),onClick:$},{default:l(()=>[b(U(802))]),_:1})]),_:1})]),_:1})]),_:1},8,[U(529)])}}},Os={key:0,class:a(877),style:{height:a(678)}},Es={key:1,class:"text-center pa-6"},Hs=d("h4",{class:"text-h6 mb-2"},a(781),-1),Gs=d("p",{class:"text-body-1 text-medium-emphasis mb-6"},a(577),-1),Js={key:2},Xs={class:"d-flex flex-column"},Zs=d(a(928),{class:"text-h6 mb-2"},a(1117),-1),$s={class:a(919)},Ks={class:a(1202)},Ys=d("div",{class:a(841)},a(578),-1),Qs=d(a(782),null,[d("tr",null,[d("th",null,"Role"),d("th",{class:a(566)},a(905)),d("th",{class:a(566)},a(636))])],-1),Ws={class:a(566)},er={class:a(566)},tr={class:"d-flex align-center justify-space-between mb-4"},lr=d("h5",{class:a(890)},"Version History",-1),ar=d(a(782),null,[d("tr",null,[d("th",null,a(1069)),d("th",null,a(773)),d("th",null,a(1093)),d("th",{class:"text-right"},a(1117)),d("th",{class:a(566)},a(797))])],-1),sr=[a(1032)],rr={class:a(584)},or={class:a(939)},nr={class:a(566)},ir={class:a(566)},cr={key:1,class:"text-center pa-4"},ur=[d("p",{class:"text-medium-emphasis"},a(691),-1)],dr={key:2,class:a(454)},mr=[d("p",{class:a(803)}," No versions available yet. ",-1)],pr={__name:"ProjectDevelopmentPlan",props:{projectId:{type:String,required:!0},developmentPlan:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:[a(495)],setup(n,{emit:o}){const e=a,u=n,j=It(),M=Re(),P=N(null),V=N(!1),k=N(!1),_=N(!1),E=N({show:!1,text:"",color:e(940)}),$=K(()=>M[e(1045)]()),I=K(()=>M[e(1164)][e(1023)]>=2),H=K(()=>{const F=e;return u.developmentPlan&&u[F(769)].id}),U=K(()=>{const F=e;return H[F(759)]&&u[F(769)][F(934)]?[...u[F(769)][F(934)]][F(1079)]((T,y)=>y[F(930)]-T[F(930)]):[]}),Z=K(()=>{const F=e;return H[F(759)]?U[F(759)].find(T=>T[F(930)]===u.developmentPlan[F(889)]):null}),q=F=>{const T=e;return F?new Date(parseInt(F))[T(1210)](T(1138),{year:"numeric",month:T(604),day:T(1176)}):""},D=F=>{const T=e;return F||F===0?new Intl[T(533)]("en-US",{style:T(1159),currency:T(902),minimumFractionDigits:2})[T(580)](F):"-"},h=F=>{P[e(759)]=F,V.value=!0},c=()=>{k[e(759)]=!0},C=async F=>{const T=e;_[T(759)]=!0;try{const{data:y,error:m}=await j[T(456)](u[T(769)].id,F);y&&!m?(g(T(689)),o(T(495))):g(T(1073),T(722))}catch(y){g("Failed to create plan version: "+y[T(949)],"error")}finally{_[T(759)]=!1,k[T(759)]=!1}},v=async()=>{const F=e;_[F(759)]=!0;try{const{data:T,error:y}=await j[F(767)](u.projectId);T&&!y?(g(F(1171)),o(F(495))):g(F(672),F(722))}catch(T){g(F(1172)+T[F(949)],F(722))}finally{_[F(759)]=!1}},g=(F,T=e(940))=>{E[e(759)]={show:!0,text:F,color:T}},re=F=>{const T=e;if(!F)return[];try{return typeof F===T(730)?JSON[T(1029)](F):F}catch(y){return console.error(T(985),y),[]}};return(F,T)=>{const y=e,m=ve(y(1083));return p(),R(Q,{class:"pa-6"},{default:l(()=>[n[y(878)]?(p(),z("div",Os,[t(Fe,{indeterminate:"",color:"primary"})])):S(H)?(p(),z(y(928),Js,[t(oe,null,{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(se,{border:"",class:"mb-4"},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(je,{color:y(829),variant:"tonal",rounded:"",size:"42"},{default:l(()=>[t(B,{icon:y(1100)})]),_:1})]),append:l(()=>[t(W,{color:y(829),size:y(1196),label:"",class:y(561)},{default:l(()=>[b(" v"+w(n[y(769)][y(889)]),1)]),_:1}),t(W,{color:n[y(769)][y(540)]==="active"?"success":y(891),size:y(1196),label:""},{default:l(()=>[b(w(n[y(769)][y(540)]),1)]),_:1},8,["color"])]),default:l(()=>[t(ne,null,{default:l(()=>[b(y(463))]),_:1})]),_:1}),t(ae),S(Z)?(p(),R(Q,{key:0},{default:l(()=>[t(oe,null,{default:l(()=>[t(X,{cols:"12",md:"4"},{default:l(()=>[d(y(928),Xs,[Zs,d(y(928),$s,w(D(S(Z).estimated_cost)),1),d(y(928),Ks,y(1048)+w(q(S(Z).created_at)),1)])]),_:1}),t(X,{cols:"12",md:"8"},{default:l(()=>[Ys,t(at,{density:y(794)},{default:l(()=>[Qs,d(y(701),null,[(p(!0),z(le,null,ie(re(S(Z)[y(990)]),(s,r)=>{const f=y;return p(),z("tr",{key:r},[d("td",null,w(s[f(1023)]),1),d("td",Ws,w(s[f(817)]),1),d("td",er,w(D(s[f(973)])),1)])}),128))])]),_:1}),t(J,{color:y(829),variant:"tonal",class:y(680),size:y(1196),onClick:T[0]||(T[0]=s=>h(S(Z)))},{default:l(()=>[b(y(670))]),_:1})]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]),_:1}),t(X,{cols:"12"},{default:l(()=>[d("div",tr,[lr,S(I)?(p(),R(J,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:c,disabled:_[y(759)]},{default:l(()=>[b(y(576))]),_:1},8,["disabled"])):O("",!0)]),S(U)[y(857)]>1?(p(),R(at,{key:0},{default:l(()=>[ar,d("tbody",null,[(p(!0),z(le,null,ie(S(U),s=>{const r=y;return p(),z("tr",{key:s.id,class:rt({"bg-primary-lighten-5":s[r(930)]===n[r(769)].current_version_number}),style:{cursor:r(784)},onClick:f=>h(s)},[d("td",null,[d("div",rr,[d("span",or,"v"+w(s[r(930)]),1),s[r(930)]===n[r(769)][r(889)]?(p(),R(W,{key:0,color:r(829),size:"x-small",label:"",class:r(664)},{default:l(()=>[b(" Current ")]),_:1})):O("",!0)])]),d("td",null,w(q(s[r(673)])),1),d("td",null,[t(W,{color:s.status===r(1218)?r(940):"warning",size:r(1196),label:""},{default:l(()=>[b(w(s[r(540)]),1)]),_:2},1032,[r(716)])]),d("td",nr,w(D(s[r(536)])),1),d("td",ir,[t(J,{icon:"",variant:r(1199),size:r(1196),color:"primary",onClick:De(f=>h(s),[r(828)])},{default:l(()=>[t(B,{icon:"tabler-eye"})]),_:2},1032,[r(1032)])])],10,sr)}),128))])]),_:1})):S(U)[y(857)]===1?(p(),z(y(928),cr,ur)):(p(),z("div",dr,mr))]),_:1})]),_:1})])):(p(),z(y(928),Es,[t(B,{icon:y(963),size:"64",color:y(795),class:y(613)}),Hs,Gs,S(I)?(p(),R(J,{key:0,color:"primary",onClick:v,loading:_[y(759)]},{default:l(()=>[b(y(1123))]),_:1},8,[y(878)])):O("",!0)])),P[y(759)]?(p(),R(As,{key:3,modelValue:V[y(759)],"onUpdate:modelValue":T[1]||(T[1]=s=>V[y(759)]=s),version:P[y(759)],"is-current":P[y(759)]&&n[y(769)]&&P[y(759)][y(930)]===n.developmentPlan[y(889)],"is-admin":S($),"has-manager-permission":S(I),"plan-id":n[y(769)]?n[y(769)].id:null,onRefresh:T[2]||(T[2]=s=>o(y(495)))},null,8,[y(529),"version",y(477),"is-admin",y(993),y(846)])):O("",!0),t(Ns,{modelValue:k[y(759)],"onUpdate:modelValue":T[3]||(T[3]=s=>k[y(759)]=s),"plan-id":n[y(769)]?n[y(769)].id:null,"current-version-number":n[y(769)]?n[y(769)].current_version_number:0,onSubmit:C},null,8,[y(529),"plan-id",y(460)]),t(xe,{modelValue:E[y(759)][y(621)],"onUpdate:modelValue":T[5]||(T[5]=s=>E[y(759)].show=s),color:E[y(759)].color,timeout:5e3},{actions:l(()=>[t(m,{onClick:T[4]||(T[4]=s=>E[y(759)][y(621)]=!1)},{default:l(()=>[t(B,{icon:y(967)})]),_:1})]),default:l(()=>[b(w(E[y(759)][y(1199)])+" ",1)]),_:1},8,[y(529),y(716)])]),_:1})}}},ye=n=>(Ce("data-v-5ae692aa"),n=n(),Ue(),n),fr={key:0,class:"text-h5"},yr={key:1,class:a(890)},hr={key:0},vr={class:a(538)},_r=ye(()=>d("div",{class:a(639)},a(496),-1)),gr={key:1,class:a(616)},br={key:1},kr={class:a(499)},wr={class:"text-medium-emphasis d-flex align-center"},xr={class:a(1076)},Vr={class:a(956)},Cr={class:a(512)},Ur={class:"text-h5 mb-4"},Dr=ye(()=>d(a(602),{class:"text-primary"},a(1033),-1)),Sr={class:"text-h5 mb-4"},qr=ye(()=>d(a(602),{class:"text-primary"},a(1185),-1)),zr={class:a(607)},jr=ye(()=>d(a(602),{class:a(651)},a(558),-1)),Fr={key:0},Mr=ye(()=>d(a(928),{class:a(841)},a(496),-1)),Ir={key:1,class:a(475)},Pr={key:2,class:a(855)},Rr=ye(()=>d("p",null,a(861),-1)),Br={key:0,class:a(1186)},Ar=ye(()=>d("h4",{class:a(984)},"No History Available",-1)),Tr=ye(()=>d("p",{class:"text-medium-emphasis"},a(1220),-1)),Lr={key:1},Nr={class:a(956)},Or={class:"text-caption text-medium-emphasis"},Er=ye(()=>d(a(602),{class:a(651)},a(1033),-1)),Hr={class:a(938)},Gr=ye(()=>d(a(602),{class:a(651)},a(1185),-1)),Jr={class:a(613)},Xr=ye(()=>d(a(602),{class:a(651)},a(558),-1)),Zr={key:0},$r=ye(()=>d(a(928),{class:a(975)},a(1111),-1)),Kr={class:"ms-3"},Yr={class:a(478)},Qr={class:"d-flex justify-end mt-2"},Wr={key:1,class:"text-center pa-6"},eo=ye(()=>d("h4",{class:a(984)},a(714),-1)),to=ye(()=>d("p",{class:a(803)},a(883),-1)),lo={key:2},ao={class:a(584)},so={class:a(584)},ro={class:"text-caption text-medium-emphasis ml-2"},oo={class:a(600)},no=ye(()=>d("p",{class:a(587)},a(527),-1)),io=Ve({__name:"UserStoryDetailsDialog",props:{modelValue:{type:Boolean,default:!1},userStory:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(870),a(1124),a(569),a(785)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u.modelValue,set:m=>o(e(870),m)}),M=dt(),P=N(0),V=N(!1),k=N({...u[e(1150)]}),_=N(""),E=N(""),$=N(""),I=N(!1),H=N(!1),U=N({show:!1,text:"",color:e(940)}),Z=[{title:e(763),value:e(465)},{title:e(698),value:"active"},{title:"Archived",value:"archived"},{title:e(640),value:e(1198)}],q=K(()=>u[e(1150)].history||[]),D=K(()=>{const m=e;return u[m(1150)][m(809)]||[]}),h=m=>{const s=e;return m?(m=parseInt(m),new Date(m)[s(1210)]("en-US",{year:s(1176),month:s(604),day:s(1176),hour:s(1e3),minute:"2-digit"})):""},c=()=>{const m=e;V[m(759)]&&(k[m(759)]={...u[m(1150)]},_[m(759)]=""),V.value=!V[m(759)]},C=()=>{const m=e;_[m(759)][m(635)]()&&(!k.value[m(1096)]&&(k[m(759)][m(1096)]=[]),k.value[m(1096)][m(630)](_[m(759)][m(635)]()),_[m(759)]="")},v=()=>{const m=e;o(m(1124),k[m(759)]),V[m(759)]=!1},g=()=>{o(e(569))},re=()=>{const m=e;$[m(759)]="",I[m(759)]=!0},F=()=>{const m=e;o(m(785),$[m(759)]),I[m(759)]=!1},T=async()=>{const m=e;if(E[m(759)][m(635)]()){H[m(759)]=!0;try{const{data:s,error:r}=await M[m(1102)](u[m(1150)].id,{text:E[m(759)],status:"active"});if(s&&!r){y(m(871)),E.value="";const{data:f}=await M.fetchUserStoryById(u[m(1150)].id);f&&Object.assign(u[m(1150)],f)}else y(m(627),m(722))}catch(s){y(m(457)+s[m(949)],"error")}finally{H[m(759)]=!1}}},y=(m,s=e(940))=>{U[e(759)]={show:!0,text:m,color:s}};return ze(()=>u[e(1150)],m=>{k[e(759)]={...m}},{deep:!0}),(m,s)=>{const r=e,f=ve(r(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":s[14]||(s[14]=i=>Me(j)?j[r(759)]=i:null),"max-width":r(1003),scrollable:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:"d-flex pt-5 px-5"},{default:l(()=>[V.value?(p(),z("h5",fr,r(652))):(p(),z("h5",yr,"User Story Details")),t(te),t(f,{onClick:s[0]||(s[0]=i=>j[r(759)]=!1)},{default:l(()=>[t(B,{icon:r(967)})]),_:1})]),_:1}),t(Q,{class:r(450)},{default:l(()=>[t(nt,{modelValue:P[r(759)],"onUpdate:modelValue":s[1]||(s[1]=i=>P[r(759)]=i),"slider-color":r(829),"align-tabs":r(484)},{default:l(()=>[t(_e,{value:"0"},{default:l(()=>[t(B,{size:"18",icon:"tabler-user-check",start:""}),b(r(481))]),_:1}),t(_e,{value:"1"},{default:l(()=>[t(B,{size:"18",icon:r(585),start:""}),b(r(887)),S(q).length?(p(),R(W,{key:0,size:r(807),color:r(829),class:r(664)},{default:l(()=>[b(w(S(q)[r(857)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"2"},{default:l(()=>[t(B,{size:"18",icon:r(524),start:""}),b(r(1211)),S(D)[r(857)]?(p(),R(W,{key:0,size:"x-small",color:r(829),class:r(664)},{default:l(()=>[b(w(S(D).length),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,[r(529)])]),_:1}),t(ae),t(Q,{class:r(732),style:{"min-height":r(564),"max-height":r(472)}},{default:l(()=>[t(ct,{modelValue:P[r(759)],"onUpdate:modelValue":s[8]||(s[8]=i=>P.value=i),class:r(523)},{default:l(()=>[t(ge,{value:"0"},{default:l(()=>[V[r(759)]?(p(),z("div",hr,[t(Ie,{onSubmit:De(v,[r(682)])},{default:l(()=>[t(oe,{class:r(487)},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[r(759)][r(1023)],"onUpdate:modelValue":s[2]||(s[2]=i=>k[r(759)][r(1023)]=i),label:r(900),required:"",rules:[i=>!!i||"Role is required"]},null,8,[r(529),r(910)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[r(759)][r(992)],"onUpdate:modelValue":s[3]||(s[3]=i=>k[r(759)].action=i),label:r(818),required:"",rules:[i=>!!i||r(1142)]},null,8,["modelValue",r(910)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[r(759)][r(724)],"onUpdate:modelValue":s[4]||(s[4]=i=>k[r(759)][r(724)]=i),label:r(852),required:"",rules:[i=>!!i||r(1192)]},null,8,[r(529),r(910)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:k[r(759)][r(540)],"onUpdate:modelValue":s[5]||(s[5]=i=>k.value.status=i),label:r(1093),items:Z,required:""},null,8,[r(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[d(r(928),vr,[_r,t(oe,{class:r(721)},{default:l(()=>[t(X,{cols:"10",sm:"8"},{default:l(()=>[t(ce,{modelValue:_.value,"onUpdate:modelValue":s[6]||(s[6]=i=>_[r(759)]=i),placeholder:r(1122),density:"compact","hide-details":"",class:"me-2",onKeyup:Vt(C,[r(791)])},null,8,[r(529),"onKeyup"])]),_:1}),t(X,{cols:"2",sm:"4"},{default:l(()=>[t(J,{color:r(829),size:r(1196),disabled:!_[r(759)].trim(),onClick:C},{default:l(()=>[b(r(1135))]),_:1},8,[r(560)])]),_:1})]),_:1})]),k[r(759)][r(1096)]&&k[r(759)][r(1096)][r(857)]>0?(p(),R(et,{key:0},{default:l(()=>[(p(!0),z(le,null,ie(k.value[r(1096)],(i,x)=>{const L=r;return p(),R(tt,{key:x},{prepend:l(()=>[t(B,{icon:L(1162),color:L(940)})]),append:l(()=>[t(f,{color:L(722),variant:L(1199),size:L(1196),onClick:A=>(G=>{const Y=e;k[Y(759)][Y(1096)][Y(737)](G,1)})(x)},{default:l(()=>[t(B,{icon:"tabler-trash",size:"18"})]),_:2},1032,[L(1032)])]),default:l(()=>[t(lt,null,{default:l(()=>[b(w(i),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(p(),z(r(928),gr,r(571)))]),_:1})]),_:1})]),_:1},8,["onSubmit"])])):(p(),z("div",br,[d(r(928),kr,[t(W,{color:S(be)(n.userStory[r(540)]),size:"small",label:"",class:r(561)},{default:l(()=>[b(w(Ne(n[r(1150)].status)),1)]),_:1},8,[r(716)]),t(W,{color:r(795),size:r(1196),label:"",class:r(664)},{default:l(()=>[b(" v"+w(n.userStory[r(930)]),1)]),_:1}),t(te),d(r(928),wr,[t(B,{size:"18",icon:r(848),class:"me-1"}),d(r(602),xr,r(771)+w(h(n[r(1150)][r(856)])),1),t(B,{size:"18",icon:"tabler-calendar-plus",class:r(506)}),d("span",Vr,r(645)+w(h(n[r(1150)][r(673)])),1)])]),d("div",Cr,[d(r(928),Ur,[Dr,b(" "+w(n[r(1150)][r(1023)])+", ",1)]),d(r(928),Sr,[qr,b(" "+w(n[r(1150)][r(992)])+", ",1)]),d("div",zr,[jr,b(" "+w(n[r(1150)].benefit)+". ",1)])]),t(ae,{class:r(613)}),n[r(1150)][r(1096)]&&n[r(1150)][r(1096)][r(857)]>0?(p(),z(r(928),Fr,[Mr,t(et,null,{default:l(()=>[(p(!0),z(le,null,ie(n[r(1150)][r(1096)],(i,x)=>{const L=r;return p(),R(tt,{key:x,class:L(575)},{prepend:l(()=>[t(B,{icon:L(1162),color:"success",class:L(561)})]),default:l(()=>[t(lt,null,{default:l(()=>[b(w(i),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})])):(p(),z(r(928),Ir,r(1060))),n[r(1150)][r(970)]===r(1126)?(p(),z("div",Pr,[t(it,{color:r(1141),variant:r(858),icon:"tabler-refresh"},{default:l(()=>[t(Dt,null,{default:l(()=>[b(r(718))]),_:1}),Rr]),_:1})])):O("",!0)]))]),_:1}),t(ge,{value:"1"},{default:l(()=>[S(q)[r(857)]===0?(p(),z(r(928),Br,[t(B,{icon:r(585),size:"64",color:r(795),class:r(581)}),Ar,Tr])):(p(),z(r(928),Lr,[t(St,{density:r(794),align:"start"},{default:l(()=>[(p(!0),z(le,null,ie(S(q),(i,x)=>{const L=r;return p(),R(qt,{key:x,"dot-color":L(829),size:L(1196)},{opposite:l(()=>[d(L(928),Nr,w(h(i[L(749)])),1),d(L(928),Or,"v"+w(i.version_number),1)]),default:l(()=>[t(se,{border:""},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(je,{color:L(829),variant:L(858),size:"36"},{default:l(()=>[t(B,{icon:L(925)})]),_:1})]),append:l(()=>[t(W,{color:S(be)(i[L(540)]),size:L(1196),label:"",class:L(664)},{default:l(()=>[b(w(i[L(540)]),1)]),_:2},1032,[L(716)])]),default:l(()=>[t(ne,null,{default:l(()=>[Er,b(" "+w(i[L(1023)]),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:l(()=>[d("p",Hr,[Gr,b(" "+w(i[L(992)]),1)]),d("p",Jr,[Xr,b(" "+w(i[L(724)]),1)]),i[L(1096)]&&i[L(1096)][L(857)]>0?(p(),z("div",Zr,[$r,d("ul",Kr,[(p(!0),z(le,null,ie(i[L(1096)],(A,G)=>(p(),z("li",{key:G},w(A),1))),128))])])):O("",!0),d("div",Yr,L(1177)+w(i[L(1066)]?i[L(1066)][L(1004)]:"System"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ge,{value:"2"},{default:l(()=>[t(oe,{class:r(487)},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:E.value,"onUpdate:modelValue":s[7]||(s[7]=i=>E[r(759)]=i),label:r(961),rows:"3",counter:"",disabled:H[r(759)]},null,8,[r(529),"disabled"]),d("div",Qr,[t(J,{color:"primary",size:r(1196),loading:H[r(759)],disabled:!E[r(759)][r(635)](),onClick:T},{default:l(()=>[b(r(814))]),_:1},8,["loading","disabled"])])]),_:1}),t(X,{cols:"12"},{default:l(()=>[S(D).length?(p(),R(ae,{key:0,class:r(613)})):O("",!0),S(D).length===0?(p(),z(r(928),Wr,[t(B,{icon:r(524),size:"64",color:"secondary",class:r(581)}),eo,to])):(p(),z(r(928),lo,[(p(!0),z(le,null,ie(S(D),i=>{const x=r;return p(),z(x(928),{key:i.id,class:x(944)},[t(se,{border:""},{default:l(()=>[t(Q,{class:x(611)},{default:l(()=>[d(x(928),ao,[t(je,{color:x(829),variant:x(858),size:"36",class:x(1041)},{default:l(()=>[t(B,{icon:"tabler-user"})]),_:1}),d("div",null,[d(x(928),so,[d(x(498),null,w(i.user?i[x(911)][x(1004)]:x(1105)),1),d("div",ro,w(h(i[x(673)])),1)])]),t(te),n[x(964)]||n[x(920)]?(p(),R(f,{key:0,size:x(1196),color:x(722),variant:"text",onClick:L=>(async A=>{const G=e;H.value=!0;try{const{success:Y,error:ue}=await M[G(965)](A);if(Y&&!ue){y(G(668));const{data:de}=await M[G(849)](u[G(1150)].id);de&&Object[G(824)](u[G(1150)],de)}else y(G(842),G(722))}catch(Y){y("Failed to delete comment: "+Y[G(949)],G(722))}finally{H[G(759)]=!1}})(i.id),disabled:H[x(759)]},{default:l(()=>[t(B,{icon:x(1046),size:"18"})]),_:2},1032,[x(1032),"disabled"])):O("",!0)]),d(x(928),oo,w(i[x(1199)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[r(529)])]),_:1}),t(ae),t(me,{class:r(753)},{default:l(()=>[V[r(759)]?(p(),z(le,{key:0},[t(J,{color:r(795),variant:r(858),onClick:c},{default:l(()=>[b(r(441))]),_:1}),t(te),t(J,{color:r(829),onClick:v},{default:l(()=>[b(r(880))]),_:1})],64)):(p(),z(le,{key:1},[n[r(964)]?(p(),R(J,{key:0,color:r(722),variant:r(858),"prepend-icon":r(1046),onClick:g},{default:l(()=>[b(r(675))]),_:1})):O("",!0),n[r(760)]?(p(),R(J,{key:1,color:r(1141),variant:r(858),"prepend-icon":"tabler-refresh",class:r(664),onClick:re},{default:l(()=>[b(" Regenerate ")]),_:1})):O("",!0),t(te),n[r(760)]?(p(),R(J,{key:2,color:r(829),"prepend-icon":r(937),onClick:c},{default:l(()=>[b(" Edit ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(we,{modelValue:I.value,"onUpdate:modelValue":s[11]||(s[11]=i=>I[r(759)]=i),"max-width":r(726),persistent:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:r(1146)},{default:l(()=>[b(r(1197))]),_:1}),t(Q,null,{default:l(()=>[no,t(ke,{modelValue:$[r(759)],"onUpdate:modelValue":s[9]||(s[9]=i=>$[r(759)]=i),label:r(843),placeholder:r(695),rows:"4",counter:""},null,8,[r(529)])]),_:1}),t(me,null,{default:l(()=>[t(J,{color:"secondary",variant:r(858),onClick:s[10]||(s[10]=i=>I[r(759)]=!1)},{default:l(()=>[b(r(441))]),_:1}),t(te),t(J,{color:r(829),onClick:F},{default:l(()=>[b(r(742))]),_:1})]),_:1})]),_:1})]),_:1},8,[r(529)]),t(xe,{modelValue:U.value[r(621)],"onUpdate:modelValue":s[13]||(s[13]=i=>U.value.show=i),color:U.value.color,timeout:5e3},{actions:l(()=>[t(f,{onClick:s[12]||(s[12]=i=>U[r(759)][r(621)]=!1)},{default:l(()=>[t(B,{icon:r(967)})]),_:1})]),default:l(()=>[b(w(U.value[r(1199)])+" ",1)]),_:1},8,[r(529),r(716)])]),_:1},8,["modelValue"])}}},[[a(677),"data-v-5ae692aa"]]),co={class:"text-h5"},uo=d(a(928),{class:a(639)},a(496),-1),mo={class:a(597)},po={key:1,class:a(616)},fo={__name:a(693),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},userStoryData:{type:Object,default:()=>({})}},emits:[a(870),a(1055)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u.modelValue,set:q=>o("update:modelValue",q)}),M=N({role:u.editMode&&u[e(582)]?u[e(582)][e(1023)]:"",action:u[e(906)]&&u.userStoryData?u[e(582)][e(992)]:"",benefit:u[e(906)]&&u.userStoryData?u.userStoryData[e(724)]:"",acceptance_criteria:u[e(906)]&&u[e(582)]?[...u.userStoryData[e(1096)]]:[],status:u[e(906)]&&u[e(582)]?u.userStoryData[e(540)]:e(465)}),P=N(""),V=N(null),k=[q=>!!q||e(549)],_=[q=>!!q||"Action is required"],E=[q=>!!q||e(1192)],$=[{title:e(763),value:e(465)},{title:e(698),value:"active"},{title:"Archived",value:e(853)},{title:e(640),value:e(1198)}],I=()=>{const q=e;P[q(759)].trim()&&(!M[q(759)][q(1096)]&&(M[q(759)][q(1096)]=[]),M.value.acceptance_criteria.push(P[q(759)][q(635)]()),P[q(759)]="")},H=()=>{const q=e;M[q(759)]={role:"",action:"",benefit:"",acceptance_criteria:[],status:q(465)},P[q(759)]="",V[q(759)]&&V[q(759)][q(631)]()},U=()=>{j[e(759)]=!1,H()},Z=async()=>{const q=e,{valid:D}=await V[q(759)].validate();D&&(o(q(1055),M.value),j[q(759)]=!1,H())};return ze(j,q=>{q||H()}),(q,D)=>{const h=e,c=ve(h(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":D[5]||(D[5]=C=>Me(j)?j[h(759)]=C:null),"max-width":h(834),persistent:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:h(596)},{default:l(()=>[d("h5",co,w(u[h(906)]?h(652):h(517)),1),t(te),t(c,{onClick:U},{default:l(()=>[t(B,{icon:h(967)})]),_:1})]),_:1}),t(Q,{class:h(1024)},{default:l(()=>[t(Ie,{ref_key:h(983),ref:V,onSubmit:De(Z,[h(682)])},{default:l(()=>[t(oe,{class:h(487)},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:M[h(759)][h(1023)],"onUpdate:modelValue":D[0]||(D[0]=C=>M[h(759)][h(1023)]=C),label:h(900),rules:k,placeholder:h(916),required:""},null,8,[h(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:M.value[h(992)],"onUpdate:modelValue":D[1]||(D[1]=C=>M[h(759)][h(992)]=C),label:h(818),rules:_,placeholder:h(735),required:""},null,8,[h(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:M[h(759)][h(724)],"onUpdate:modelValue":D[2]||(D[2]=C=>M[h(759)].benefit=C),label:h(852),rules:E,placeholder:h(876),required:""},null,8,[h(529)])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:M[h(759)].status,"onUpdate:modelValue":D[3]||(D[3]=C=>M[h(759)].status=C),label:h(1093),items:$,required:""},null,8,[h(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[uo,d(h(928),mo,[t(oe,{class:"w-100"},{default:l(()=>[t(X,{cols:"10",sm:"8"},{default:l(()=>[t(ce,{modelValue:P[h(759)],"onUpdate:modelValue":D[4]||(D[4]=C=>P.value=C),placeholder:h(1122),density:h(794),"hide-details":"",class:h(561),onKeyup:Vt(I,["enter"])},null,8,[h(529),"onKeyup"])]),_:1}),t(X,{cols:"2",sm:"4"},{default:l(()=>[t(J,{color:"primary",size:h(1196),disabled:!P[h(759)][h(635)](),onClick:I},{default:l(()=>[b(h(1135))]),_:1},8,[h(560)])]),_:1})]),_:1})]),M[h(759)].acceptance_criteria&&M[h(759)][h(1096)][h(857)]>0?(p(),R(et,{key:0},{default:l(()=>[(p(!0),z(le,null,ie(M[h(759)][h(1096)],(C,v)=>{const g=h;return p(),R(tt,{key:v},{prepend:l(()=>[t(B,{icon:g(1162),color:g(940)})]),append:l(()=>[t(c,{color:"error",variant:"text",size:g(1196),onClick:re=>(F=>{const T=e;M.value[T(1096)][T(737)](F,1)})(v)},{default:l(()=>[t(B,{icon:"tabler-trash",size:"18"})]),_:2},1032,[g(1032)])]),default:l(()=>[t(lt,null,{default:l(()=>[b(w(C),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(p(),z(h(928),po,h(681)))]),_:1})]),_:1})]),_:1},8,[h(1037)])]),_:1}),t(ae),t(me,{class:h(753)},{default:l(()=>[t(J,{variant:"tonal",color:h(795),onClick:U},{default:l(()=>[b(h(441))]),_:1}),t(te),t(J,{color:"primary",onClick:Z},{default:l(()=>[b(w(u[h(906)]?h(772):h(662))+" User Story ",1)]),_:1})]),_:1})]),_:1})]),_:1},8,[h(529)])}}},$e=n=>(Ce("data-v-5106171e"),n=n(),Ue(),n),yo={key:0,class:"d-flex justify-center align-center",style:{height:a(678)}},ho={key:1,class:a(454)},vo=$e(()=>d("h4",{class:"text-h6 mb-2"},a(921),-1)),_o={class:a(765)},go={class:"text-body-1 mb-2"},bo=$e(()=>d(a(602),{class:a(547)},a(1183),-1)),ko={class:a(1056)},wo=$e(()=>d(a(602),{class:a(547)},a(541),-1)),xo={key:0},Vo=$e(()=>d("div",{class:a(1203)},"Acceptance Criteria:",-1)),Co={class:"ml-4"},Uo={key:0},Do={class:a(913)},So={class:a(584)},qo={class:a(956)},zo={class:a(584)},jo={class:a(956)},Fo=Ve({__name:a(594),props:{projectId:{type:String,required:!0},requirementId:{type:String,required:!1,default:null},userStories:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[a(495)],setup(n,{emit:o}){const e=a,u=n,j=dt(),M=Re(),P=N(""),V=N(e(1133)),k=N(null),_=N(!1),E=N(!1),$=N(!1),I=N(!1),H=N({show:!1,text:"",color:"success"}),U=K(()=>M[e(1045)]()),Z=K(()=>M[e(1164)][e(1023)]>=2),q=K(()=>M.userData[e(1023)]>=3),D=[{title:e(844),value:e(1133)},{title:e(763),value:e(465)},{title:"Active",value:e(1218)},{title:"Archived",value:e(853)},{title:"Completed",value:e(1198)}],h=K(()=>{const y=e;return u[y(1002)][y(892)](m=>{const s=y,r=!P[s(759)]||m.role[s(624)]()[s(1014)](P[s(759)][s(624)]())||m[s(992)][s(624)]()[s(1014)](P[s(759)][s(624)]())||m.benefit.toLowerCase().includes(P[s(759)][s(624)]()),f=V[s(759)]===s(1133)||m[s(540)]===V[s(759)];return r&&f})}),c=()=>{E.value=!0},C=async y=>{const m=e;I[m(759)]=!0;try{const{data:s,error:r}=await j[m(461)]({...y,requirement:u.requirementId});s&&!r?(F(m(493)),o(m(495))):F(m(513),m(722))}catch(s){F(m(831)+s.message,m(722))}finally{I[m(759)]=!1}},v=async y=>{const m=e;I[m(759)]=!0;try{const{data:s,error:r}=await j[m(699)](k[m(759)].id,y);s&&!r?(F(m(1179)),o(m(495))):F(m(1215),m(722))}catch(s){F(m(669)+s[m(949)],m(722))}finally{I[m(759)]=!1}},g=async()=>{const y=e;if(k[y(759)]){I[y(759)]=!0,$[y(759)]=!1;try{const{success:m,error:s}=await j[y(1222)](k.value.id);m&&!s?(F("User story deleted successfully"),o(y(495)),_[y(759)]=!1):F("Failed to delete user story","error")}catch(m){F("Failed to delete user story: "+m.message,y(722))}finally{I[y(759)]=!1}}},re=async(y="")=>{const m=e;if(k[m(759)]){I[m(759)]=!0;try{const{data:s,error:r}=await j[m(885)](k[m(759)].id,y);s&&!r?(F(m(711)),setTimeout(()=>{o(m(495))},3e3)):F(m(501),"error")}catch(s){F(m(1113)+s[m(949)],m(722))}finally{I[m(759)]=!1}}},F=(y,m=e(940))=>{H[e(759)]={show:!0,text:y,color:m}},T=y=>{const m=e;return y?(y=parseInt(y),new Date(y).toLocaleDateString(m(1138),{year:"numeric",month:m(604),day:"numeric"})):""};return ot(()=>{const y=e;u[y(466)]&&!u.userStories[y(857)]&&!u[y(878)]&&j[y(458)](u[y(466)])[y(974)](({data:m})=>{m&&o(y(495))})}),(y,m)=>{const s=e,r=Oe,f=ve(s(1083));return p(),R(Q,{class:"pa-6"},{default:l(()=>[t(oe,null,{default:l(()=>[t(X,{cols:"12",md:"6"},{default:l(()=>[t(ce,{modelValue:P.value,"onUpdate:modelValue":m[0]||(m[0]=i=>P[s(759)]=i),density:"compact",placeholder:s(1080),"prepend-inner-icon":s(574),"hide-details":"",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1}),t(X,{cols:"12",md:"4"},{default:l(()=>[t(pe,{modelValue:V[s(759)],"onUpdate:modelValue":m[1]||(m[1]=i=>V[s(759)]=i),items:D,density:s(794),"hide-details":"",label:s(1093),variant:s(1101)},null,8,[s(529)])]),_:1}),t(X,{cols:"12",md:"2",class:s(584)},{default:l(()=>[S(q)&&n[s(466)]?(p(),R(J,{key:0,color:"primary","prepend-icon":s(886),onClick:c,loading:I[s(759)],block:""},{default:l(()=>[b(s(1135))]),_:1},8,["loading"])):O("",!0)]),_:1})]),_:1}),t(ae,{class:s(793)}),n.loading?(p(),z("div",yo,[t(Fe,{indeterminate:"",color:s(829)})])):S(h)[s(857)]===0?(p(),z(s(928),ho,[t(B,{icon:s(514),size:"64",color:s(795),class:s(613)}),vo,d("p",_o,w(P[s(759)]||V[s(759)]!==s(1133)?s(1174):"This requirement does not have any user stories yet."),1),S(q)&&n[s(466)]&&!P.value&&V[s(759)]===s(1133)?(p(),R(J,{key:0,color:s(829),onClick:c,"prepend-icon":"tabler-plus"},{default:l(()=>[b(s(434))]),_:1})):O("",!0)])):(p(),R(oe,{key:2},{default:l(()=>[(p(!0),z(le,null,ie(S(h),i=>{const x=s;return p(),R(X,{key:i.id,cols:"12",md:"6"},{default:l(()=>[t(se,{class:x(431),onClick:L=>{return A=i,k[e(759)]=A,void(_.value=!0);var A},border:"",hover:""},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(je,{color:"primary",variant:x(858),size:"42"},{default:l(()=>[t(B,{icon:x(925)})]),_:1})]),append:l(()=>[t(W,{color:S(be)(i[x(540)]),size:x(1196),label:""},{default:l(()=>[b(w(i.status),1)]),_:2},1032,[x(716)])]),default:l(()=>[t(ne,null,{default:l(()=>[b(x(948)+w(i[x(1023)]),1)]),_:2},1024)]),_:2},1024),t(Q,{class:x(679)},{default:l(()=>[d("p",go,[bo,b(" "+w(i[x(992)]),1)]),d("p",ko,[wo,b(" "+w(i.benefit),1)]),i.acceptance_criteria&&i[x(1096)].length>0?(p(),z(x(928),xo,[Vo,d("ul",Co,[(p(!0),z(le,null,ie(i[x(1096)][x(470)](0,2),(L,A)=>(p(),z("li",{key:A},w(L),1))),128)),i[x(1096)][x(857)]>2?(p(),z("li",Uo,x(764)+w(i.acceptance_criteria[x(857)]-2)+x(489),1)):O("",!0)])])):O("",!0),t(te),d("div",Do,[d("div",So,[t(B,{size:"16",icon:x(848),class:x(506)}),d(x(602),qo,w(T(i[x(856)])),1)]),d("div",zo,[t(B,{size:"16",icon:"tabler-history",class:"me-1"}),d(x(602),jo,"v"+w(i[x(930)]),1)])])]),_:2},1024)]),_:2},1032,[x(1032)])]),_:2},1024)}),128))]),_:1})),k[s(759)]?(p(),R(io,{key:3,modelValue:_[s(759)],"onUpdate:modelValue":m[2]||(m[2]=i=>_[s(759)]=i),"user-story":k[s(759)],onDelete:m[3]||(m[3]=i=>$[s(759)]=!0),onUpdate:v,onRegenerate:re,"is-admin":S(U),"has-manager-permission":S(Z),"has-moderator-permission":S(q)},null,8,[s(529),s(586),s(657),"has-manager-permission",s(656)])):O("",!0),t(fo,{modelValue:E[s(759)],"onUpdate:modelValue":m[4]||(m[4]=i=>E[s(759)]=i),onSubmit:C},null,8,[s(529)]),t(r,{isDialogVisible:$.value,"onUpdate:isDialogVisible":m[5]||(m[5]=i=>$[s(759)]=i),confirmationMsg:s(808),onConfirm:g},null,8,[s(531)]),t(xe,{modelValue:H[s(759)].show,"onUpdate:modelValue":m[7]||(m[7]=i=>H.value.show=i),color:H[s(759)][s(716)],timeout:5e3},{actions:l(()=>[t(f,{onClick:m[6]||(m[6]=i=>H[s(759)][s(621)]=!1)},{default:l(()=>[t(B,{icon:s(967)})]),_:1})]),default:l(()=>[b(w(H[s(759)].text)+" ",1)]),_:1},8,[s(529),s(716)])]),_:1})}}},[[a(677),a(1052)]]),Ee=n=>(Ce(a(943)),n=n(),Ue(),n),Mo={key:0,class:a(890)},Io={class:a(890)},Po={key:0},Ro=Ee(()=>d(a(928),{class:"text-subtitle-1 font-weight-medium mb-2"},a(987),-1)),Bo={class:a(810)},Ao=Ee(()=>d(a(928),{class:a(659)},a(734),-1)),To={key:1},Lo={key:0,class:a(1209)},No=Ee(()=>d("p",null,"This diagram is currently being generated. Please check back shortly.",-1)),Oo={class:a(1084)},Eo={class:a(609)},Ho={class:a(1076)},Go={class:a(956)},Jo={key:1,class:a(837)},Xo={class:a(439)},Zo={key:0,class:a(664)},$o={class:a(745)},Ko={class:a(1076)},Yo={class:a(956)},Qo={key:2,class:"d-flex flex-column justify-center align-center pa-6",style:{height:a(564)}},Wo=Ee(()=>d("h4",{class:"text-h6 mb-2"},a(1155),-1)),en=Ee(()=>d("p",{class:a(1118)},a(702),-1)),tn=Ve({__name:a(1085),props:{modelValue:{type:Boolean,default:!1},diagram:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(870),"delete",a(785)],setup(n,{emit:o}){const e=a,u=n,j=K({get:()=>u[e(529)],set:C=>o(e(870),C)}),M=mt(),P=N(!1),V=N(!1),k=N({...u[e(455)]}),_=N(!1),E=N({show:!1,text:"",color:e(940)}),$=[{title:e(763),value:e(465)},{title:e(698),value:e(1218)},{title:e(1067),value:"archived"},{title:e(640),value:e(1198)}],I=C=>{const v=e;return C?(C=parseInt(C),new Date(C)[v(1210)](v(1138),{year:"numeric",month:v(604),day:"numeric",hour:"2-digit",minute:v(1e3)})):""},H=C=>{const v=e;switch(C[v(624)]()){case v(500):return v(1068);case v(686):return v(926);case"activity":return"Activity Diagram";case v(966):return"Use Case Diagram";case v(1042):return"State Diagram";case v(863):return"Component Diagram";case"deployment":return v(1188);case"er":return v(1026);default:return C[v(968)](0).toUpperCase()+C.slice(1)+v(783)}},U=()=>{const C=e;P.value=!P[C(759)]},Z=()=>{const C=e;V[C(759)]&&(k[C(759)]={...u[C(455)]}),V[C(759)]=!V[C(759)]},q=async()=>{const C=e;_[C(759)]=!0;try{const{data:v,error:g}=await M[C(1064)](u[C(455)].id,k[C(759)]);v&&!g?(c(C(1163)),Object[C(824)](u[C(455)],v),V[C(759)]=!1):c(C(661),C(722))}catch(v){c(C(1140)+v[C(949)],C(722))}finally{_[C(759)]=!1}},D=()=>{o(e(569))},h=async()=>{const C=e;_.value=!0;try{const{data:v,error:g}=await M[C(606)](u[C(455)].id);v&&!g?(c(C(491)),setTimeout(()=>{o(C(785))},3e3)):c(C(494),"error")}catch(v){c("Failed to regenerate UML diagram: "+v[C(949)],C(722))}finally{_.value=!1}},c=(C,v=e(940))=>{E[e(759)]={show:!0,text:C,color:v}};return ze(()=>u[e(455)],C=>{k[e(759)]={...C}},{deep:!0}),(C,v)=>{const g=e,re=ve(g(1083));return p(),R(we,{modelValue:S(j),"onUpdate:modelValue":v[7]||(v[7]=F=>Me(j)?j[g(759)]=F:null),fullscreen:P[g(759)],"max-width":P[g(759)]?"100%":g(1003),scrollable:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:"d-flex py-3 px-5"},{default:l(()=>[V[g(759)]?(p(),z("h5",Mo,g(1223))):(p(),z(le,{key:1},[d("h5",Io,w(n[g(455)].name),1),t(W,{class:"ms-2",color:g(795),size:g(1196),label:""},{default:l(()=>[b(w(H(n.diagram[g(704)])),1)]),_:1})],64)),t(te),t(J,{icon:"",variant:g(1199),onClick:U},{default:l(()=>[t(B,{icon:P[g(759)]?g(1125):"tabler-maximize"},null,8,[g(665)])]),_:1}),t(re,{onClick:v[0]||(v[0]=F=>j[g(759)]=!1)},{default:l(()=>[t(B,{icon:"tabler-x"})]),_:1})]),_:1}),t(ae),t(Q,{class:rt({"pa-0":!V.value&&n[g(455)][g(1173)],"pa-6":V[g(759)]||!n[g(455)][g(1173)]}),style:Te({height:P[g(759)]?g(821):g(472),maxHeight:g(1016)})},{default:l(()=>[V[g(759)]?(p(),z(g(928),Po,[t(Ie,{onSubmit:De(q,[g(682)])},{default:l(()=>[t(oe,{class:"mt-3"},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[g(759)][g(620)],"onUpdate:modelValue":v[1]||(v[1]=F=>k[g(759)][g(620)]=F),label:g(605),required:"",rules:[F=>!!F||g(908)]},null,8,[g(529),"rules"])]),_:1}),t(X,{cols:"12",md:"6"},{default:l(()=>[t(pe,{modelValue:k[g(759)].status,"onUpdate:modelValue":v[2]||(v[2]=F=>k.value.status=F),label:g(1093),items:$,required:""},null,8,[g(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[t(ke,{modelValue:k[g(759)].notes,"onUpdate:modelValue":v[3]||(v[3]=F=>k[g(759)].notes=F),label:g(960),rows:"4"},null,8,[g(529)])]),_:1}),t(X,{cols:"12"},{default:l(()=>[Ro,d(g(928),Bo,[Ao,t(ke,{modelValue:k[g(759)][g(1173)],"onUpdate:modelValue":v[4]||(v[4]=F=>k[g(759)].content=F),rows:"15",monospace:"","hide-details":""},null,8,[g(529)])])]),_:1})]),_:1})]),_:1},8,[g(1037)])])):(p(),z(g(928),To,[n.diagram.generation_status===g(1126)?(p(),z(g(928),Lo,[t(it,{color:g(1141),variant:g(858),icon:"tabler-refresh"},{default:l(()=>[t(Dt,null,{default:l(()=>[b(g(520))]),_:1}),No]),_:1}),d(g(928),Oo,[t(Fe,{indeterminate:"",color:"primary",size:"64"})]),d(g(928),Eo,[t(B,{size:"18",icon:g(848),class:g(506)}),d(g(602),Ho,g(771)+w(I(n[g(455)][g(856)])),1),t(B,{size:"18",icon:g(438),class:"me-1"}),d(g(602),Go,"Created: "+w(I(n[g(455)].created_at)),1)])])):n[g(455)][g(1173)]?(p(),z(g(928),Jo,[d(g(928),Xo,[t(W,{color:S(be)(n[g(455)].status),size:g(1196),label:"",class:"me-2"},{default:l(()=>[b(w(n[g(455)].status),1)]),_:1},8,[g(716)]),n[g(455)][g(687)]?(p(),z(g(928),Zo,[t($t,null,{activator:l(({props:F})=>[t(B,Et({icon:g(629),size:"18",color:g(1141)},F),null,16)]),default:l(()=>[d(g(602),null,w(n[g(455)][g(687)]),1)]),_:1})])):O("",!0),t(te),d(g(928),$o,[t(B,{size:"18",icon:g(848),class:g(506)}),d("span",Ko,g(771)+w(I(n.diagram.updated_at)),1),t(B,{size:"18",icon:"tabler-calendar-plus",class:"me-1"}),d(g(602),Yo,g(645)+w(I(n[g(455)].created_at)),1)])]),t(ae),d(g(928),{class:g(1112),style:Te({height:P[g(759)]?g(796):"calc(70vh - 110px)",overflow:g(766)})},[n.diagram[g(1173)]?(p(),R(Ct,{key:0,src:S(Ut)(n[g(455)][g(1173)]),class:g(1191),alt:g(603)},null,8,[g(1059)])):O("",!0)],4)])):(p(),z(g(928),Qo,[t(B,{icon:g(685),size:"64",color:g(795),class:g(613)}),Wo,en]))]))]),_:1},8,[g(500),g(1127)]),t(ae),t(me,{class:g(753)},{default:l(()=>[V[g(759)]?(p(),z(le,{key:0},[t(J,{color:g(795),variant:"tonal",onClick:Z,disabled:_[g(759)]},{default:l(()=>[b(g(441))]),_:1},8,[g(560)]),t(te),t(J,{color:g(829),onClick:q,loading:_[g(759)]},{default:l(()=>[b(g(880))]),_:1},8,["loading"])],64)):(p(),z(le,{key:1},[n[g(964)]?(p(),R(J,{key:0,color:g(722),variant:g(858),"prepend-icon":g(1046),onClick:D},{default:l(()=>[b(g(675))]),_:1})):O("",!0),n.hasModeratorPermission?(p(),R(J,{key:1,color:g(1141),variant:"tonal","prepend-icon":"tabler-refresh",class:g(664),onClick:h,loading:_.value},{default:l(()=>[b(g(742))]),_:1},8,[g(878)])):O("",!0),t(te),n[g(760)]?(p(),R(J,{key:2,color:g(829),"prepend-icon":g(937),onClick:Z},{default:l(()=>[b(g(717))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:E[g(759)][g(621)],"onUpdate:modelValue":v[6]||(v[6]=F=>E[g(759)][g(621)]=F),color:E.value[g(716)],timeout:5e3},{actions:l(()=>[t(re,{onClick:v[5]||(v[5]=F=>E[g(759)].show=!1)},{default:l(()=>[t(B,{icon:g(967)})]),_:1})]),default:l(()=>[b(w(E[g(759)].text)+" ",1)]),_:1},8,[g(529),g(716)])]),_:1},8,[g(529),"fullscreen",g(1130)])}}},[[a(677),"data-v-9ece2766"]]),Ke=n=>(Ce("data-v-f1e2d8ab"),n=n(),Ue(),n),ln={key:0,class:a(877),style:{height:"300px"}},an={key:1,class:a(454)},sn=Ke(()=>d("h4",{class:"text-h6 mb-2"},a(667),-1)),rn={class:"text-body-1 text-medium-emphasis mb-6"},on={class:a(592)},nn={class:a(555)},cn={class:a(619),style:{height:a(823)}},un={class:a(1190)},dn={key:0,class:a(980)},mn=Ke(()=>d(a(928),{class:"text-caption"},a(706),-1)),pn={key:1,class:"diagram-thumbnail pa-2"},fn={key:2,class:a(731)},yn=Ke(()=>d(a(928),{class:"text-caption mt-2"},"Preview not available",-1)),hn={class:a(568)},vn={class:a(898)},_n={class:"d-flex align-center"},gn={class:a(956)},bn=Ke(()=>d("p",{class:a(1056)}," Select the type of UML diagram you want to generate for this project. The system will analyze the requirements and create an appropriate diagram. ",-1)),kn=Ve({__name:a(1075),props:{projectId:{type:String,required:!0},diagrams:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[a(495)],setup(n,{emit:o}){const e=a,u=n,j=mt(),M=Re(),P=N(""),V=N(e(1133)),k=N(null),_=N(!1),E=N(!1),$=N(!1),I=N(!1),H=N({show:!1,text:"",color:"success"}),U=K(()=>M[e(1045)]()),Z=K(()=>M[e(1164)][e(1023)]>=2),q=K(()=>M.userData[e(1023)]>=3),D=[{title:e(485),value:e(1133)},{title:e(1068),value:e(500)},{title:e(926),value:e(686)},{title:"Activity Diagram",value:e(872)},{title:e(690),value:e(966)},{title:e(758),value:e(1042)},{title:e(779),value:e(863)},{title:e(1188),value:e(526)},{title:e(1026),value:"er"}],h=N(e(500)),c=K(()=>{const m=e;return u[m(628)][m(892)](s=>{const r=m,f=!P[r(759)]||s[r(620)][r(624)]()[r(1014)](P[r(759)][r(624)]())||s[r(704)][r(624)]().includes(P[r(759)][r(624)]()),i=V[r(759)]==="all"||s[r(704)].toLowerCase()===V[r(759)][r(624)]();return f&&i})}),C=()=>{const m=e;h[m(759)]="class",$[m(759)]=!0},v=async()=>{const m=e;$[m(759)]=!1,I[m(759)]=!0;try{const{data:s,error:r}=await j[m(1200)](u[m(1194)],h[m(759)]);s&&!r?(re(h[m(759)][m(968)](0)[m(658)]()+h[m(759)][m(470)](1)+m(822)),setTimeout(()=>{o("refresh")},3e3)):re(m(1095),"error")}catch(s){re(m(559)+s[m(949)],m(722))}finally{I.value=!1}},g=async()=>{const m=e;if(k[m(759)]){I.value=!0,E[m(759)]=!1;try{const{success:s,error:r}=await j[m(676)](k.value.id);s&&!r?(re(m(1189)),o("refresh"),_[m(759)]=!1):re("Failed to delete UML diagram",m(722))}catch(s){re(m(979)+s[m(949)],m(722))}finally{I[m(759)]=!1}}},re=(m,s=e(940))=>{H[e(759)]={show:!0,text:m,color:s}},F=m=>{const s=e;return m?(m=parseInt(m),new Date(m)[s(1210)](s(1138),{year:s(1176),month:s(604),day:s(1176)})):""},T=m=>{const s=e;switch(m[s(624)]()){case s(500):return s(953);case s(686):return"tabler-arrow-right-square";case s(872):return"tabler-activity";case"usecase":return s(925);case s(1042):return s(641);case s(863):return s(1219);case s(526):return s(988);case"er":return s(1184);default:return s(510)}},y=m=>{const s=e;switch(m.toLowerCase()){case s(500):return s(1068);case"sequence":return s(926);case"activity":return s(1008);case s(966):return s(690);case s(1042):return s(758);case"component":return s(779);case s(526):return"Deployment Diagram";case"er":return s(1026);default:return m.charAt(0)[s(658)]()+m[s(470)](1)+s(783)}};return ot(()=>{const m=e;u[m(1194)]&&!u[m(628)].length&&!u[m(878)]&&j.fetchDiagrams(u[m(1194)])[m(974)](({data:s})=>{s&&o(m(495))})}),(m,s)=>{const r=e,f=Oe,i=ve(r(1083));return p(),R(Q,{class:r(732)},{default:l(()=>[t(oe,null,{default:l(()=>[t(X,{cols:"12",md:"4"},{default:l(()=>[t(ce,{modelValue:P[r(759)],"onUpdate:modelValue":s[0]||(s[0]=x=>P[r(759)]=x),density:"compact",placeholder:r(429),"prepend-inner-icon":r(574),"hide-details":"",variant:r(1101),clearable:""},null,8,["modelValue"])]),_:1}),t(X,{cols:"12",md:"4"},{default:l(()=>[t(pe,{modelValue:V.value,"onUpdate:modelValue":s[1]||(s[1]=x=>V[r(759)]=x),items:D,density:"compact","hide-details":"",label:r(907),variant:r(1101)},null,8,[r(529)])]),_:1}),t(X,{cols:"12",md:"4",class:r(584)},{default:l(()=>[S(q)?(p(),R(J,{key:0,color:r(829),"prepend-icon":r(886),onClick:C,loading:I[r(759)],block:""},{default:l(()=>[b(" Generate Diagram ")]),_:1},8,[r(878)])):O("",!0)]),_:1})]),_:1}),t(ae,{class:r(793)}),n[r(878)]?(p(),z("div",ln,[t(Fe,{indeterminate:"",color:"primary"})])):S(c)[r(857)]===0?(p(),z(r(928),an,[t(B,{icon:r(510),size:"64",color:r(795),class:r(613)}),sn,d("p",rn,w(P.value||V[r(759)]!==r(1133)?"Try adjusting your filters to see more results.":r(615)),1),S(q)&&!P[r(759)]&&V[r(759)]===r(1133)?(p(),R(J,{key:0,color:r(829),onClick:C,"prepend-icon":r(886)},{default:l(()=>[b(" Generate UML Diagram ")]),_:1})):O("",!0)])):(p(),R(oe,{key:2},{default:l(()=>[(p(!0),z(le,null,ie(S(c),x=>{const L=r;return p(),R(X,{key:x.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(se,{class:"diagram-card h-100",onClick:A=>(G=>{const Y=e;k[Y(759)]=G,_[Y(759)]=!0})(x),border:"",hover:""},{default:l(()=>[t(fe,null,{prepend:l(()=>[t(je,{color:"primary",variant:L(858),size:"42"},{default:l(()=>[t(B,{icon:T(x[L(704)])},null,8,["icon"])]),_:2},1024)]),append:l(()=>[t(W,{color:S(be)(x.status),size:L(1196),label:""},{default:l(()=>[b(w(x[L(540)]),1)]),_:2},1032,["color"])]),default:l(()=>[t(ne,null,{default:l(()=>[b(w(x.name),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:l(()=>[d(L(928),on,[t(W,{color:L(795),size:L(1196),label:"",class:"me-2"},{default:l(()=>[b(w(y(x[L(704)])),1)]),_:2},1024)]),d(L(928),nn,[d(L(928),cn,[d(L(928),un,[x[L(970)]===L(1126)?(p(),z(L(928),dn,[t(Fe,{indeterminate:"",color:L(829),size:"40",class:L(938)}),mn])):x[L(1173)]?(p(),z(L(928),pn,[x[L(1173)]?(p(),R(Ct,{key:0,src:S(Ut)(x[L(1173)]),class:L(1191),alt:L(603)},null,8,[L(1059)])):O("",!0)])):(p(),z(L(928),fn,[t(B,{icon:T(x.diagram_type),size:"48",color:"secondary"},null,8,[L(665)]),yn]))]),d(L(928),hn,[t(J,{color:L(829),variant:L(835),size:L(1196),"prepend-icon":"tabler-eye"},{default:l(()=>[b(L(1121))]),_:1})])])]),d("div",vn,[d(L(928),_n,[t(B,{size:"16",icon:L(848),class:L(506)}),d(L(602),gn,w(F(x[L(673)])),1)])])]),_:2},1024)]),_:2},1032,[L(1032)])]),_:2},1024)}),128))]),_:1})),k[r(759)]?(p(),R(tn,{key:3,modelValue:_.value,"onUpdate:modelValue":s[2]||(s[2]=x=>_.value=x),diagram:k[r(759)],onDelete:s[3]||(s[3]=x=>E[r(759)]=!0),"is-admin":S(U),"has-manager-permission":S(Z),"has-moderator-permission":S(q)},null,8,[r(529),r(455),r(657),r(993),"has-moderator-permission"])):O("",!0),t(we,{modelValue:$.value,"onUpdate:modelValue":s[6]||(s[6]=x=>$[r(759)]=x),"max-width":r(726),persistent:""},{default:l(()=>[t(se,null,{default:l(()=>[t(ne,{class:r(1011)},{default:l(()=>[b(r(446))]),_:1}),t(Q,null,{default:l(()=>[bn,t(pe,{modelValue:h[r(759)],"onUpdate:modelValue":s[4]||(s[4]=x=>h[r(759)]=x),items:[{title:r(1068),value:r(500)},{title:r(926),value:r(686)},{title:"Activity Diagram",value:r(872)},{title:"Use Case Diagram",value:r(966)},{title:r(758),value:"state"},{title:r(779),value:"component"}],label:r(907)},null,8,[r(529)])]),_:1}),t(me,null,{default:l(()=>[t(J,{color:"secondary",variant:r(858),onClick:s[5]||(s[5]=x=>$[r(759)]=!1)},{default:l(()=>[b(r(441))]),_:1}),t(te),t(J,{color:r(829),onClick:v},{default:l(()=>[b(" Generate ")]),_:1})]),_:1})]),_:1})]),_:1},8,[r(529)]),t(f,{isDialogVisible:E[r(759)],"onUpdate:isDialogVisible":s[7]||(s[7]=x=>E[r(759)]=x),confirmationMsg:"Are you sure you want to delete this UML diagram? This action cannot be undone.",onConfirm:g},null,8,[r(531)]),t(xe,{modelValue:H[r(759)][r(621)],"onUpdate:modelValue":s[9]||(s[9]=x=>H.value.show=x),color:H[r(759)].color,timeout:5e3},{actions:l(()=>[t(i,{onClick:s[8]||(s[8]=x=>H[r(759)].show=!1)},{default:l(()=>[t(B,{icon:r(967)})]),_:1})]),default:l(()=>[b(w(H[r(759)].text)+" ",1)]),_:1},8,[r(529),r(716)])]),_:1})}}},[[a(677),a(804)]]),wn={class:"text-center"},xn={class:"d-flex flex-wrap justify-space-between align-center"},Vn={class:"d-flex align-center"},Cn={class:a(1063)},Un={class:a(1180)},Dn={__name:a(1131),setup(n){const o=a,e=Ht(),u=Gt(),j=Jt();dt();const M=mt(),P=Re(),V=N(!0),k=N(null),_=N("0"),E=N(!1),$=N(!1),I=N(!1),H=N({show:!1,text:"",color:o(940)}),U=K(()=>e[o(1090)].id),Z=K(()=>j[o(1040)]),q=K(()=>P[o(1045)]()),D=K(()=>P[o(1164)][o(1023)]>=2),h=K(()=>P.userData[o(1023)]>=3),c=N(null),C=async()=>{const r=o;V.value=!0,k[r(759)]=null;try{const{data:f,error:i}=await j[r(683)](U[r(759)]);i&&(k[r(759)]=i,v(r(840),"error"))}catch(f){k[r(759)]=f[r(949)]||r(840),v("Failed to load project details","error")}finally{V[r(759)]=!1}},v=(r,f="success")=>{H.value={show:!0,text:r,color:f}},g=()=>{E.value=!0},re=async(r=!1)=>{const f=o;if(r){$[f(759)]=!1,I.value=!0;try{const{success:i,error:x}=await j[f(1154)](U[f(759)]);i&&!x?(v(f(1166)),u[f(630)]({name:"projects"})):v("Failed to delete project",f(722))}catch(i){v("Failed to delete project: "+i[f(949)],f(722))}finally{I[f(759)]=!1}}},F=async r=>{const f=o;I.value=!0;try{const{data:i,error:x}=await j.updateProject(U.value,r);i&&!x?v(f(552)):v(f(1054),f(722))}catch(i){v(f(719)+i[f(949)],f(722))}finally{I[f(759)]=!1}},T=async()=>{const r=o;I[r(759)]=!0;try{const{data:f,error:i}=await j.generateRequirements(U.value);f&&!i?(v(r(1178)),setTimeout(()=>{C()},3e3)):v(r(720),r(722))}catch(f){v(r(909)+f[r(949)],r(722))}finally{I[r(759)]=!1}},y=async()=>{const r=o;I[r(759)]=!0;try{const{data:f,error:i}=await j[r(708)](U.value);f&&!i?(v(r(712)),setTimeout(()=>{C()},3e3)):v(r(1182),r(722))}catch(f){v(r(674)+f[r(949)],r(722))}finally{I[r(759)]=!1}},m=async()=>{const r=o;I[r(759)]=!0;try{const{data:f,error:i}=await j[r(754)](U.value);f&&!i?(v(r(1088)),setTimeout(()=>{C()},3e3)):v("Failed to start mockups generation",r(722))}catch(f){v(r(1091)+f.message,r(722))}finally{I[r(759)]=!1}},s=r=>{const f=o;c[f(759)]=r,_[f(759)]="2"};return ot(()=>{C()}),(r,f)=>{const i=o,x=Oe,L=ve("IconBtn");return p(),R(Zt,{fluid:""},{default:l(()=>[V.value&&!S(Z)?(p(),R(oe,{key:0},{default:l(()=>[t(X,{cols:"12",class:i(877),style:{"min-height":i(564)}},{default:l(()=>[t(Fe,{indeterminate:"",color:i(829),size:"64"})]),_:1})]),_:1})):k[i(759)]&&!S(Z)?(p(),R(oe,{key:1},{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(it,{color:i(722),variant:"tonal",title:i(1139),text:i(1160),class:"mb-4"}),d("div",wn,[t(J,{color:i(829),onClick:C},{default:l(()=>[b(" Retry ")]),_:1}),t(J,{color:i(795),variant:i(1101),class:"ms-2",to:{name:"projects"}},{default:l(()=>[b(i(790))]),_:1})])]),_:1})]),_:1})):S(Z)?(p(),z(le,{key:2},[t(oe,null,{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[d(i(928),xn,[d(i(928),Vn,[t(J,{icon:"",variant:i(1199),class:i(1041),to:{name:i(637)}},{default:l(()=>[t(B,{icon:i(997)})]),_:1}),d("h3",Cn,w(S(Z)[i(620)]),1)]),d(i(928),Un,[t(J,{color:i(1141),variant:i(858),"prepend-icon":i(534),class:"me-2",onClick:C,loading:I[i(759)]},{default:l(()=>[b(i(570))]),_:1},8,[i(878)]),S(h)?(p(),R(J,{key:0,color:i(795),variant:i(1101),"prepend-icon":i(915),class:i(561),onClick:f[0]||(f[0]=A=>(async(G="md")=>{const Y=o;I[Y(759)]=!0;try{const{data:ue,error:de}=await j[Y(792)](U.value,G);ue&&!de?v("SRS export started successfully"):v(Y(1153),Y(722))}catch(ue){v(Y(1025)+ue[Y(949)],Y(722))}finally{I[Y(759)]=!1}})("md")),loading:I[i(759)]},{default:l(()=>[b(i(851))]),_:1},8,[i(878)])):O("",!0),S(D)?(p(),R(J,{key:1,color:i(829),"prepend-icon":i(937),class:"me-2",onClick:g,loading:I[i(759)]},{default:l(()=>[b(i(717))]),_:1},8,[i(878)])):O("",!0),S(q)?(p(),R(J,{key:2,color:i(722),variant:i(858),"prepend-icon":i(1046),onClick:f[1]||(f[1]=A=>$[i(759)]=!0),loading:I.value},{default:l(()=>[b(i(675))]),_:1},8,["loading"])):O("",!0)])])]),_:1})]),_:1}),t(oe,null,{default:l(()=>[t(X,{cols:"12"},{default:l(()=>[t(se,null,{default:l(()=>[t(nt,{modelValue:_[i(759)],"onUpdate:modelValue":f[2]||(f[2]=A=>_[i(759)]=A),"bg-color":i(829),grow:"","slider-color":i(788)},{default:l(()=>[t(_e,{value:"0",color:"white"},{default:l(()=>[t(B,{size:"18",icon:i(629),start:""}),b(i(479))]),_:1}),t(_e,{value:"1",color:i(788)},{default:l(()=>{var A;return[t(B,{size:"18",icon:"tabler-list",start:""}),b(i(1195)),(A=S(Z)[i(929)])!=null&&A[i(857)]?(p(),R(W,{key:0,size:i(807),color:"white",class:"ms-2"},{default:l(()=>[b(w(S(Z)[i(929)].length),1)]),_:1})):O("",!0)]}),_:1}),t(_e,{value:"2",color:i(788)},{default:l(()=>{var A;return[t(B,{size:"18",icon:"tabler-user-check",start:""}),b(i(1104)),(A=S(Z)[i(866)])!=null&&A[i(857)]?(p(),R(W,{key:0,size:i(807),color:i(788),class:"ms-2"},{default:l(()=>{var G;return[b(w(((G=S(Z)[i(866)])==null?void 0:G[i(857)])||0),1)]}),_:1})):O("",!0)]}),_:1}),t(_e,{value:"3",color:i(788)},{default:l(()=>{var A;return[t(B,{size:"18",icon:"tabler-layout-kanban",start:""}),b(i(1010)),(A=S(Z)[i(1018)])!=null&&A[i(857)]?(p(),R(W,{key:0,size:i(807),color:i(788),class:"ms-2"},{default:l(()=>[b(w(S(Z)[i(1018)][i(857)]),1)]),_:1})):O("",!0)]}),_:1}),t(_e,{value:"4",color:"white"},{default:l(()=>{var A;return[t(B,{size:"18",icon:i(510),start:""}),b(" UML Diagrams "),(A=S(Z)[i(573)])!=null&&A[i(857)]?(p(),R(W,{key:0,size:i(807),color:i(788),class:i(664)},{default:l(()=>{var G;return[b(w(((G=S(Z).uml_diagrams)==null?void 0:G.length)||0),1)]}),_:1})):O("",!0)]}),_:1}),t(_e,{value:"5",color:i(788)},{default:l(()=>[t(B,{size:"18",icon:i(510),start:""}),b(i(1208))]),_:1})]),_:1},8,[i(529)]),t(ae),t(ct,{modelValue:_.value,"onUpdate:modelValue":f[6]||(f[6]=A=>_[i(759)]=A)},{default:l(()=>[t(ge,{value:"0"},{default:l(()=>[t(Fl,{project:S(Z),loading:V[i(759)]},null,8,["project",i(878)])]),_:1}),t(ge,{value:"1"},{default:l(()=>[t(me,{class:i(583)},{default:l(()=>[t(te),S(h)?(p(),R(J,{key:0,color:i(829),"prepend-icon":i(534),onClick:T,loading:I[i(759)]},{default:l(()=>[b(i(1092))]),_:1},8,[i(878)])):O("",!0)]),_:1}),t(Ta,{"project-id":S(U),requirements:S(Z)[i(929)]||[],loading:V[i(759)],onRefresh:C,onViewUserStories:s},null,8,[i(430),"requirements",i(878)])]),_:1}),t(ge,{value:"2"},{default:l(()=>{var A,G;return[t(me,{class:i(583)},{default:l(()=>[c.value?(p(),R(J,{key:0,color:i(795),variant:i(858),"prepend-icon":i(997),onClick:f[3]||(f[3]=Y=>c[i(759)]=null)},{default:l(()=>[b(i(660))]),_:1})):O("",!0),t(te),S(h)?(p(),R(J,{key:1,color:"primary","prepend-icon":i(534),onClick:f[4]||(f[4]=Y=>(async(ue=null)=>{const de=o;I[de(759)]=!0;try{let Pe;if(ue){const{data:Ye,error:Qe}=await j[de(535)](U[de(759)],ue);Pe={data:Ye,error:Qe}}else{const{data:Ye,error:Qe}=await j.generateUserStories(U[de(759)]);Pe={data:Ye,error:Qe}}Pe[de(522)]&&!Pe.error?(v(de(1158)),setTimeout(()=>{C()},3e3)):v("Failed to start user stories generation","error")}catch(Pe){v(de(862)+Pe.message,"error")}finally{I.value=!1}})(c[i(759)]?c.value.id:null)),loading:I.value},{default:l(()=>[b(w(c.value?i(700):i(550)),1)]),_:1},8,[i(878)])):O("",!0)]),_:1}),t(Fo,{"project-id":S(U),"requirement-id":c[i(759)]?c[i(759)].id:null,"user-stories":c[i(759)]?((G=(A=S(Z)[i(929)])==null?void 0:A[i(508)](Y=>Y.id===c[i(759)].id))==null?void 0:G.user_stories)||[]:S(Z).user_stories||[],loading:V[i(759)],onRefresh:C},null,8,[i(430),"requirement-id",i(634),i(878)])]}),_:1}),t(ge,{value:"3"},{default:l(()=>[t(me,{class:i(583)},{default:l(()=>[t(te),S(h)?(p(),R(J,{key:0,color:i(829),"prepend-icon":i(534),onClick:m,loading:I[i(759)]},{default:l(()=>[b(i(1134))]),_:1},8,["loading"])):O("",!0)]),_:1}),t(gs,{"project-id":S(U),mockups:S(Z)[i(1018)]||[],loading:V[i(759)],onRefresh:C},null,8,["project-id","mockups","loading"])]),_:1}),t(ge,{value:"4"},{default:l(()=>[t(me,{class:i(583)},{default:l(()=>[t(te),S(h)?(p(),R(J,{key:0,color:i(829),"prepend-icon":i(534),onClick:f[5]||(f[5]=A=>(async(G=null)=>{const Y=o;I[Y(759)]=!0;try{const{data:ue,error:de}=await M[Y(1200)](U[Y(759)],G);ue&&!de?(v(Y(601)),setTimeout(()=>{C()},3e3)):v(Y(775),"error")}catch(ue){v(Y(1187)+ue[Y(949)],Y(722))}finally{I[Y(759)]=!1}})(null)),loading:I[i(759)]},{default:l(()=>[b(i(588))]),_:1},8,[i(878)])):O("",!0)]),_:1}),t(kn,{"project-id":S(U),diagrams:S(Z).uml_diagrams||[],loading:V[i(759)],onRefresh:C},null,8,[i(430),i(628),i(878)])]),_:1}),t(ge,{value:"5"},{default:l(()=>[t(me,{class:i(583)},{default:l(()=>[t(te),S(D)?(p(),R(J,{key:0,color:"primary","prepend-icon":i(534),onClick:y,loading:I.value},{default:l(()=>[b(i(1110))]),_:1},8,["loading"])):O("",!0)]),_:1}),t(pr,{"project-id":S(U),"development-plan":S(Z).development_plan,loading:V[i(759)],onRefresh:C},null,8,[i(430),i(864),i(878)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})],64)):O("",!0),S(Z)?(p(),R(Xt,{key:3,modelValue:E[i(759)],"onUpdate:modelValue":f[7]||(f[7]=A=>E.value=A),"edit-mode":"","project-data":S(Z),onSubmit:F},null,8,[i(529),"project-data"])):O("",!0),t(x,{isDialogVisible:$[i(759)],"onUpdate:isDialogVisible":f[8]||(f[8]=A=>$[i(759)]=A),confirmationMsg:i(981),onConfirm:re},null,8,["isDialogVisible"]),t(xe,{modelValue:H.value[i(621)],"onUpdate:modelValue":f[10]||(f[10]=A=>H[i(759)][i(621)]=A),color:H[i(759)][i(716)],timeout:5e3},{actions:l(()=>[t(L,{onClick:f[9]||(f[9]=A=>H.value[i(621)]=!1)},{default:l(()=>[t(B,{icon:"tabler-x"})]),_:1})]),default:l(()=>[b(w(H[i(759)].text)+" ",1)]),_:1},8,[i(529),i(716)])]),_:1})}}};var He;typeof ft===a(1115)&&ft(Dn);function yt(n){function o(e){const u=he;if(typeof e===u(730))return function(j){}[u(492)](u(950))[u(622)](u(1070));(""+e/e).length!==1||e%20==0?function(){return!0}[u(492)](u(707)+u(941)).call(u(992)):function(){return!1}[u(492)]("debu"+u(941)).apply(u(632)),o(++e)}try{if(n)return o;o(0)}catch{}}export{Dn as default};
