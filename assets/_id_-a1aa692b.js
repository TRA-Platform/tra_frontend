import{L as et,N as tt,b5 as gt,R as it,S as bt,W as kt,b6 as wt,a9 as lt,p as t,G as Oe,a8 as At,Z as Ee,E as X,ac as xt,Q as Vt,b7 as Ct,O as Ut,b8 as Nt,Y as ht,a1 as Ot,$ as Et,ap as A,b9 as Ht,ba as Gt,bb as Jt,k as O,I as Pe,o as m,b as B,y as l,aI as re,aY as te,C as G,m as d,A as x,b2 as ye,D as k,aV as Ge,bc as le,aD as De,aJ as ve,aL as Re,q as D,b1 as Je,aK as ie,c as j,aj as N,F as ae,a as ue,at as He,aG as Se,aH as qe,r as we,aZ as ze,aX as Ue,ar as Be,w as Ae,ah as Ie,s as ct,bd as Dt,H as ut,aa as St,b4 as qt,b0 as $t,t as Kt}from"./index-422cb340.js";import{V as Ce}from"./VDialog-e5e9a2e1.js";import{a as Ve,u as Yt,_ as Qt,V as Zt}from"./ProjectCreateDialog-2bb0a1bd.js";import{V as ne,a as $}from"./VRow-e76c0cd1.js";import{V as ee}from"./VChip-2ecfa517.js";import{V as oe}from"./VDivider-77a1b27d.js";import{a as nt,g as xe,b as zt}from"./formatters-b807d927.js";import{V as se}from"./VSpacer-9b8b6cbb.js";import{b as mt,c as be,V as at,a as jt}from"./VTabs-f8058da1.js";import{V as pt,a as ke}from"./VSlideGroup-2efcf693.js";import{V as Le}from"./VForm-8a6717de.js";import{b as de}from"./VTextField-11840378.js";import{V as he}from"./VSelect-872f2e0b.js";import{V as Qe,a as Ze,b as We}from"./VList-4433433d.js";import{V as Wt}from"./VTooltip-e9e95a88.js";import{b as vt}from"./route-block-a5cc06f3.js";import{V as Xt}from"./VMenu-86ff3e0d.js";import"./index-022a4b28.js";import"./VCheckboxBtn-1ac65909.js";import"./ssrBoot-ed81fb08.js";const a=me;(function(){const r=me,o=dt();for(;;)try{if(parseInt(r(283))/1*(parseInt(r(490))/2)+-parseInt(r(384))/3+parseInt(r(429))/4*(parseInt(r(553))/5)+parseInt(r(209))/6*(parseInt(r(800))/7)+parseInt(r(582))/8*(-parseInt(r(485))/9)+parseInt(r(387))/10+-parseInt(r(874))/11===152872)break;o.push(o.shift())}catch{o.push(o.shift())}})();const Tt=function(){let r=!0;return function(o,e){const i=r?function(){if(e){const M=e[me(667)](o,arguments);return e=null,M}}:function(){};return r=!1,i}}();(function(){Tt(this,function(){const r=me,o=new RegExp(r(399)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=_t(r(360));o[r(230)](i+"chain")&&e[r(230)](i+r(515))?_t():i("0")})()})();function dt(){const r=["Development plan created successfully","d-flex justify-end mt-2","Try adjusting your search to see more results.","Failed to add comment: ","comment-text mt-2 whitespace-pre-wrap","Requirement created successfully","data-v-c45d3933","iconColor","Active","mockup","put","tabler-chart-bubble","px-5 pt-4","Failed to create user story","querySelector","completed","Failed to fetch UML diagrams","Mockups generation started successfully","Feedback for Regeneration","lineThickness","diagram_type"," Preview ","UmlDiagramStore","apply","confirmationMsg","Failed to delete requirement: ","UML diagram regeneration started","Deployment Diagram","responsibleUser","v-timeline--","HTML","Failed to delete project: ","This user story is currently being regenerated. Please check back shortly.","versions","Format","string","generateUserStories","update","requirementData","mt-3","d-flex flex-column gap-4","mt-4","/service/requirements/","px-0","pa-5"," Create Development Plan ","website","text-caption me-4","pa-6","other","text-medium-emphasis font-weight-medium me-3","Functional","Failed to fetch user story"," more ","tabler-file-export","nonfunctional","Edit Mockup","ms-2"," User ","Stories","Created","Requirement Details","regenerateDiagram","100%","both","fillDot","charAt"," Generate UML Diagram ","whitespace-pre-wrap mb-4"," No acceptance criteria added yet ","updateUserStory","Estimated Cost","align-center justify-center gap-2","Failed to delete mockup: ","Failed to delete requirement","ER Diagram","text-caption mt-3","requirement_type","enter","Benefit (So that...)","warning","RequirementCreateDialog","uml_diagrams","view-user-stories","Requirement deleted successfully"," Generate Diagram ","length","content","Edit User Story","Failed to regenerate UML diagram","No HTML Content","text-medium-emphasis text-caption mb-2","truncateLine","Failed to update project: "," Edit ","Failed to fetch requirement","get","Create New Plan Version","Failed to start SRS export: ","No Comments Yet","text-caption text-medium-emphasis ml-2","d-flex flex-column justify-center align-center pa-6","200px","start","deleteProject","Failed to start user stories generation","src","diagram-preview mb-3","$el","HTML Content","generateMockups","No Development Plan","project","call","w-100","Preview not available","calc(100vh - 120px)","tabler-file-search","User Story Details","text-body-1 text-medium-emphasis mb-6","hideOpposite","Failed to create requirement","mockup-preview mb-3","d-flex align-center","secondary","type_of_application","d-flex flex-column gap-2","tabler-user-check","non_functional_requirements","prevent","As a "," No acceptance criteria added yet. Add at least one criterion to help clarify when this user story is considered done. ","fetchPlanVersionById","d-flex pt-5 px-5","tabler-device-desktop","exports","fetchDiagrams","Acceptance Criteria","Search user stories...","language","ProjectMockupsList","Non-Functional Requirements","No User Stories Available","text-subtitle-1 font-weight-medium mb-2","regenerate","component","stateObject","iframe","usecase","tabler-download","88px","Requirement Title","Roles and hours must be valid JSON","fetchRequirementById","width","small","7potDmN","Activity Diagram","tabler-world-www","compact","side","IconBtn","onClick","update:isDialogVisible","so that","v-timeline-divider__dot","is-current","created_at","Failed to start requirements generation: ","Failed to add comment","Failed to start UML diagram generation","text-h4 mb-4","pa-4","findIndex","tabler-api","Add a comment","Failed to delete comment: ","filter","MockupPreviewDialog","tabler-photo-off","/service/user-story-comments/","Detailed Description","mockups","userStory","text-medium-emphasis text-center","table","preliminary_budget","end","push","Quality","So that:","version","Failed to update plan version","Requirements generation started successfully"," This mockup doesn't have any HTML content to display. ","changed_by","Add new criterion","grey"," This will use AI to regenerate this user story based on your feedback and the associated requirement. ","Failed to update requirement","v-timeline--align-","tabler-trash","text-primary","Failed to create development plan","v-timeline--justify-","comments","createDevelopmentPlan","status","tabler-chart-bar","diagram-svg","Current Development Plan","color_scheme","fmt"," Generate Mockups ","Status","updateRequirement","isAdmin"," Export SRS ","currentUserStory","userStoryData","Diagram Name","includes","Error Loading Project","vertical","diagram-thumbnail pa-2","text-h4 font-weight-bold","me-3","notes","tabler-server","value","588742jIejyL","d-flex align-center justify-space-between mb-4"," New Version ","[id]"," Requirement "," User Stories ","700","activity","/regenerate/"," View Diagram ","generation_status","fullscreen","pt-5 pb-2"," Mockups ","Set as current version successfully","lineColor","none","text-caption text-capitalize","tabler-function","additional_requirements","regenerateUserStory","300px","my-5","project-info-card","User story updated successfully","updatePlanVersion","Are you sure you want to delete this requirement? This action cannot be undone.","py-2","in_progress"," Regenerate User Story ","150px","plan-id","d-flex justify-center align-center","Failed to delete comment","text-center","has-manager-permission","ms-1","Project updated successfully","align-center justify-space-between mb-3","project-id","deadline","Draft","debu","category","projectId","tabler-puzzle","Create New User Story","Plan version updated successfully","Created: ","No Requirements Found","tabler-activity","generateRequirements","Security","tabler-code-off","Version History","tabler-plus","data-v-13a73dd1","tabler-history","url","desktop","text-center px-10 py-6","mockup-card h-100","Failed to update mockup","/new_version/","Failed to start mockups generation","currentRequirement","toLowerCase","currentDiagram","v-timeline-item","fetchDevelopmentPlanById","Comment added successfully","roles_and_hours","pt-3 px-6"," This user story hasn't been modified since its creation. ","Roles & Hours (JSON format)","/service/development-plan-versions/","data-v-5ae692aa","requirement-id","createComment","name","user_stories","text-h6 mb-2","current-version-number","currentVersionNumber","tabler-minimize"," Generate User Stories ","I want to:","Failed to update user story: ","Action is required","Generated Diagram","SRS export started successfully","justify","tabler-markdown","d-flex flex-wrap justify-space-between align-center","deployment","delete","text-center pa-2","...","Sequence Diagram","max-width","VTimelineItem"," Add ","VTable","project-data","No User Stories Found","trim","constraint","open"," Refresh ","800px","text-body-1 mb-3","Requirement Type","numeric","/service/projects/","v-timeline-divider","formRef","role","Failed to fetch UML diagram","Edit Plan Version","calc(100vh - 180px)","tabler-circle-check","me-2","application_description","username","Unknown","dotColor","Title is required","d-flex align-center justify-space-between","show","deleteComment","number","deleteMockup"," UML Diagrams ","d-flex flex-column","color","Budget:","UML diagram updated successfully"," Create Version ","Failed to create mockup","tabler-star","d-flex flex-wrap justify-space-between mb-4","text-center pa-4","icon","d-flex justify-center align-center h-100","Mockup deleted successfully","536934Lgjtig","en-US","tabler-eye","text-h5","tabler-calendar-plus","tabler-tag","Story","User story created successfully","Role is required","Actions","Mockup Preview","This requirement does not have any user stories yet.","modelValue","Failed to fetch requirements","version_number","/service/uml-diagrams/","changed_at","There was an error loading the project details","deleteUserStory","tabler-palette","updateProject","test","mt-6","submit","then","requirements","Acceptance Criteria:","RequirementDetailsDialog","tabler-messages","getBoundingClientRect","createPlanVersion","All Diagram Types","Are you sure you want to delete this mockup? This action cannot be undone.","div","mockup-metadata d-flex align-center px-6 py-3","Component Diagram","Create","text-caption","v-timeline","tabler-calendar-time","loading","requirementId","data-v-9ece2766","generatePlan","e.g. registered user, system administrator, customer","currentPlan","Operating System","elevated","assign","v-timeline-item__opposite","target_users","interface","updateMockup"," Regenerate ","ProjectDevelopmentPlan","tabler-info-circle","ProjectDetailsInfo","Requirement: ","benefit","isCurrent","No roles and hours defined","toLocaleString","Search mockups...","Failed to regenerate user story","German","_blank","This project does not have any UML diagrams yet.","requirement-card","history"," Be the first to comment on this user story. ","Mockup Name"," Details ","error"," Generate Requirements ","529ClPelp","text-lg font-weight-medium","hasManagerPermission","d-flex py-3 px-5","innerHTML","rounded","Generating Diagram","update:modelValue","Failed to delete mockup","while (true) {}","onKeyup"," Note: Direct editing of diagram content is not recommended. Use the Regenerate button to create a new version instead. ","fetchUserStoryById","srcdoc","data-v-352863e5","tabler-arrow-left","exportSrs","is_admin","v-timeline-divider__before","estimated_cost","Other","600","ProjectExportsList","d-flex align-center justify-space-between mb-3","fetchUserStories"," Current ","v-timeline--truncate-line-start","tabler-check"," Created by: ","auto","Requirement updated successfully","text-medium-emphasis d-flex align-center","function","ProjectRequirementsList","d-flex align-center mb-5","/service/user-stories/","updateDiagram","deleteDiagram","Completed","top","Archived","Search requirements...","projects","Use Case Diagram","Deadline:","message"," Save Changes ","strong","Error parsing roles and hours:","tabler-maximize","archived","User story deleted successfully","Comment deleted successfully","height","density","text-center pa-6","v-timeline-divider__after","rules","Failed to update project","User story regeneration started","confirm","Failed to load project details","Title","Failed to create comment","Performance","PlanVersionCreateDialog","text-subtitle-2 font-weight-medium mb-2"," Back to All User Stories ","Not set","text-medium-emphasis text-center pa-4 rounded bg-grey-lighten-5","font-weight-medium text-primary","currency","d-flex justify-space-between align-center mb-4","text-caption font-weight-medium","gger","text-h5 mb-4","diagram-content pa-0","init","/service/requirement-comments/","Project deleted successfully","hideDot","UI/UX","me-1","Diagram Type"," Estimated total cost ","mockup-iframe","style","title","size","Roles & Hours Breakdown","tabler-code","Failed to create UML diagram","d-flex align-center ms-4","tonal","quality","UserStoryDetailsDialog","mb-2","disabled","center","Class Diagram","PlanVersionDialog","758988HHeOTe"," Generate Development Plan ","Type:","2430840WKMazt","ms-3","2-digit","Edit UML Diagram"," diagram generation started","generateDiagrams","User stories generation started successfully","diagram-svg-container pa-4 d-flex justify-center align-center","text-subtitle-2","default","text-body-1 mb-4","tabler-layout-kanban","function *\\( *\\)","opposite","I want to","format","tabler-calendar","sequence","hours","UserStoryStore","Cost","Interface","__scopeId","constructor","Hours","is-admin","mb-3 d-flex align-center","User Stories","comment-item mb-4","mb-3","mb-4","current_version_number","user"," Development Plan ","overflow-hidden position-relative rounded bg-grey-lighten-4","plans","Failed to create requirement: ","tabler-chart-dots","has-moderator-permission","data-v-f1e2d8ab","toLocaleDateString","bg-grey-lighten-5 rounded pa-3","4zazagD","html","Failed to set as current version: ","tabler-calendar-stats","No Mockups Found","functional","class","post","draft","editMode","pb-0","info","fixedHeader","Action (I want to...)","refresh"," Add Requirement ","technology_stack","sort","color-swatch rounded me-1","toUpperCase","tabler-box","userData","success","Description","Diagram Content (SVG)","tabler-refresh","Markdown","Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]"," ...and ","Failed to update mockup: ","State Diagram","priority_modules","text-subtitle-1 font-weight-bold mb-2","Estimated Cost ($)"," This requirement doesn't have any user stories yet. ","Failed to create development plan: ","fixedFooter","thead","Development plan generation started successfully","onSubmit","requirement","slice","tabler-notebook","created_by","tabler-edit","70vh","Failed to create plan version","diagram-card h-100","Try adjusting your filters to see more results.","short","Failed to start UML diagram generation: ","data-v-3f565aa3","?project=","preview-overlay d-flex justify-center align-center","Edit Requirement","text-subtitle-2 font-weight-medium mb-2 text-primary","291474EcgiYS"," Retry ","tabler-search","/service/development-plans/","Updated: ","548juoyZO","tabler-device-mobile","Failed to delete user story: ","data-v-50fff0f2","tabler-arrow-right-square","Failed to update user story","srs_exports","Failed to start requirements generation","USD","model-value","Create New Requirement","data-v-fcfe1101","Failed to delete user story","HTML content is required","direction","text-medium-emphasis","Failed to delete UML diagram","Constraint","Generating diagram...","Failed to update plan version: ","Plan version created successfully","splice","performance","substring","html_content","input","Unknown User","setCurrentPlanVersion"," Add Comment ","Description is required","all","diagram","find","PDF","white","mockup-content pa-0","UmlDiagramDetailsDialog","Non-Functional","Update","Target Users",".v-timeline-divider__dot","calc(70vh - 110px)","Failed to fetch plan version","calc(var(--v-timeline-dot-size) / 2 + ","e.g. I can find what I need quickly, I can analyze the data offline","Failed to generate UML diagrams","v-table","active","validate","state","tabler-file-text","text-caption text-medium-emphasis","v-table__wrapper","split","Failed to generate UML diagrams: ","Additional Requirements"," Changed by: ","mt-5","Version not found","tabler-file-description"," Cancel ","?requirement=","Failed to delete project","1204795HMzsUY"," No acceptance criteria defined for this user story. ","Plan not found"," Delete ",'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',"Category","Failed to start user stories generation: ","No Diagram Content","text-h6 mb-3","action"," History ","resetValidation","params"," Exports ","lineInset","English","Estimated cost is required","Mockup updated successfully","primary","d-flex align-center mb-2","development-plan","updated_at","No UML Diagrams Found","hasModeratorPermission","text-5xl","Failed to set as current version","text-caption ms-3","acceptance_criteria"," Generate UML Diagrams ","64KJlcQd","As a","diagrams","Created By","cost","text","Benefit is required","text-subtitle-1 font-weight-medium","Failed to update UML diagram","isDialogVisible","Priority Modules/Features","text-right"," Diagram","This diagram is currently being generated. Please check back shortly.","developmentPlan","outlined","/service/mockups/","120px","This project does not have any mockups yet.","Version","text-medium-emphasis mb-4","Failed to update requirement: ","tabler-list-details","Generate All User Stories","text-body-1 whitespace-pre-wrap","Failed to regenerate UML diagram: ","Failed to create plan version: ","tabler-x","template"," Only one version available. Create more versions to see the history. ","Notes","v-timeline-divider__inner-dot","createUserStory","tabler-chart-dots-2","x-small","900","data","parse","400px"," This requirement hasn't been modified since its creation. ","planId","uiux","updateDevelopmentPlan","Last Updated:","pt-3 pb-0","description","hover","Role (As a...)","user-stories","tbody","v-timeline--side-","mobile"," for this development plan. ","span","whitespace-pre-wrap","stop"," Be the first to comment on this requirement. ","d-flex justify-center my-8"," Set as Current ","userStories","currentMockup","operating_system"];return(dt=function(){return r})()}const Xe=et()({name:a(166),props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...tt(),...gt(),...it(),...bt()},setup(r,o){const e=a;let{slots:i}=o;const{themeClasses:M}=kt(r),{densityClasses:P}=wt(r);return lt(()=>t(r.tag,{class:[e(536),{"v-table--fixed-height":!!r[e(336)],"v-table--fixed-header":r[e(441)],"v-table--fixed-footer":r[e(465)],"v-table--has-top":!!i[e(322)],"v-table--has-bottom":!!i.bottom,"v-table--hover":r[e(628)]},M.value,P[e(873)],r[e(435)]],style:r[e(369)]},{default:()=>{var F,V,b;return[(F=i.top)==null?void 0:F.call(i),i[e(396)]?t(e(242),{class:e(542),style:{height:Oe(r[e(336)])}},[t(e(829),null,[i.default()])]):(V=i.wrapper)==null?void 0:V.call(i),(b=i.bottom)==null?void 0:b.call(i)]}})),{}}}),Ft=et()({name:"VTimeline",props:{align:{type:String,default:"center",validator:r=>[a(381),a(747)][a(865)](r)},direction:{type:String,default:a(867),validator:r=>["vertical","horizontal"].includes(r)},justify:{type:String,default:a(312),validator:r=>[a(312),"center"].includes(r)},side:{type:String,validator:r=>r==null||[a(747),a(831)][a(865)](r)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:r=>[a(747),a(831),a(708)].includes(r)},...tt(),...gt(),...it(),...bt()},setup(r,o){const e=a;let{slots:i}=o;const{themeClasses:M}=kt(r),{densityClasses:P}=wt(r);At({VTimelineDivider:{lineColor:Ee(r,e(889))},VTimelineItem:{density:Ee(r,e(337)),lineInset:Ee(r,e(567))}});const F=X(()=>{const b=e,h=r.side?r[b(804)]:r.density!=="default"?b(831):null;return h&&b(632)+h}),V=X(()=>{const b=e,h=[b(309),"v-timeline--truncate-line-end"];switch(r[b(736)]){case"both":return h;case b(747):return h[0];case b(831):return h[1];default:return null}});return lt(()=>t(r.tag,{class:[e(247),e(673)+r[e(504)],e(844)+r.align,e(848)+r[e(155)],V[e(873)],{"v-timeline--inset-line":!!r.lineInset},M[e(873)],P[e(873)],F.value,r[e(435)]],style:[{"--v-timeline-line-thickness":Oe(r[e(663)])},r[e(369)]]},i)),{}}}),el=et()({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:xt,iconColor:String,lineColor:String,...tt(),...Vt(),...Ct(),...Ut()},setup(r,o){const e=a;let{slots:i}=o;const{sizeClasses:M,sizeStyles:P}=Nt(r,e(809)),{backgroundColorStyles:F,backgroundColorClasses:V}=ht(Ee(r,e(189))),{roundedClasses:b}=Ot(r,"v-timeline-divider__dot"),{elevationClasses:h}=Et(r),{backgroundColorClasses:E,backgroundColorStyles:Y}=ht(Ee(r,e(889)));return lt(()=>t(e(242),{class:[e(178),{"v-timeline-divider--fill-dot":r.fillDot},r[e(435)]],style:r[e(369)]},[t(e(242),{class:[e(301),E[e(873)]],style:Y.value},null),!r[e(363)]&&t("div",{key:"dot",class:[e(809),h[e(873)],b[e(873)],M[e(873)]],style:P[e(873)]},[t("div",{class:[e(613),V[e(873)],b[e(873)]],style:F[e(873)]},[i[e(396)]?t(Ht,{key:"icon-defaults",disabled:!r[e(206)],defaults:{VIcon:{color:r.iconColor,icon:r.icon,size:r.size}}},i[e(396)]):t(A,{key:e(206),color:r[e(651)],icon:r[e(206)],size:r.size},null)])]),t(e(242),{class:[e(339),E[e(873)]],style:Y.value},null)])),{}}}),Mt=et()({name:a(164),props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:xt,iconColor:String,lineInset:[Number,String],...tt(),...Gt(),...Ut(),...Vt(),...Ct(),...it()},setup(r,o){const e=a;let{slots:i}=o;const{dimensionStyles:M}=Jt(r),P=O(0),F=O();return Pe(F,V=>{var h;const b=me;V&&(P[b(873)]=((h=V[b(752)][b(658)](b(530)))==null?void 0:h[b(238)]()[b(798)])??0)},{flush:e(436)}),lt(()=>{var V,b;return t(e(242),{class:[e(132),{"v-timeline-item--fill-dot":r[e(709)]},r[e(435)]],style:[{"--v-timeline-dot-size":Oe(P[e(873)]),"--v-timeline-line-inset":r[e(567)]?e(533)+Oe(r.lineInset)+")":Oe(0)},r[e(369)]]},[t(e(242),{class:"v-timeline-item__body",style:M[e(873)]},[(V=i[e(396)])==null?void 0:V.call(i)]),t(el,{ref:F,hideDot:r[e(363)],icon:r[e(206)],iconColor:r.iconColor,size:r[e(371)],elevation:r.elevation,dotColor:r[e(189)],fillDot:r[e(709)],rounded:r[e(288)]},{default:i[e(206)]}),r[e(337)]!==e(803)&&t(e(242),{class:e(258)},[!r[e(764)]&&((b=i[e(400)])==null?void 0:b.call(i))])])}),{}}}),tl=d(a(635),{class:a(577)},"!",-1),ll={class:a(284)},$e={__name:"ConfirmDialog",props:{confirmationMsg:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:[a(807),a(343)],setup(r,{emit:o}){const e=r,i=F=>{o("update:isDialogVisible",F)},M=()=>{o(me(343),!0),i(!1)},P=()=>{const F=me;o("confirm",!1),o(F(807),!1)};return(F,V)=>{const b=me;return m(),B(Ce,{"max-width":"500","model-value":e.isDialogVisible,"onUpdate:modelValue":i},{default:l(()=>[t(re,{class:b(124)},{default:l(()=>[t(te,null,{default:l(()=>[t(G,{icon:"",variant:b(597),color:b(724),class:b(417),style:{width:b(794),height:b(794),"pointer-events":b(890)}},{default:l(()=>[tl]),_:1}),d("h6",ll,x(e[b(668)]),1)]),_:1}),t(ye,{class:b(716)},{default:l(()=>[t(G,{variant:"elevated",onClick:M},{default:l(()=>[k(" Confirm ")]),_:1}),t(G,{color:b(768),variant:b(376),onClick:P},{default:l(()=>[k(b(550))]),_:1})]),_:1})]),_:1})]),_:1},8,[b(499)])}}},ft=Ge({id:a(406),state:()=>({userStories:[],currentUserStory:null,loading:!1,error:null}),actions:{async fetchUserStories(r=null){const o=a;this.loading=!0;try{let e=o(318);r&&(e+=o(551)+r);const i=await le[o(740)](e);return i[o(851)]===200?(this[o(641)]=i.data,{data:i[o(618)],error:null}):{data:[],error:i.data}}catch(e){return this.error=e[o(328)]||"Failed to fetch user stories",{data:[],error:this[o(281)]}}finally{this[o(249)]=!1}},async fetchUserStoryById(r){const o=a;this[o(249)]=!0;try{const e=await le.get(o(318)+r+"/");return e.status===200?(this[o(862)]=e[o(618)],{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(696),{data:null,error:this[o(281)]}}finally{this.loading=!1}},async createUserStory(r){const o=a;this[o(249)]=!0;try{const e=await le.post(o(318),r);return e[o(851)]===201?(this.userStories[o(730)]&&this.userStories[o(832)](e[o(618)]),{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e.message||o(657),{data:null,error:this[o(281)]}}finally{this[o(249)]=!1}},async updateUserStory(r,o){const e=a;this[e(249)]=!0;try{const i=await le[e(654)]("/service/user-stories/"+r+"/",o);if(i[e(851)]===200){if(this[e(641)].length){const M=this[e(641)].findIndex(P=>P.id===r);M!==-1&&(this[e(641)][M]=i[e(618)])}return this[e(862)]&&this[e(862)].id===r&&(this[e(862)]=i.data),{data:i[e(618)],error:null}}return{data:null,error:i.data}}catch(i){return this.error=i[e(328)]||e(495),{data:null,error:this.error}}finally{this[e(249)]=!1}},async deleteUserStory(r){const o=a;this[o(249)]=!0;try{const e=await le[o(159)](o(318)+r+"/");return e[o(851)]===204?(this.userStories.length&&(this[o(641)]=this[o(641)][o(821)](i=>i.id!==r)),this[o(862)]&&this.currentUserStory.id===r&&(this[o(862)]=null),{success:!0,error:null}):{success:!1,error:e[o(618)]}}catch(e){return this.error=e.message||o(502),{success:!1,error:this[o(281)]}}finally{this[o(249)]=!1}},async regenerateUserStory(r,o=""){const e=a;this[e(249)]=!0;try{const i=await le[e(436)](e(318)+r+e(882),{feedback:o});return i[e(851)]===202?{data:i[e(618)],error:null}:{data:null,error:i[e(618)]}}catch(i){return this[e(281)]=i[e(328)]||e(272),{data:null,error:this.error}}finally{this[e(249)]=!1}},async createComment(r,o){const e=a;this[e(249)]=!0;try{const i=await le.post(e(824),{user_story:r,text:o[e(587)],status:o[e(851)]||e(537)});return i.status===201?{data:i.data,error:null}:{data:null,error:i.data}}catch(i){return this[e(281)]=i[e(328)]||e(346),{data:null,error:this.error}}finally{this.loading=!1}},async deleteComment(r){const o=a;this[o(249)]=!0;try{const e=await le[o(159)](o(824)+r+"/");return e.status===204?{success:!0,error:null}:{success:!1,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||"Failed to delete comment",{success:!1,error:this[o(281)]}}finally{this.loading=!1}}}}),yt=Ge({id:a(666),state:()=>({diagrams:[],currentDiagram:null,loading:!1,error:null}),actions:{async fetchDiagrams(r=null,o=null){const e=a;this[e(249)]=!0;try{let i=e(224);const M={};r&&(M[e(756)]=r),o&&(M[e(664)]=o);const P=await le[e(740)](i,{params:M});return P[e(851)]===200?(this[e(584)]=P[e(618)],{data:P.data,error:null}):{data:[],error:P[e(618)]}}catch(i){return this[e(281)]=i[e(328)]||e(660),{data:[],error:this[e(281)]}}finally{this.loading=!1}},async fetchDiagramById(r){const o=a;this[o(249)]=!0;try{const e=await le.get(o(224)+r+"/");return e.status===200?(this[o(131)]=e[o(618)],{data:e.data,error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e.message||o(181),{data:null,error:this.error}}finally{this[o(249)]=!1}},async createDiagram(r){const o=a;this.loading=!0;try{const e=await le[o(436)](o(224),r);return e[o(851)]===201?(this[o(584)].length&&this[o(584)].push(e.data),{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this.error=e.message||o(374),{data:null,error:this[o(281)]}}finally{this.loading=!1}},async updateDiagram(r,o){const e=a;this[e(249)]=!0;try{const i=await le[e(654)](e(224)+r+"/",o);if(i[e(851)]===200){if(this[e(584)][e(730)]){const M=this[e(584)].findIndex(P=>P.id===r);M!==-1&&(this[e(584)][M]=i[e(618)])}return this[e(131)]&&this[e(131)].id===r&&(this.currentDiagram=i[e(618)]),{data:i.data,error:null}}return{data:null,error:i[e(618)]}}catch(i){return this[e(281)]=i.message||e(590),{data:null,error:this[e(281)]}}finally{this[e(249)]=!1}},async deleteDiagram(r){const o=a;this[o(249)]=!0;try{const e=await le[o(159)](o(224)+r+"/");return e[o(851)]===204?(this[o(584)][o(730)]&&(this[o(584)]=this[o(584)][o(821)](i=>i.id!==r)),this[o(131)]&&this[o(131)].id===r&&(this.currentDiagram=null),{success:!0,error:null}):{success:!1,error:e[o(618)]}}catch(e){return this[o(281)]=e.message||o(506),{success:!1,error:this[o(281)]}}finally{this[o(249)]=!1}},async regenerateDiagram(r){const o=a;this[o(249)]=!0;try{const e=await le.post(o(224)+r+"/regenerate/");return e[o(851)]===202?{data:e[o(618)],error:null}:{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(733),{data:null,error:this[o(281)]}}finally{this[o(249)]=!1}},async generateDiagrams(r,o=a(435)){const e=a;this[e(249)]=!0;try{const i=await le[e(436)](e(177)+r+"/generate_uml_diagrams/",{diagram_type:o});return i[e(851)]===202?{data:i[e(618)],error:null}:{data:null,error:i.data}}catch(i){return this[e(281)]=i.message||"Failed to generate UML diagrams",{data:null,error:this[e(281)]}}finally{this.loading=!1}}}}),je=r=>(Se("data-v-3f565aa3"),r=r(),qe(),r),al={class:"d-flex flex-column gap-4"},sl={class:a(770)},rl={class:a(767)},ol=je(()=>d(a(635),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":a(599)}},"Created:",-1)),nl={class:a(767)},il=je(()=>d(a(635),{class:a(694),style:{"min-width":a(599)}},a(625),-1)),cl={class:"d-flex align-center"},ul=je(()=>d(a(635),{class:a(694),style:{"min-width":"120px"}},a(386),-1)),dl={class:a(767)},ml=je(()=>d(a(635),{class:a(694),style:{"min-width":a(599)}},"Language:",-1)),pl={key:0,class:a(767)},fl=je(()=>d(a(635),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":"120px"}},a(327),-1)),yl={key:1,class:"d-flex align-center"},hl=je(()=>d(a(635),{class:a(694),style:{"min-width":a(599)}},a(199),-1)),vl={key:2,class:a(767)},_l=je(()=>d(a(635),{class:a(694),style:{"min-width":a(599)}},"Color Scheme:",-1)),gl={class:a(767)},bl={class:"ms-2"},kl={class:a(636)},wl={class:a(684)},xl={key:0},Vl=je(()=>d("h6",{class:a(461)},"Technology Stack",-1)),Cl={class:a(636)},Ul={key:1},Dl=je(()=>d("h6",{class:a(461)},a(255),-1)),Sl={class:a(684)},ql={class:a(712)},zl={key:0,class:a(636)},jl=je(()=>d("h6",{class:"text-subtitle-1 font-weight-bold mb-2"},a(825),-1)),Fl={class:"whitespace-pre-wrap"},Ml={class:a(636)},Il={class:a(636)},Pl={__name:a(265),props:{project:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(r){const o=a,e=r,i=V=>{const b=me;return V?new Date(parseInt(V)).toLocaleDateString(b(210),{year:b(176),month:"long",day:b(176)}):b(351)},M=X(()=>{const V=me;switch(e[V(756)][V(851)]){case V(437):return V(724);case"active":return V(451);case V(333):return V(768);case V(659):return V(440);default:return V(571)}}),P=X(()=>{const V=me;switch(e[V(756)].type_of_application){case V(690):return V(802);case V(633):return V(491);case V(123):return V(778);case"api":return V(818);default:return V(373)}}),F={en:o(568),ru:"Russian",de:o(273)};return(V,b)=>{const h=o;return m(),B(te,{class:"pa-6"},{default:l(()=>[t(ne,null,{default:l(()=>[t($,{cols:"12",md:"6"},{default:l(()=>[d(h(242),al,[t(re,{border:"",class:h(897)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(Re,{color:"primary",variant:h(376),rounded:"",size:"42"},{default:l(()=>[t(A,{icon:D(P)},null,8,["icon"])]),_:1})]),append:l(()=>[t(ee,{size:h(799),color:D(M),label:""},{default:l(()=>[k(x(Je(r.project[h(851)])),1)]),_:1},8,[h(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[k("Project Overview")]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),sl,[d(h(242),rl,[ol,d("span",null,x(i(r[h(756)][h(811)])),1)]),d(h(242),nl,[il,d(h(635),null,x(i(r.project.updated_at)),1)]),d("div",cl,[ul,t(ee,{size:h(799)},{default:l(()=>[k(x(r[h(756)][h(769)]),1)]),_:1})]),d("div",dl,[ml,t(ee,{size:h(799)},{default:l(()=>{return[k(x((E=r[h(756)][h(783)],F[E]||E)),1)];var E}),_:1})]),r.project[h(914)]?(m(),j(h(242),pl,[fl,d(h(635),null,x(i(r[h(756)][h(914)])),1)])):N("",!0),r[h(756)][h(830)]?(m(),j(h(242),yl,[hl,d("span",null,"$"+x(r[h(756)][h(830)]),1)])):N("",!0),r[h(756)][h(855)]?(m(),j(h(242),vl,[_l,d(h(242),gl,[(m(!0),j(ae,null,ue(r[h(756)][h(855)][h(543)](","),(E,Y)=>{const L=h;return m(),j(L(242),{key:Y,class:L(447),style:He({backgroundColor:E.trim()}),title:"color"},null,4)}),128)),d(h(635),bl,x(r[h(756)][h(855)]),1)])])):N("",!0)])]),_:1})]),_:1}),r[h(756)].additional_requirements?(m(),B(re,{key:0,border:"",class:h(897)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(A,{color:h(571),icon:h(604)})]),default:l(()=>[t(ie,null,{default:l(()=>[k(h(545))]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),kl,x(r[h(756)][h(893)]),1)]),_:1})]),_:1})):N("",!0),r.project[h(445)]||r[h(756)].operating_system?(m(),B(re,{key:1,border:"",class:h(897)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(A,{color:"primary",icon:"tabler-device-laptop-code"})]),default:l(()=>[t(ie,null,{default:l(()=>[k("Technical Details")]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),wl,[r[h(756)][h(445)]?(m(),j(h(242),xl,[Vl,d(h(242),Cl,x(r[h(756)].technology_stack),1)])):N("",!0),r[h(756)].operating_system?(m(),j(h(242),Ul,[Dl,d(h(242),null,x(r[h(756)][h(643)]),1)])):N("",!0)])]),_:1})]),_:1})):N("",!0)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[d(h(242),Sl,[t(re,{border:"",class:"project-info-card"},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(A,{color:h(571),icon:h(549)})]),default:l(()=>[t(ie,null,{default:l(()=>[k(h(452))]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),ql,x(r.project.short_description),1),r.project[h(186)]?(m(),j(h(242),zl,[jl,d("div",null,x(r.project[h(186)]),1)])):N("",!0)]),_:1})]),_:1}),r.project.target_users?(m(),B(re,{key:0,border:"",class:h(897)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(A,{color:"primary",icon:"tabler-users"})]),default:l(()=>[t(ie,null,{default:l(()=>[k(h(529))]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),Fl,x(r[h(756)][h(259)]),1)]),_:1})]),_:1})):N("",!0),r[h(756)][h(772)]?(m(),B(re,{key:1,border:"",class:h(897)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(A,{color:h(571),icon:h(655)})]),default:l(()=>[t(ie,null,{default:l(()=>[k(h(785))]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),Ml,x(r.project[h(772)]),1)]),_:1})]),_:1})):N("",!0),r[h(756)][h(460)]?(m(),B(re,{key:2,border:"",class:h(897)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(A,{color:h(571),icon:h(203)})]),default:l(()=>[t(ie,null,{default:l(()=>[k(h(592))]),_:1})]),_:1}),t(oe),t(te,null,{default:l(()=>[d(h(242),Il,x(r.project[h(460)]),1)]),_:1})]),_:1})):N("",!0)])]),_:1})]),_:1})]),_:1})}}},Rl=De(Pl,[[a(409),a(480)]]),It=Ge({id:"RequirementStore",state:()=>({requirements:[],currentRequirement:null,loading:!1,error:null}),actions:{async fetchRequirements(r=null){const o=a;this[o(249)]=!0;try{let e=o(686);r&&(e+=o(481)+r);const i=await le[o(740)](e);return i[o(851)]===200?(this.requirements=i[o(618)],{data:i[o(618)],error:null}):{data:[],error:i[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(222),{data:[],error:this[o(281)]}}finally{this[o(249)]=!1}},async fetchRequirementById(r){const o=a;this[o(249)]=!0;try{const e=await le[o(740)](o(686)+r+"/");return e[o(851)]===200?(this.currentRequirement=e[o(618)],{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(739),{data:null,error:this.error}}finally{this[o(249)]=!1}},async createRequirement(r){const o=a;this[o(249)]=!0;try{const e=await le.post("/service/requirements/",r);return e.status===201?(this[o(234)][o(730)]&&this[o(234)][o(832)](e.data),{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(765),{data:null,error:this[o(281)]}}finally{this.loading=!1}},async updateRequirement(r,o){const e=a;this[e(249)]=!0;try{const i=await le.put(e(686)+r+"/",o);if(i[e(851)]===200){if(this[e(234)][e(730)]){const M=this[e(234)][e(817)](P=>P.id===r);M!==-1&&(this[e(234)][M]=i[e(618)])}return this[e(129)]&&this[e(129)].id===r&&(this[e(129)]=i[e(618)]),{data:i[e(618)],error:null}}return{data:null,error:i[e(618)]}}catch(i){return this.error=i[e(328)]||e(843),{data:null,error:this.error}}finally{this[e(249)]=!1}},async deleteRequirement(r){const o=a;this[o(249)]=!0;try{const e=await le[o(159)](o(686)+r+"/");return e[o(851)]===204?(this.requirements.length&&(this[o(234)]=this.requirements[o(821)](i=>i.id!==r)),this[o(129)]&&this[o(129)].id===r&&(this[o(129)]=null),{success:!0,error:null}):{success:!1,error:e[o(618)]}}catch(e){return this.error=e[o(328)]||o(718),{success:!1,error:this[o(281)]}}finally{this[o(249)]=!1}},async createComment(r,o){const e=a;this[e(249)]=!0;try{const i=await le[e(436)](e(361),{requirement:r,text:o.text,status:o.status||e(537),responsible_user:o[e(672)]||null});return i.status===201?{data:i[e(618)],error:null}:{data:null,error:i[e(618)]}}catch(i){return this.error=i[e(328)]||e(346),{data:null,error:this.error}}finally{this[e(249)]=!1}},async deleteComment(r){const o=a;this[o(249)]=!0;try{const e=await le[o(159)](o(361)+r+"/");return e.status===204?{success:!0,error:null}:{success:!1,error:e.data}}catch(e){return this.error=e[o(328)]||o(907),{success:!1,error:this.error}}finally{this[o(249)]=!1}}}}),Fe=r=>(Se(a(297)),r=r(),qe(),r),Bl={key:0,class:a(212)},Ll={key:1,class:a(212)},Tl={key:0},Al={key:1},Nl={class:a(317)},Ol={class:a(314)},El={class:a(691)},Hl={class:"text-caption"},Gl={class:a(815)},Jl={class:"text-body-1 whitespace-pre-wrap"},$l={key:0,class:a(338)},Kl=Fe(()=>d("h4",{class:a(145)},a(786),-1)),Yl=Fe(()=>d("p",{class:a(602)},a(463),-1)),Ql={key:1},Zl={class:a(355)},Wl=Fe(()=>d("h5",{class:a(212)},a(414),-1)),Xl={class:a(379)},ea=Fe(()=>d(a(330),null,a(150),-1)),ta=Fe(()=>d("strong",null,a(834),-1)),la={key:0,class:"mt-3"},aa=Fe(()=>d(a(242),{class:a(395)},a(235),-1)),sa={class:"pl-4"},ra={key:0},oa={key:0,class:"text-center mt-4"},na={key:0,class:"text-center pa-6"},ia=Fe(()=>d("h4",{class:"text-h6 mb-2"},"No History Available",-1)),ca=Fe(()=>d("p",{class:a(505)},a(621),-1)),ua={key:1},da={class:a(246)},ma={class:"text-caption text-medium-emphasis"},pa={class:a(572)},fa={class:"text-caption"},ya={class:"text-body-2 whitespace-pre-wrap"},ha={class:a(645)},va={key:1,class:a(338)},_a=Fe(()=>d("h4",{class:a(145)},a(743),-1)),ga=Fe(()=>d("p",{class:a(505)},a(638),-1)),ba={key:2},ka={class:a(767)},wa={class:a(767)},xa={class:a(744)},Va={class:a(648)},Ca={__name:a(236),props:{modelValue:{type:Boolean,default:!1},requirement:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(290),a(681),a(159),a(727)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:y=>o(e(290),y)}),P=It(),F=O(0),V=O(!1),b=O({...i[e(469)]}),h=O(""),E=O(!1),Y=O({show:!1,text:"",color:e(451)}),L=[{title:"Functional",value:e(434)},{title:e(527),value:e(699)},{title:e(364),value:e(623)},{title:e(303),value:e(693)}],H=[{title:"Draft",value:e(437)},{title:"Active",value:"active"},{title:e(323),value:e(333)},{title:e(321),value:e(659)}],S=[{title:"Feature",value:"feature"},{title:e(507),value:e(170)},{title:e(833),value:e(377)},{title:e(408),value:e(260)},{title:e(926),value:"security"},{title:e(347),value:e(512)},{title:e(303),value:e(693)}],J=X(()=>{const y=e;return i[y(469)][y(277)]||[]}),q=X(()=>{const y=e;return i[y(469)][y(849)]||[]}),U=X(()=>{const y=e;return i[y(469)][y(144)]||[]}),g=y=>{const p=e;return y?(y=parseInt(y),new Date(y).toLocaleDateString(p(210),{year:p(176),month:p(478),day:p(176),hour:"2-digit",minute:"2-digit"})):""},c=y=>{const p=e;return y?y[p(710)](0)[p(448)]()+y[p(470)](1):""},I=()=>{const y=e;V.value&&(b[y(873)]={...i.requirement}),V[y(873)]=!V[y(873)]},w=()=>{const y=e;o("update",b[y(873)]),V[y(873)]=!1},v=()=>{o(e(159))},Q=()=>{const y=e;o(y(727),i[y(469)]),M[y(873)]=!1},R=async()=>{const y=e;if(h.value.trim()){E[y(873)]=!0;try{const{data:p,error:s}=await P.createComment(i[y(469)].id,{text:h[y(873)],status:y(537)});if(p&&!s){T(y(134)),h[y(873)]="";const{data:n}=await P[y(797)](i[y(469)].id);n&&Object[y(257)](i[y(469)],n)}else T(y(813),y(281))}catch(p){T(y(647)+p[y(328)],y(281))}finally{E.value=!1}}},T=(y,p=e(451))=>{Y[e(873)]={show:!0,text:y,color:p}};return Pe(()=>i[e(469)],y=>{b.value={...y}},{deep:!0}),(y,p)=>{const s=e,n=we(s(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":p[11]||(p[11]=z=>Be(M)?M[s(873)]=z:null),"max-width":s(617),scrollable:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:s(777)},{default:l(()=>[V[s(873)]?(m(),j("h5",Bl,s(483))):(m(),j("h5",Ll,s(705))),t(se),t(n,{onClick:p[0]||(p[0]=z=>M[s(873)]=!1)},{default:l(()=>[t(A,{icon:s(609)})]),_:1})]),_:1}),t(te,{class:s(439)},{default:l(()=>[t(mt,{modelValue:F.value,"onUpdate:modelValue":p[1]||(p[1]=z=>F[s(873)]=z),"slider-color":s(571),"align-tabs":s(747)},{default:l(()=>[t(be,{value:"0"},{default:l(()=>[t(A,{size:"18",icon:"tabler-info-circle",start:""}),k(s(280))]),_:1}),t(be,{value:"1"},{default:l(()=>[t(A,{size:"18",icon:s(771),start:""}),k(s(879)),D(U)[s(730)]?(m(),B(ee,{key:0,size:s(616),color:s(571),class:"ms-2"},{default:l(()=>[k(x(D(U).length),1)]),_:1})):N("",!0)]),_:1}),t(be,{value:"2"},{default:l(()=>[t(A,{size:"18",icon:s(931),start:""}),k(s(563)),D(J)[s(730)]?(m(),B(ee,{key:0,size:s(616),color:s(571),class:s(701)},{default:l(()=>[k(x(D(J).length),1)]),_:1})):N("",!0)]),_:1}),t(be,{value:"3"},{default:l(()=>[t(A,{size:"18",icon:s(237),start:""}),k(" Comments "),D(q)[s(730)]?(m(),B(ee,{key:0,size:s(616),color:"primary",class:s(701)},{default:l(()=>[k(x(D(q)[s(730)]),1)]),_:1})):N("",!0)]),_:1})]),_:1},8,[s(221)])]),_:1}),t(oe),t(te,{class:s(692),style:{"min-height":"400px","max-height":s(474)}},{default:l(()=>[t(pt,{modelValue:F[s(873)],"onUpdate:modelValue":p[8]||(p[8]=z=>F.value=z),class:s(547)},{default:l(()=>[t(ke,{value:"0"},{default:l(()=>[V.value?(m(),j(s(242),Tl,[t(Le,{onSubmit:ze(w,["prevent"])},{default:l(()=>[t(ne,{class:s(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:b[s(873)][s(370)],"onUpdate:modelValue":p[2]||(p[2]=z=>b[s(873)][s(370)]=z),label:s(345),required:"",rules:[z=>!!z||s(190)]},null,8,[s(221),s(340)])]),_:1}),t($,{cols:"12",md:"4"},{default:l(()=>[t(he,{modelValue:b[s(873)][s(917)],"onUpdate:modelValue":p[3]||(p[3]=z=>b[s(873)][s(917)]=z),label:"Category",items:L,required:""},null,8,[s(221)])]),_:1}),t($,{cols:"12",md:"4"},{default:l(()=>[t(he,{modelValue:b[s(873)][s(721)],"onUpdate:modelValue":p[4]||(p[4]=z=>b[s(873)][s(721)]=z),label:s(175),items:S,required:""},null,8,[s(221)])]),_:1}),t($,{cols:"12",md:"4"},{default:l(()=>[t(he,{modelValue:b[s(873)][s(851)],"onUpdate:modelValue":p[5]||(p[5]=z=>b.value[s(851)]=z),label:s(858),items:H,required:""},null,8,[s(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:b[s(873)][s(627)],"onUpdate:modelValue":p[6]||(p[6]=z=>b[s(873)][s(627)]=z),label:s(452),required:"",rows:"8",rules:[z=>!!z||s(519)]},null,8,[s(221),"rules"])]),_:1})]),_:1})]),_:1},8,[s(468)])])):(m(),j("div",Al,[d(s(242),Nl,[t(ee,{color:D(nt)(r.requirement[s(917)]),size:"small",label:"",class:s(185)},{default:l(()=>[k(x(r[s(469)][s(917)]),1)]),_:1},8,[s(198)]),t(ee,{color:D(xe)(r[s(469)].status),size:s(799),label:""},{default:l(()=>[k(x(c(r[s(469)][s(851)])),1)]),_:1},8,[s(198)]),t(ee,{color:s(768),size:s(799),label:"",class:s(701)},{default:l(()=>[k(" v"+x(r[s(469)][s(223)]),1)]),_:1}),r[s(469)].requirement_type?(m(),B(ee,{key:0,color:"info",size:s(799),label:"",class:s(701)},{default:l(()=>[k(x(r[s(469)].requirement_type),1)]),_:1})):N("",!0),t(se),d(s(242),Ol,[t(A,{size:"18",icon:"tabler-calendar",class:s(365)}),d(s(635),El,s(489)+x(g(r.requirement.updated_at)),1),t(A,{size:"18",icon:"tabler-calendar-plus",class:s(365)}),d(s(635),Hl,s(922)+x(g(r[s(469)][s(811)])),1)])]),d("h4",Gl,x(r[s(469)][s(370)]),1),d(s(242),Jl,x(r[s(469)][s(627)]),1)]))]),_:1}),t(ke,{value:"1"},{default:l(()=>[D(U)[s(730)]===0?(m(),j(s(242),$l,[t(A,{icon:s(771),size:"64",color:s(768),class:s(416)}),Kl,Yl,t(G,{color:"primary",onClick:Q},{default:l(()=>[k(s(149))]),_:1})])):(m(),j(s(242),Ql,[d("div",Zl,[Wl,t(G,{color:s(571),variant:"tonal",onClick:Q},{default:l(()=>[k(" View All User Stories ")]),_:1})]),(m(!0),j(ae,null,ue(D(U).slice(0,3),(z,_)=>{const u=s;return m(),B(re,{key:z.id,class:u(417),border:""},{default:l(()=>[t(ve,null,{append:l(()=>[t(ee,{color:D(xe)(z.status),size:u(799),label:""},{default:l(()=>[k(x(z[u(851)]),1)]),_:2},1032,["color"])]),default:l(()=>[t(ie,null,{default:l(()=>[k(u(774)+x(z[u(180)]),1)]),_:2},1024)]),_:2},1024),t(te,null,{default:l(()=>[d("p",Xl,[ea,k(" "+x(z[u(562)]),1)]),d("p",null,[ta,k(" "+x(z.benefit),1)]),z[u(580)]&&z[u(580)][u(730)]>0?(m(),j("div",la,[aa,d("ul",sa,[(m(!0),j(ae,null,ue(z[u(580)].slice(0,2),(C,f)=>(m(),j("li",{key:f},x(C),1))),128)),z[u(580)][u(730)]>2?(m(),j("li",ra,u(457)+x(z[u(580)][u(730)]-2)+u(697),1)):N("",!0)])])):N("",!0)]),_:2},1024)]),_:2},1024)}),128)),D(U)[s(730)]>3?(m(),j(s(242),oa,[t(G,{color:"primary",variant:s(376),onClick:Q},{default:l(()=>[k(" View All "+x(D(U)[s(730)])+" User Stories ",1)]),_:1})])):N("",!0)]))]),_:1}),t(ke,{value:"2"},{default:l(()=>[D(J)[s(730)]===0?(m(),j("div",na,[t(A,{icon:"tabler-history",size:"64",color:s(768),class:"mb-3"}),ia,ca])):(m(),j(s(242),ua,[t(Ft,{density:s(803),align:s(747)},{default:l(()=>[(m(!0),j(ae,null,ue(D(J),(z,_)=>{const u=s;return m(),B(Mt,{key:_,"dot-color":u(571),size:u(799)},{opposite:l(()=>[d(u(242),da,x(g(z[u(225)])),1),d(u(242),ma,"v"+x(z[u(223)]),1)]),default:l(()=>[t(re,{border:""},{default:l(()=>[t(ve,null,{append:l(()=>[t(ee,{color:D(xe)(z[u(851)]),size:u(799),label:"",class:u(701)},{default:l(()=>[k(x(z[u(851)]),1)]),_:2},1032,[u(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[k(x(z[u(370)]),1)]),_:2},1024)]),_:2},1024),t(te,null,{default:l(()=>[d(u(242),pa,[t(ee,{color:D(nt)(z[u(917)]),size:u(799),label:"",class:u(185)},{default:l(()=>[k(x(z[u(917)]),1)]),_:2},1032,[u(198)]),d(u(635),fa,u(546)+x(z[u(839)]?z[u(839)].username:u(188)),1)]),d(u(242),ya,x(z[u(627)]),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ke,{value:"3"},{default:l(()=>[t(ne,{class:s(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:h[s(873)],"onUpdate:modelValue":p[7]||(p[7]=z=>h[s(873)]=z),label:"Add a comment",rows:"3",counter:"",disabled:E.value},null,8,[s(221),"disabled"]),d(s(242),ha,[t(G,{color:s(571),size:s(799),loading:E[s(873)],disabled:!h[s(873)].trim(),onClick:R},{default:l(()=>[k(s(518))]),_:1},8,[s(249),s(380)])])]),_:1}),t($,{cols:"12"},{default:l(()=>[D(q).length?(m(),B(oe,{key:0,class:s(417)})):N("",!0),D(q)[s(730)]===0?(m(),j(s(242),va,[t(A,{icon:s(237),size:"64",color:s(768),class:s(416)}),_a,ga])):(m(),j("div",ba,[(m(!0),j(ae,null,ue(D(q),z=>{const _=s;return m(),j("div",{key:z.id,class:"comment-item mb-4"},[t(re,{border:""},{default:l(()=>[t(te,{class:_(901)},{default:l(()=>[d(_(242),ka,[t(Re,{color:_(571),variant:_(376),size:"36",class:_(870)},{default:l(()=>[t(A,{icon:"tabler-user"})]),_:1}),d(_(242),null,[d(_(242),wa,[d(_(330),null,x(z[_(419)]?z[_(419)][_(187)]:_(516)),1),d(_(242),xa,x(g(z[_(811)])),1)])]),t(se),r.isAdmin||r[_(285)]?(m(),B(n,{key:0,size:"small",color:_(281),variant:_(587),onClick:u=>(async C=>{const f=e;E.value=!0;try{const{success:K,error:Z}=await P[f(193)](C);if(K&&!Z){T(f(335));const{data:W}=await P[f(797)](i[f(469)].id);W&&Object.assign(i.requirement,W)}else T(f(907),f(281))}catch(K){T(f(820)+K[f(328)],f(281))}finally{E[f(873)]=!1}})(z.id),disabled:E.value},{default:l(()=>[t(A,{icon:_(845),size:"18"})]),_:2},1032,["onClick","disabled"])):N("",!0)]),d(_(242),Va,x(z[_(587)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[s(221)])]),_:1}),t(oe),t(ye,{class:"pa-4"},{default:l(()=>[V[s(873)]?(m(),j(ae,{key:0},[t(G,{color:s(768),variant:s(376),onClick:I},{default:l(()=>[k(s(550))]),_:1}),t(se),t(G,{color:s(571),onClick:w},{default:l(()=>[k(s(329))]),_:1})],64)):(m(),j(ae,{key:1},[r[s(860)]?(m(),B(G,{key:0,color:"error",variant:s(376),"prepend-icon":s(845),onClick:v},{default:l(()=>[k(" Delete ")]),_:1})):N("",!0),r[s(576)]&&D(U)[s(730)]===0?(m(),B(G,{key:1,color:s(440),variant:s(376),"prepend-icon":s(771),class:"ms-2",onClick:Q},{default:l(()=>[k(s(149))]),_:1})):N("",!0),t(se),r[s(576)]?(m(),B(G,{key:2,color:s(571),"prepend-icon":s(473),onClick:I},{default:l(()=>[k(s(738))]),_:1})):N("",!0)],64))]),_:1})]),_:1}),t(Ue,{modelValue:Y[s(873)][s(192)],"onUpdate:modelValue":p[10]||(p[10]=z=>Y[s(873)].show=z),color:Y.value[s(198)],timeout:5e3},{actions:l(()=>[t(n,{onClick:p[9]||(p[9]=z=>Y.value.show=!1)},{default:l(()=>[t(A,{icon:s(609)})]),_:1})]),default:l(()=>[k(x(Y.value[s(587)])+" ",1)]),_:1},8,[s(221),s(198)])]),_:1},8,[s(221)])}}},Ua=De(Ca,[[a(409),a(297)]]),Da={class:a(212)},Sa={__name:a(725),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},requirementData:{type:Object,default:()=>({})}},emits:[a(290),a(232)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:S=>o(e(290),S)}),P=O({title:i[e(438)]&&i[e(682)]?i.requirementData[e(370)]:"",description:i[e(438)]&&i[e(682)]?i[e(682)].description:"",category:i.editMode&&i[e(682)]?i[e(682)][e(917)]:e(434),status:i[e(438)]&&i[e(682)]?i[e(682)][e(851)]:e(437)}),F=[S=>!!S||e(190),S=>S[e(730)]<=255||"Title must be less than 255 characters"],V=[S=>!!S||e(519)],b=[{title:e(695),value:e(434)},{title:"Non-Functional",value:e(699)},{title:e(364),value:"uiux"},{title:e(303),value:"other"}],h=[{title:e(915),value:e(437)},{title:e(652),value:"active"},{title:e(323),value:e(333)},{title:e(321),value:e(659)}],E=O(null),Y=()=>{const S=e;P.value={title:"",description:"",category:"functional",status:S(437)},E[S(873)]&&E[S(873)].resetValidation()},L=()=>{M[e(873)]=!1,Y()},H=async()=>{const S=e,{valid:J}=await E[S(873)].validate();J&&(o(S(232),P.value),M[S(873)]=!1,Y())};return Pe(M,S=>{S||Y()}),(S,J)=>{const q=e,U=we(q(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":J[4]||(J[4]=g=>Be(M)?M.value=g:null),"max-width":q(880),persistent:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:"d-flex pt-5 px-5"},{default:l(()=>[d("h5",Da,x(i[q(438)]?"Edit Requirement":q(500)),1),t(se),t(U,{onClick:L},{default:l(()=>[t(A,{icon:q(609)})]),_:1})]),_:1}),t(te,{class:q(656)},{default:l(()=>[t(Le,{ref_key:q(179),ref:E,onSubmit:ze(H,["prevent"])},{default:l(()=>[t(ne,{class:q(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:P.value[q(370)],"onUpdate:modelValue":J[0]||(J[0]=g=>P[q(873)][q(370)]=g),label:q(795),rules:F,required:""},null,8,[q(221)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:P[q(873)].category,"onUpdate:modelValue":J[1]||(J[1]=g=>P[q(873)][q(917)]=g),label:q(558),items:b,required:""},null,8,[q(221)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:P[q(873)].status,"onUpdate:modelValue":J[2]||(J[2]=g=>P[q(873)][q(851)]=g),label:q(858),items:h,required:""},null,8,[q(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:P[q(873)][q(627)],"onUpdate:modelValue":J[3]||(J[3]=g=>P.value.description=g),label:q(452),rules:V,required:"",rows:"6"},null,8,[q(221)])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(oe),t(ye,{class:q(816)},{default:l(()=>[t(G,{variant:q(376),color:"secondary",onClick:L},{default:l(()=>[k(" Cancel ")]),_:1}),t(se),t(G,{color:q(571),onClick:H},{default:l(()=>[k(x(i.editMode?q(528):q(245))+q(878),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[q(221)])}}},qa={key:0,class:a(906),style:{height:"300px"}},za={key:1,class:a(205)},ja=(Ye=()=>d("h4",{class:"text-h6 mb-2"},a(923),-1),Se("data-v-13a73dd1"),Ye=Ye(),qe(),Ye),Fa={class:a(763)},Ma={class:"text-body-2 mb-3"},Ia={class:"d-flex align-center justify-space-between mb-2"},Pa={class:a(767)},Ra={class:a(891)},Ba={class:"d-flex align-center"},La={class:a(246)},Ta={class:a(767)},Aa={class:"text-caption"},Na={key:0,class:"mt-3"},Oa={__name:a(316),props:{projectId:{type:String,required:!0},requirements:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[a(443),a(727)],setup(r,{emit:o}){const e=a,i=r,M=It(),P=Ae(),F=O(""),V=O([]),b=O([e(437),e(537),e(659)]),h=O(null),E=O(!1),Y=O(!1),L=O(!1),H=O(!1),S=O({show:!1,text:"",color:"success"}),J=X(()=>P[e(300)]()),q=X(()=>P.userData[e(180)]>=2),U=X(()=>P.userData[e(180)]>=3),g=[{title:e(695),value:"functional"},{title:e(527),value:e(699)},{title:e(364),value:"uiux"},{title:"Other",value:e(693)}],c=[{title:e(915),value:e(437)},{title:e(652),value:e(537)},{title:e(323),value:e(333)},{title:e(321),value:e(659)}],I=X(()=>{const z=e;return i[z(234)][z(821)](_=>{const u=z,C=!F.value||_[u(370)][u(130)]().includes(F[u(873)][u(130)]())||_[u(627)][u(130)]()[u(865)](F.value[u(130)]()),f=V[u(873)][u(730)]===0||V[u(873)][u(865)](_[u(917)]),K=b.value[u(865)](_[u(851)]);return C&&f&&K})}),w=()=>{Y.value=!0},v=async z=>{const _=e;H.value=!0;try{const{data:u,error:C}=await M.createRequirement({...z,project:i[_(918)]});u&&!C?(y(_(649)),o(_(443))):y(_(765),_(281))}catch(u){y(_(423)+u.message,_(281))}finally{H[_(873)]=!1}},Q=async z=>{const _=e;H[_(873)]=!0;try{const{data:u,error:C}=await M[_(859)](h[_(873)].id,z);u&&!C?(y(_(313)),o(_(443))):y(_(843),"error")}catch(u){y(_(603)+u[_(328)],"error")}finally{H[_(873)]=!1}},R=async()=>{const z=e;if(h[z(873)]){H[z(873)]=!0,L[z(873)]=!1;try{const{success:_,error:u}=await M.deleteRequirement(h[z(873)].id);_&&!u?(y(z(728)),o(z(443)),E[z(873)]=!1):y(z(718),z(281))}catch(_){y(z(669)+_[z(328)],z(281))}finally{H[z(873)]=!1}}},T=z=>{o("view-user-stories",z)},y=(z,_=e(451))=>{S.value={show:!0,text:z,color:_}},p=(z,_=120)=>{const u=e;return!z||z[u(730)]<=_?z:z[u(513)](0,_)+u(161)},s=z=>{const _=e;return z?(z=parseInt(z),new Date(z)[_(427)](_(210),{year:_(176),month:_(478),day:"numeric",hour:"2-digit",minute:_(389)})):""},n=z=>{const _=e;return z?z[_(710)](0)[_(448)]()+z[_(470)](1):""};return(z,_)=>{const u=e,C=$e,f=we(u(805));return m(),B(te,{class:u(692)},{default:l(()=>[t(ne,null,{default:l(()=>[t($,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:F[u(873)],"onUpdate:modelValue":_[0]||(_[0]=K=>F.value=K),density:u(803),placeholder:u(324),"prepend-inner-icon":"tabler-search","hide-details":"",variant:u(597),clearable:""},null,8,[u(221)])]),_:1}),t($,{cols:"12",md:"3"},{default:l(()=>[t(he,{modelValue:V.value,"onUpdate:modelValue":_[1]||(_[1]=K=>V.value=K),items:g,density:"compact","hide-details":"",label:"Category",variant:"outlined",multiple:"",chips:""},null,8,[u(221)])]),_:1}),t($,{cols:"12",md:"3"},{default:l(()=>[t(he,{modelValue:b.value,"onUpdate:modelValue":_[2]||(_[2]=K=>b.value=K),items:c,density:u(803),"hide-details":"",label:"Status",variant:u(597),multiple:"",chips:""},null,8,[u(221)])]),_:1}),t($,{cols:"12",md:"2",class:"d-flex align-center"},{default:l(()=>[D(U)?(m(),B(G,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:w,loading:H[u(873)],block:""},{default:l(()=>[k(u(165))]),_:1},8,["loading"])):N("",!0)]),_:1})]),_:1}),t(oe,{class:u(896)}),r.loading?(m(),j("div",qa,[t(Ie,{indeterminate:"",color:u(571)})])):D(I)[u(730)]===0?(m(),j("div",za,[t(A,{icon:u(761),size:"64",color:"secondary",class:u(417)}),ja,d("p",Fa,x(F[u(873)]||V[u(873)].length>0||b[u(873)][u(730)]>0?"Try adjusting your filters to see more results.":"This project does not have any requirements yet."),1),D(U)&&!F[u(873)]&&V[u(873)][u(730)]===0&&b[u(873)][u(730)]===0?(m(),B(G,{key:0,color:u(571),onClick:w,"prepend-icon":u(929)},{default:l(()=>[k(u(444))]),_:1})):N("",!0)])):(m(),B(ne,{key:2},{default:l(()=>[(m(!0),j(ae,null,ue(D(I),K=>{const Z=u;return m(),B($,{key:K.id,cols:"12"},{default:l(()=>[t(re,{class:Z(276),onClick:W=>(ce=>{const pe=e;h[pe(873)]=ce,E[pe(873)]=!0})(K),border:"",hover:""},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(Re,{color:D(nt)(K[Z(917)]),variant:"tonal",size:"42"},{default:l(()=>[K[Z(917)]===Z(434)?(m(),B(A,{key:0,icon:Z(892)})):K.category==="nonfunctional"?(m(),B(A,{key:1,icon:Z(852)})):K[Z(917)]===Z(623)?(m(),B(A,{key:2,icon:Z(228)})):(m(),B(A,{key:3,icon:Z(549)}))]),_:2},1032,[Z(198)])]),append:l(()=>[t(ee,{color:D(xe)(K[Z(851)]),size:"small",label:""},{default:l(()=>[k(x(n(K[Z(851)])),1)]),_:2},1032,[Z(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[k(x(K.handle)+" "+x(K.title),1)]),_:2},1024)]),_:2},1024),t(te,null,{default:l(()=>[d("p",Ma,x(p(K[Z(627)])),1),d(Z(242),Ia,[d("div",Pa,[t(A,{size:"16",icon:Z(214),class:Z(365)}),d(Z(635),Ra,x(K[Z(917)]),1)]),d("div",Ba,[t(A,{size:"16",icon:Z(403),class:Z(365)}),d("span",La,x(s(K[Z(574)])),1)]),d("div",Ta,[t(A,{size:"16",icon:Z(931),class:Z(365)}),d(Z(635),Aa,"v"+x(K[Z(223)]),1)])]),K[Z(144)]&&K.user_stories[Z(730)]>0?(m(),j(Z(242),Na,[t(G,{size:Z(799),variant:Z(376),color:Z(571),"prepend-icon":Z(771),onClick:ze(W=>T(K),["stop"])},{default:l(()=>[k(x(K[Z(144)][Z(730)])+Z(702)+x(K.user_stories[Z(730)]===1?Z(215):Z(703)),1)]),_:2},1032,[Z(806)])])):N("",!0)]),_:2},1024)]),_:2},1032,[Z(806)])]),_:2},1024)}),128))]),_:1})),h.value?(m(),B(Ua,{key:3,modelValue:E[u(873)],"onUpdate:modelValue":_[3]||(_[3]=K=>E[u(873)]=K),requirement:h[u(873)],onDelete:_[4]||(_[4]=K=>L[u(873)]=!0),onUpdate:Q,onViewUserStories:T,"is-admin":D(J),"has-manager-permission":D(q),"has-moderator-permission":D(U)},null,8,[u(221),u(469),u(412),"has-manager-permission",u(425)])):N("",!0),t(Sa,{modelValue:Y[u(873)],"onUpdate:modelValue":_[5]||(_[5]=K=>Y.value=K),onSubmit:v},null,8,[u(221)]),t(C,{isDialogVisible:L[u(873)],"onUpdate:isDialogVisible":_[6]||(_[6]=K=>L[u(873)]=K),confirmationMsg:u(900),onConfirm:R},null,8,[u(591)]),t(Ue,{modelValue:S.value[u(192)],"onUpdate:modelValue":_[8]||(_[8]=K=>S[u(873)][u(192)]=K),color:S[u(873)][u(198)],timeout:5e3},{actions:l(()=>[t(f,{onClick:_[7]||(_[7]=K=>S[u(873)][u(192)]=!1)},{default:l(()=>[t(A,{icon:u(609)})]),_:1})]),default:l(()=>[k(x(S[u(873)].text)+" ",1)]),_:1},8,[u(221),u(198)])]),_:1})}}},Ea=De(Oa,[[a(409),a(930)]]),Pt=Ge({id:"MockupStore",state:()=>({mockups:[],currentMockup:null,loading:!1,error:null}),actions:{async fetchMockups(r=null){const o=a;this[o(249)]=!0;try{let e=o(598);r&&(e+=o(481)+r);const i=await le.get(e);return i.status===200?(this[o(826)]=i[o(618)],{data:i[o(618)],error:null}):{data:[],error:i[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||"Failed to fetch mockups",{data:[],error:this.error}}finally{this[o(249)]=!1}},async fetchMockupById(r){const o=a;this.loading=!0;try{const e=await le[o(740)]("/service/mockups/"+r+"/");return e.status===200?(this.currentMockup=e[o(618)],{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e.message||"Failed to fetch mockup",{data:null,error:this[o(281)]}}finally{this[o(249)]=!1}},async createMockup(r){const o=a;this.loading=!0;try{const e=await le.post("/service/mockups/",r);return e[o(851)]===201?(this[o(826)][o(730)]&&this[o(826)].push(e[o(618)]),{data:e[o(618)],error:null}):{data:null,error:e[o(618)]}}catch(e){return this.error=e[o(328)]||o(202),{data:null,error:this.error}}finally{this[o(249)]=!1}},async updateMockup(r,o){const e=a;this.loading=!0;try{const i=await le[e(654)](e(598)+r+"/",o);if(i[e(851)]===200){if(this.mockups[e(730)]){const M=this.mockups[e(817)](P=>P.id===r);M!==-1&&(this[e(826)][M]=i[e(618)])}return this[e(642)]&&this[e(642)].id===r&&(this[e(642)]=i[e(618)]),{data:i[e(618)],error:null}}return{data:null,error:i.data}}catch(i){return this.error=i[e(328)]||e(126),{data:null,error:this[e(281)]}}finally{this.loading=!1}},async deleteMockup(r){const o=a;this[o(249)]=!0;try{const e=await le[o(159)](o(598)+r+"/");return e[o(851)]===204?(this[o(826)][o(730)]&&(this[o(826)]=this[o(826)].filter(i=>i.id!==r)),this[o(642)]&&this[o(642)].id===r&&(this[o(642)]=null),{success:!0,error:null}):{success:!1,error:e[o(618)]}}catch(e){return this[o(281)]=e.message||o(291),{success:!1,error:this[o(281)]}}finally{this.loading=!1}}}}),Rt=r=>(Se("data-v-b1d59641"),r=r(),qe(),r),Ha={key:0,class:a(212)},Ga={class:a(212)},Ja={key:0},$a={key:1},Ka={class:a(243)},Ya={class:a(767)},Qa={class:a(246)},Za={class:a(375)},Wa={class:"text-caption"},Xa={key:0,class:a(375)},es={class:a(246)},ts={class:a(525)},ls=[a(296)],as={key:1,class:a(745),style:{height:a(620)}},ss=Rt(()=>d("h4",{class:a(145)},a(734),-1)),rs=Rt(()=>d("p",{class:a(828)},a(838),-1)),os={__name:a(822),props:{modelValue:{type:Boolean,default:!1},mockup:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1}},emits:["update:modelValue",a(159)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:U=>o(e(290),U)}),P=Pt(),F=O(!1),V=O(!1),b=O({...i[e(653)]}),h=O(!1),E=O({show:!1,text:"",color:"success"}),Y=U=>{const g=e;return U?new Date(parseInt(U))[g(427)](g(210),{year:g(176),month:g(478),day:"numeric",hour:g(389),minute:g(389)}):""},L=()=>{const U=e;F[U(873)]=!F[U(873)]},H=()=>{const U=e;V[U(873)]&&(b[U(873)]={...i[U(653)]}),V.value=!V[U(873)]},S=async()=>{const U=e;h.value=!0;try{const{data:g,error:c}=await P[U(261)](i[U(653)].id,b[U(873)]);g&&!c?(q(U(570)),Object[U(257)](i.mockup,g),V[U(873)]=!1):q(U(126),"error")}catch(g){q(U(458)+g[U(328)],U(281))}finally{h[U(873)]=!1}},J=()=>{o("delete")},q=(U,g=e(451))=>{E.value={show:!0,text:U,color:g}};return Pe(()=>i[e(653)],U=>{b[e(873)]={...U}},{deep:!0}),(U,g)=>{const c=e,I=we(c(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":g[6]||(g[6]=w=>Be(M)?M.value=w:null),fullscreen:F.value,"max-width":F.value?c(707):c(617),scrollable:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:c(286)},{default:l(()=>[V.value?(m(),j("h5",Ha,c(700))):(m(),j(ae,{key:1},[d("h5",Ga,x(r.mockup[c(143)]),1),t(ee,{color:D(xe)(r[c(653)][c(851)]),size:c(799),label:""},{default:l(()=>[k(x(Je(r.mockup[c(851)])),1)]),_:1},8,[c(198)])],64)),t(se),t(G,{icon:"",variant:c(587),onClick:L},{default:l(()=>[t(A,{icon:F[c(873)]?c(148):c(332)},null,8,["icon"])]),_:1}),t(I,{onClick:g[0]||(g[0]=w=>M[c(873)]=!1)},{default:l(()=>[t(A,{icon:c(609)})]),_:1})]),_:1}),t(oe),t(te,{class:ct({"pa-0":!V[c(873)],"pa-6":V[c(873)]}),style:He({height:F[c(873)]?c(760):c(474),maxHeight:c(173)})},{default:l(()=>[V[c(873)]?(m(),j(c(242),Ja,[t(Le,{onSubmit:ze(S,[c(773)])},{default:l(()=>[t(ne,{class:c(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:b[c(873)][c(143)],"onUpdate:modelValue":g[1]||(g[1]=w=>b[c(873)][c(143)]=w),label:c(279),required:"",rules:[w=>!!w||"Name is required"]},null,8,["modelValue",c(340)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:b[c(873)][c(851)],"onUpdate:modelValue":g[2]||(g[2]=w=>b[c(873)].status=w),label:c(858),items:[{title:"Draft",value:"draft"},{title:c(652),value:c(537)},{title:c(323),value:c(333)},{title:c(321),value:"completed"}],required:""},null,8,[c(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:b.value[c(514)],"onUpdate:modelValue":g[3]||(g[3]=w=>b[c(873)][c(514)]=w),label:c(753),rows:"15",rules:[w=>!!w||c(503)],monospace:""},null,8,[c(221),c(340)])]),_:1})]),_:1})]),_:1},8,[c(468)])])):(m(),j("div",$a,[d(c(242),Ka,[d(c(242),Ya,[t(A,{icon:c(403),class:c(185),size:"18"}),d(c(635),Qa,"Created: "+x(Y(r[c(653)][c(811)])),1)]),d(c(242),Za,[t(A,{icon:"tabler-calendar-event",class:c(185),size:"18"}),d("span",Wa,c(489)+x(Y(r[c(653)].updated_at)),1)]),r[c(653)].requirement?(m(),j(c(242),Xa,[t(A,{icon:"tabler-file-check",class:"me-2",size:"18"}),d(c(635),es,"Requirement: "+x(r[c(653)][c(469)]),1)])):N("",!0)]),t(oe),d(c(242),ts,[r[c(653)][c(514)]?(m(),j(c(791),{key:0,srcdoc:r.mockup[c(514)],class:c(368),style:He([{width:c(707),border:"none"},{height:F[c(873)]?"calc(100vh - 180px)":c(531)}]),sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",title:c(219)},null,12,ls)):(m(),j(c(242),as,[t(A,{icon:c(927),size:"64",color:c(768),class:c(417)}),ss,rs]))])]))]),_:1},8,[c(435),c(369)]),t(oe),t(ye,{class:c(816)},{default:l(()=>[V[c(873)]?(m(),j(ae,{key:0},[t(G,{color:"secondary",variant:"tonal",onClick:H,disabled:h.value},{default:l(()=>[k(" Cancel ")]),_:1},8,[c(380)]),t(se),t(G,{color:c(571),onClick:S,loading:h[c(873)]},{default:l(()=>[k(c(329))]),_:1},8,[c(249)])],64)):(m(),j(ae,{key:1},[r.isAdmin?(m(),B(G,{key:0,color:c(281),variant:c(376),"prepend-icon":c(845),onClick:J},{default:l(()=>[k(c(556))]),_:1})):N("",!0),t(se),r[c(285)]?(m(),B(G,{key:1,color:c(571),"prepend-icon":c(473),onClick:H},{default:l(()=>[k(c(738))]),_:1})):N("",!0),r[c(285)]?(m(),B(G,{key:2,class:c(701),color:c(571),variant:c(376),"prepend-icon":c(373),onClick:H},{default:l(()=>[k(" View HTML ")]),_:1})):N("",!0)],64))]),_:1})]),_:1}),t(Ue,{modelValue:E[c(873)][c(192)],"onUpdate:modelValue":g[5]||(g[5]=w=>E.value[c(192)]=w),color:E[c(873)].color,timeout:5e3},{actions:l(()=>[t(I,{onClick:g[4]||(g[4]=w=>E.value[c(192)]=!1)},{default:l(()=>[t(A,{icon:c(609)})]),_:1})]),default:l(()=>[k(x(E[c(873)][c(587)])+" ",1)]),_:1},8,[c(221),c(198)])]),_:1},8,[c(221),c(885),"max-width"])}}},ns=De(os,[["__scopeId","data-v-b1d59641"]]),Bt=r=>(Se("data-v-fcfe1101"),r=r(),qe(),r),is={key:0,class:a(906),style:{height:"300px"}},cs={key:1,class:a(205)},us=Bt(()=>d("h4",{class:a(145)},a(433),-1)),ds={class:a(763)},ms={class:a(766)},ps={class:a(421),style:{height:a(904)}},fs={key:0,class:"html-preview"},ys=[a(287)],hs={key:1,class:a(207)},vs={class:a(482)},_s={key:0,class:a(379)},gs=Bt(()=>d("span",{class:a(356)},a(266),-1)),bs={class:a(191)},ks={class:a(767)},ws={class:a(246)},xs=De({__name:a(784),props:{projectId:{type:String,required:!0},mockups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:o}){const e=a,i=r,M=Pt(),P=Ae(),F=O(""),V=O(null),b=O(!1),h=O(!1),E=O(!1),Y=O({show:!1,text:"",color:"success"}),L=X(()=>P[e(300)]()),H=X(()=>P[e(450)][e(180)]>=2);X(()=>P[e(450)][e(180)]>=3);const S=X(()=>{const c=e;return i[c(826)][c(821)](I=>{const w=c;return!F.value||I[w(143)][w(130)]()[w(865)](F.value[w(130)]())||I[w(469)]&&I[w(469)][w(370)][w(130)]().includes(F.value[w(130)]())})}),J=c=>{const I=e;return c?new Date(parseInt(c))[I(427)](I(210),{year:I(176),month:I(478),day:"numeric",hour:"2-digit",minute:I(389)}):""},q=async()=>{const c=e;if(V[c(873)]){E.value=!0,h.value=!1;try{const{success:I,error:w}=await M[c(195)](V[c(873)].id);I&&!w?(U(c(208)),o(c(443)),b[c(873)]=!1):U(c(291),c(281))}catch(I){U(c(717)+I[c(328)],c(281))}finally{E[c(873)]=!1}}},U=(c,I=e(451))=>{Y[e(873)]={show:!0,text:c,color:I}},g=(c,I=150)=>{const w=e;if(!c||c[w(730)]<=I)return c;const v=c.replace(/<[^>]*>/g,"");return v[w(730)]<=I?c:v[w(513)](0,I)+w(161)};return(c,I)=>{const w=e,v=$e,Q=we(w(805));return m(),B(te,{class:w(692)},{default:l(()=>[t(ne,null,{default:l(()=>[t($,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:F[w(873)],"onUpdate:modelValue":I[0]||(I[0]=R=>F.value=R),density:"compact",placeholder:w(271),"prepend-inner-icon":w(487),"hide-details":"",variant:w(597),clearable:""},null,8,[w(221)])]),_:1})]),_:1}),t(oe,{class:"my-5"}),r[w(249)]?(m(),j(w(242),is,[t(Ie,{indeterminate:"",color:w(571)})])):D(S).length===0?(m(),j(w(242),cs,[t(A,{icon:w(823),size:"64",color:w(768),class:"mb-4"}),us,d("p",ds,x(F[w(873)]?w(646):w(600)),1)])):(m(),B(ne,{key:2},{default:l(()=>[(m(!0),j(ae,null,ue(D(S),R=>{const T=w;return m(),B($,{key:R.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(re,{class:T(125),onClick:y=>{return p=R,V[e(873)]=p,void(b.value=!0);var p},border:"",hover:""},{default:l(()=>[t(ve,null,{append:l(()=>[t(ee,{color:D(xe)(R[T(851)]),size:"small",label:""},{default:l(()=>[k(x(Je(R[T(851)])),1)]),_:2},1032,[T(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[k(x(R[T(143)]),1)]),_:2},1024)]),_:2},1024),t(oe),t(te,null,{default:l(()=>[d(T(242),ms,[d("div",ps,[R[T(514)]?(m(),j(T(242),fs,[d(T(242),{innerHTML:g(R[T(514)])},null,8,ys)])):(m(),j(T(242),hs,[t(A,{icon:"tabler-file-code",size:"48",color:T(768)})])),d("div",vs,[t(G,{color:T(571),variant:T(256),size:"small","prepend-icon":T(211)},{default:l(()=>[k(T(665))]),_:1})])])]),R[T(469)]?(m(),j(T(242),_s,[gs,t(ee,{size:"x-small",color:T(571),class:T(910)},{default:l(()=>[k(x(R[T(469)]),1)]),_:2},1024)])):N("",!0),d(T(242),bs,[d("div",ks,[t(A,{size:"16",icon:T(403),class:T(365)}),d(T(635),ws,x(J(R.created_at)),1)])])]),_:2},1024)]),_:2},1032,[T(806)])]),_:2},1024)}),128))]),_:1})),V.value?(m(),B(ns,{key:3,modelValue:b.value,"onUpdate:modelValue":I[1]||(I[1]=R=>b[w(873)]=R),mockup:V[w(873)],onDelete:I[2]||(I[2]=R=>h.value=!0),"is-admin":D(L),"has-manager-permission":D(H)},null,8,[w(221),w(653),"is-admin",w(909)])):N("",!0),t(v,{isDialogVisible:h[w(873)],"onUpdate:isDialogVisible":I[3]||(I[3]=R=>h[w(873)]=R),confirmationMsg:w(241),onConfirm:q},null,8,[w(591)]),t(Ue,{modelValue:Y[w(873)][w(192)],"onUpdate:modelValue":I[5]||(I[5]=R=>Y[w(873)].show=R),color:Y[w(873)][w(198)],timeout:5e3},{actions:l(()=>[t(Q,{onClick:I[4]||(I[4]=R=>Y[w(873)][w(192)]=!1)},{default:l(()=>[t(A,{icon:w(609)})]),_:1})]),default:l(()=>[k(x(Y[w(873)].text)+" ",1)]),_:1},8,[w(221),w(198)])]),_:1})}}},[["__scopeId",a(501)]]),Lt=Ge({id:"DevelopmentPlanStore",state:()=>({plans:[],currentPlan:null,loading:!1,error:null}),actions:{async fetchDevelopmentPlans(r=null){const o=a;this[o(249)]=!0;try{let e="/service/development-plans/";r&&(e+=o(481)+r);const i=await le[o(740)](e);return i[o(851)]===200?(this[o(422)]=i[o(618)],{data:i[o(618)],error:null}):{data:[],error:i[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||"Failed to fetch development plans",{data:[],error:this[o(281)]}}finally{this[o(249)]=!1}},async fetchDevelopmentPlanById(r){const o=a;this[o(249)]=!0;try{const e=await le[o(740)]("/service/development-plans/"+r+"/");return e[o(851)]===200?(this.currentPlan=e[o(618)],{data:e.data,error:null}):{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e.message||"Failed to fetch development plan",{data:null,error:this.error}}finally{this[o(249)]=!1}},async createDevelopmentPlan(r){const o=a;this[o(249)]=!0;try{const e=await le[o(436)](o(488),{project:r,status:o(437)});return e[o(851)]===201?{data:e[o(618)],error:null}:{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(847),{data:null,error:this[o(281)]}}finally{this[o(249)]=!1}},async updateDevelopmentPlan(r,o){const e=a;this[e(249)]=!0;try{const i=await le[e(654)](e(488)+r+"/",o);return i[e(851)]===200?(this[e(254)]&&this.currentPlan.id===r&&(this[e(254)]=i[e(618)]),{data:i.data,error:null}):{data:null,error:i[e(618)]}}catch(i){return this[e(281)]=i.message||"Failed to update development plan",{data:null,error:this.error}}finally{this[e(249)]=!1}},async createPlanVersion(r,o){const e=a;this[e(249)]=!0;try{const i=await le[e(436)](e(488)+r+e(127),o);return i[e(851)]===201?{data:i.data,error:null}:{data:null,error:i[e(618)]}}catch(i){return this.error=i[e(328)]||e(475),{data:null,error:this.error}}finally{this[e(249)]=!1}},async fetchPlanVersionById(r){const o=a;this[o(249)]=!0;try{const e=await le[o(740)](o(139)+r+"/");return e[o(851)]===200?{data:e[o(618)],error:null}:{data:null,error:e[o(618)]}}catch(e){return this[o(281)]=e[o(328)]||o(532),{data:null,error:this.error}}finally{this.loading=!1}},async updatePlanVersion(r,o){const e=a;this[e(249)]=!0;try{const i=await le.put("/service/development-plan-versions/"+r+"/",o);return i.status===200?{data:i[e(618)],error:null}:{data:null,error:i.data}}catch(i){return this[e(281)]=i[e(328)]||"Failed to update plan version",{data:null,error:this.error}}finally{this[e(249)]=!1}},async setCurrentPlanVersion(r,o){const e=a;this[e(249)]=!0;try{const i=await this[e(133)](r);if(!i[e(618)])return{data:null,error:e(555)};const M=await this[e(776)](o);return M.data?await this[e(624)](r,{current_version_number:M[e(618)][e(223)],status:i[e(618)][e(851)]}):{data:null,error:e(548)}}catch(i){return this.error=i[e(328)]||"Failed to set current plan version",{data:null,error:this[e(281)]}}finally{this.loading=!1}}}}),st=r=>(Se(a(650)),r=r(),qe(),r),Vs={key:0,class:a(212)},Cs={key:1,class:a(212)},Us={key:0},Ds=st(()=>d("p",{class:a(461)},"Roles & Hours",-1)),Ss={key:1},qs={class:a(204)},zs={class:"d-flex align-center"},js={class:a(767)},Fs={class:"text-caption"},Ms={key:0,class:a(579)},Is={class:a(869)},Ps=st(()=>d(a(242),{class:"text-caption text-medium-emphasis text-right"},a(367),-1)),Rs=st(()=>d(a(466),null,[d("tr",null,[d("th",null,"Role"),d("th",{class:a(593)},a(411)),d("th",{class:a(593)},a(407))])],-1)),Bs={class:"text-right"},Ls={class:"text-right"},Ts={key:0},As=[st(()=>d("td",{colspan:"3",class:a(908)},a(269),-1))],Ns={class:a(606)},Os=De({__name:a(383),props:{modelValue:{type:Boolean,default:!1},version:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},planId:{type:String,default:null}},emits:[a(290),a(443)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:U=>o(e(290),U)}),P=Lt(),F=O(!1),V=O({...i.version}),b=O(!1),h=O({show:!1,text:"",color:e(451)}),E=U=>{const g=e;return U?new Date(parseInt(U))[g(427)]("en-US",{year:g(176),month:"short",day:g(176),hour:g(389),minute:g(389)}):""},Y=U=>{const g=e;return U||U===0?new Intl.NumberFormat(g(210),{style:g(354),currency:"USD",minimumFractionDigits:2}).format(U):"-"},L=()=>{const U=e;F[U(873)]&&(V[U(873)]={...i[U(835)]}),F[U(873)]=!F[U(873)]},H=async()=>{const U=e;b.value=!0;try{const{data:g,error:c}=await P[U(899)](i[U(835)].id,V.value);g&&!c?(q(U(921)),Object.assign(i[U(835)],g),F[U(873)]=!1,o(U(443))):q(U(836),U(281))}catch(g){q(U(509)+g[U(328)],"error")}finally{b[U(873)]=!1}},S=async()=>{const U=e;if(i[U(622)]){b.value=!0;try{const{data:g,error:c}=await P[U(517)](i[U(622)],i[U(835)].id);g&&!c?(q(U(888)),o(U(443))):q(U(578),U(281))}catch(g){q(U(431)+g[U(328)],"error")}finally{b[U(873)]=!1}}},J=U=>{const g=e;if(!U)return[];try{return typeof U===g(679)?JSON[g(619)](U):U}catch(c){return console[g(281)]("Error parsing roles and hours:",c),[]}},q=(U,g=e(451))=>{h.value={show:!0,text:U,color:g}};return Pe(()=>i.version,U=>{V[e(873)]={...U}},{deep:!0}),(U,g)=>{const c=e,I=we(c(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":g[7]||(g[7]=w=>Be(M)?M[c(873)]=w:null),"max-width":"900",scrollable:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:c(286)},{default:l(()=>[F[c(873)]?(m(),j("h5",Vs,c(182))):(m(),j("h5",Cs,[k(" Development Plan v"+x(r[c(835)][c(223)])+" ",1),r[c(268)]?(m(),B(ee,{key:0,color:c(571),size:c(799),label:"",class:c(701)},{default:l(()=>[k(c(308))]),_:1})):N("",!0)])),t(se),t(I,{onClick:g[0]||(g[0]=w=>M[c(873)]=!1)},{default:l(()=>[t(A,{icon:"tabler-x"})]),_:1})]),_:1}),t(oe),t(te,{class:"pa-6"},{default:l(()=>[F.value?(m(),j(c(242),Us,[t(Le,{onSubmit:ze(H,[c(773)])},{default:l(()=>[t(ne,{class:c(683)},{default:l(()=>[t($,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:V.value[c(302)],"onUpdate:modelValue":g[1]||(g[1]=w=>V[c(873)][c(302)]=w),modelModifiers:{number:!0},label:"Estimated Cost ($)",type:"number",required:"",rules:[w=>!!w||c(569)]},null,8,["modelValue",c(340)])]),_:1}),t($,{cols:"12",md:"4"},{default:l(()=>[t(he,{modelValue:V[c(873)][c(851)],"onUpdate:modelValue":g[2]||(g[2]=w=>V[c(873)].status=w),label:c(858),items:[{title:c(915),value:c(437)},{title:c(652),value:"active"},{title:c(323),value:c(333)},{title:c(321),value:"completed"}],required:""},null,8,[c(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:V.value.notes,"onUpdate:modelValue":g[3]||(g[3]=w=>V[c(873)][c(871)]=w),label:c(612),rows:"4"},null,8,[c(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[Ds,t(Ve,{modelValue:V[c(873)][c(135)],"onUpdate:modelValue":g[4]||(g[4]=w=>V[c(873)][c(135)]=w),label:c(138),rows:"8",monospace:"",hint:c(456),"persistent-hint":""},null,8,[c(221)])]),_:1})]),_:1})]),_:1},8,[c(468)])])):(m(),j(c(242),Ss,[t(ne,{class:c(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[d(c(242),qs,[d(c(242),zs,[t(ee,{color:D(xe)(r.version[c(851)]),size:"small",label:""},{default:l(()=>[k(x(Je(r.version[c(851)])),1)]),_:1},8,["color"])]),d(c(242),js,[d(c(635),Fs," Created: "+x(E(r.version.created_at)),1),r[c(835)][c(472)]?(m(),j(c(635),Ms,c(311)+x(r[c(835)].created_by[c(187)]),1)):N("",!0)]),d(c(242),null,[d("h4",Is,x(Y(r.version.estimated_cost)),1),Ps])])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(re,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(ie,null,{default:l(()=>[k(c(372))]),_:1}),t(te,null,{default:l(()=>[t(Xe,null,{default:l(()=>[Rs,d(c(631),null,[(m(!0),j(ae,null,ue(J(r.version.roles_and_hours),(w,v)=>{const Q=c;return m(),j("tr",{key:v},[d("td",null,x(w[Q(180)]),1),d("td",Bs,x(w[Q(405)]),1),d("td",Ls,x(Y(w[Q(586)])),1)])}),128)),J(r[c(835)].roles_and_hours)[c(730)]===0?(m(),j("tr",Ts,As)):N("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),r[c(835)].notes?(m(),B($,{key:0,cols:"12"},{default:l(()=>[t(re,{variant:c(597)},{default:l(()=>[t(ie,null,{default:l(()=>[k(c(612))]),_:1}),t(te,null,{default:l(()=>[d(c(242),Ns,x(r.version.notes),1)]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1})]))]),_:1}),t(oe),t(ye,{class:c(816)},{default:l(()=>[F[c(873)]?(m(),j(ae,{key:0},[t(G,{color:c(768),variant:c(376),onClick:L,disabled:b[c(873)]},{default:l(()=>[k(" Cancel ")]),_:1},8,[c(380)]),t(se),t(G,{color:"primary",onClick:H,loading:b.value},{default:l(()=>[k(c(329))]),_:1},8,["loading"])],64)):(m(),j(ae,{key:1},[!r[c(268)]&&r[c(285)]?(m(),B(G,{key:0,color:c(571),variant:c(376),onClick:S,loading:b[c(873)],"prepend-icon":c(310)},{default:l(()=>[k(c(640))]),_:1},8,[c(249)])):N("",!0),t(se),r[c(285)]?(m(),B(G,{key:1,color:"primary","prepend-icon":c(473),onClick:L},{default:l(()=>[k(c(738))]),_:1})):N("",!0)],64))]),_:1})]),_:1}),t(Ue,{modelValue:h.value[c(192)],"onUpdate:modelValue":g[6]||(g[6]=w=>h.value[c(192)]=w),color:h[c(873)].color,timeout:5e3},{actions:l(()=>[t(I,{onClick:g[5]||(g[5]=w=>h[c(873)][c(192)]=!1)},{default:l(()=>[t(A,{icon:c(609)})]),_:1})]),default:l(()=>[k(x(h[c(873)][c(587)])+" ",1)]),_:1},8,[c(221),c(198)])]),_:1},8,["modelValue"])}}},[["__scopeId","data-v-c45d3933"]]),Es=d("h5",{class:"text-h5"},a(741),-1),Hs={class:"text-subtitle-1 mb-4"},Gs={__name:a(348),props:{modelValue:{type:Boolean,default:!1},planId:{type:String,required:!0},currentVersionNumber:{type:Number,default:0}},emits:[a(290),a(232)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:L=>o("update:modelValue",L)}),P=O({roles_and_hours:'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',estimated_cost:1e4,notes:"",status:"draft"}),F=[L=>!!L||e(569),L=>!isNaN(parseFloat(L))||"Estimated cost must be a number"],V=[L=>{const H=e;try{return JSON.parse(L),!0}catch{return H(796)}}],b=O(null),h=()=>{const L=e;P[L(873)]={roles_and_hours:L(557),estimated_cost:1e4,notes:"",status:L(437)},b[L(873)]&&b[L(873)][L(564)]()},E=()=>{M[e(873)]=!1,h()},Y=async()=>{const L=e,{valid:H}=await b[L(873)][L(538)]();if(H){const S={...P[L(873)]};S[L(302)]=parseFloat(S[L(302)]),o(L(232),S),M[L(873)]=!1,h()}};return Pe(M,L=>{L||h()}),(L,H)=>{const S=e,J=we(S(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":H[4]||(H[4]=q=>Be(M)?M[S(873)]=q:null),"max-width":"700",persistent:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:"d-flex pt-5 px-5"},{default:l(()=>[Es,t(se),t(J,{onClick:E},{default:l(()=>[t(A,{icon:S(609)})]),_:1})]),_:1}),t(te,{class:S(656)},{default:l(()=>[d("p",Hs," Creating version "+x(r[S(147)]+1)+S(634),1),t(Le,{ref_key:S(179),ref:b,onSubmit:ze(Y,[S(773)])},{default:l(()=>[t(ne,{class:S(683)},{default:l(()=>[t($,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:P[S(873)][S(302)],"onUpdate:modelValue":H[0]||(H[0]=q=>P[S(873)][S(302)]=q),modelModifiers:{number:!0},label:S(462),type:S(194),rules:F,required:""},null,8,[S(221)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:P[S(873)].status,"onUpdate:modelValue":H[1]||(H[1]=q=>P[S(873)][S(851)]=q),label:S(858),items:[{title:S(915),value:S(437)},{title:S(652),value:S(537)},{title:S(323),value:"archived"},{title:S(321),value:"completed"}],required:""},null,8,[S(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:P[S(873)][S(135)],"onUpdate:modelValue":H[2]||(H[2]=q=>P[S(873)][S(135)]=q),label:S(138),rules:V,rows:"6",monospace:"",hint:S(456),"persistent-hint":""},null,8,["modelValue"])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:P[S(873)].notes,"onUpdate:modelValue":H[3]||(H[3]=q=>P[S(873)].notes=q),label:S(612),rows:"4"},null,8,[S(221)])]),_:1})]),_:1})]),_:1},8,[S(468)])]),_:1}),t(oe),t(ye,{class:S(816)},{default:l(()=>[t(G,{variant:S(376),color:S(768),onClick:E},{default:l(()=>[k(S(550))]),_:1}),t(se),t(G,{color:"primary",onClick:Y},{default:l(()=>[k(S(201))]),_:1})]),_:1})]),_:1})]),_:1},8,[S(221)])}}},Js={key:0,class:"d-flex justify-center align-center",style:{height:a(895)}},$s={key:1,class:"text-center pa-6"},Ks=d("h4",{class:a(145)},a(755),-1),Ys=d("p",{class:a(763)}," This project does not have a development plan yet. ",-1),Qs={key:2},Zs={class:a(197)},Ws=d("div",{class:a(145)},a(715),-1),Xs={class:a(869)},er={class:a(541)},tr=d(a(242),{class:"text-h6 mb-3"},a(372),-1),lr=d(a(466),null,[d("tr",null,[d("th",null,"Role"),d("th",{class:a(593)},a(411)),d("th",{class:a(593)},a(407))])],-1),ar={class:a(593)},sr={class:"text-right"},rr={class:a(875)},or=d("h5",{class:a(212)},a(928),-1),nr=d(a(466),null,[d("tr",null,[d("th",null,a(601)),d("th",null,a(704)),d("th",null,a(858)),d("th",{class:"text-right"},a(715)),d("th",{class:a(593)},a(218))])],-1),ir=[a(806)],cr={class:a(767)},ur={class:"font-weight-medium"},dr={class:"text-right"},mr={class:a(593)},pr={key:1,class:a(205)},fr=[d("p",{class:a(505)},a(611),-1)],yr={key:2,class:a(205)},hr=[d("p",{class:a(505)}," No versions available yet. ",-1)],vr={__name:a(263),props:{projectId:{type:String,required:!0},developmentPlan:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:[a(443)],setup(r,{emit:o}){const e=a,i=r,M=Lt(),P=Ae(),F=O(null),V=O(!1),b=O(!1),h=O(!1),E=O({show:!1,text:"",color:e(451)}),Y=X(()=>P[e(300)]()),L=X(()=>P[e(450)].role>=2),H=X(()=>{const R=e;return i[R(596)]&&i[R(596)].id}),S=X(()=>{const R=e;return H[R(873)]&&i[R(596)][R(677)]?[...i[R(596)][R(677)]][R(446)]((T,y)=>y[R(223)]-T[R(223)]):[]}),J=X(()=>{const R=e;return H[R(873)]?S[R(873)][R(522)](T=>T.version_number===i[R(596)][R(418)]):null}),q=R=>{const T=e;return R?new Date(parseInt(R))[T(427)]("en-US",{year:T(176),month:T(478),day:T(176)}):""},U=R=>{const T=e;return R||R===0?new Intl.NumberFormat(T(210),{style:T(354),currency:T(498),minimumFractionDigits:2})[T(402)](R):"-"},g=R=>{const T=e;F[T(873)]=R,V[T(873)]=!0},c=()=>{b[e(873)]=!0},I=async R=>{const T=e;h.value=!0;try{const{data:y,error:p}=await M[T(239)](i[T(596)].id,R);y&&!p?(v(T(510)),o("refresh")):v(T(475),T(281))}catch(y){v(T(608)+y[T(328)],"error")}finally{h[T(873)]=!1,b[T(873)]=!1}},w=async()=>{const R=e;h[R(873)]=!0;try{const{data:T,error:y}=await M[R(850)](i[R(918)]);T&&!y?(v(R(644)),o(R(443))):v(R(847),R(281))}catch(T){v(R(464)+T[R(328)],R(281))}finally{h[R(873)]=!1}},v=(R,T=e(451))=>{E[e(873)]={show:!0,text:R,color:T}},Q=R=>{const T=e;if(!R)return[];try{return typeof R===T(679)?JSON.parse(R):R}catch(y){return console[T(281)](T(331),y),[]}};return(R,T)=>{const y=e,p=we("IconBtn");return m(),B(te,{class:y(692)},{default:l(()=>[r[y(249)]?(m(),j("div",Js,[t(Ie,{indeterminate:"",color:y(571)})])):D(H)?(m(),j(y(242),Qs,[t(ne,null,{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(re,{border:"",class:y(417)},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(Re,{color:y(571),variant:y(376),rounded:"",size:"42"},{default:l(()=>[t(A,{icon:y(432)})]),_:1})]),append:l(()=>[t(ee,{color:"primary",size:"small",label:"",class:y(185)},{default:l(()=>[k(" v"+x(r[y(596)][y(418)]),1)]),_:1}),t(ee,{color:r[y(596)].status===y(537)?y(451):y(724),size:y(799),label:""},{default:l(()=>[k(x(r[y(596)].status),1)]),_:1},8,["color"])]),default:l(()=>[t(ie,null,{default:l(()=>[k(y(854))]),_:1})]),_:1}),t(oe),D(J)?(m(),B(te,{key:0},{default:l(()=>[t(ne,null,{default:l(()=>[t($,{cols:"12",md:"4"},{default:l(()=>[d(y(242),Zs,[Ws,d("div",Xs,x(U(D(J).estimated_cost)),1),d(y(242),er," Last updated: "+x(q(D(J)[y(811)])),1)])]),_:1}),t($,{cols:"12",md:"8"},{default:l(()=>[tr,t(Xe,{density:y(803)},{default:l(()=>[lr,d(y(631),null,[(m(!0),j(ae,null,ue(Q(D(J)[y(135)]),(s,n)=>{const z=y;return m(),j("tr",{key:n},[d("td",null,x(s[z(180)]),1),d("td",ar,x(s[z(405)]),1),d("td",sr,x(U(s.cost)),1)])}),128))])]),_:1}),t(G,{color:"primary",variant:y(376),class:y(685),size:"small",onClick:T[0]||(T[0]=s=>g(D(J)))},{default:l(()=>[k(" View Full Details ")]),_:1})]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1})]),_:1}),t($,{cols:"12"},{default:l(()=>[d(y(242),rr,[or,D(L)?(m(),B(G,{key:0,color:y(571),"prepend-icon":y(929),onClick:c,disabled:h[y(873)]},{default:l(()=>[k(y(876))]),_:1},8,[y(380)])):N("",!0)]),D(S)[y(730)]>1?(m(),B(Xe,{key:0},{default:l(()=>[nr,d(y(631),null,[(m(!0),j(ae,null,ue(D(S),s=>{const n=y;return m(),j("tr",{key:s.id,class:ct({"bg-primary-lighten-5":s.version_number===r[n(596)][n(418)]}),style:{cursor:"pointer"},onClick:z=>g(s)},[d("td",null,[d(n(242),cr,[d("span",ur,"v"+x(s[n(223)]),1),s[n(223)]===r[n(596)].current_version_number?(m(),B(ee,{key:0,color:"primary",size:n(616),label:"",class:n(701)},{default:l(()=>[k(" Current ")]),_:1})):N("",!0)])]),d("td",null,x(q(s.created_at)),1),d("td",null,[t(ee,{color:s.status===n(537)?"success":"warning",size:"small",label:""},{default:l(()=>[k(x(s[n(851)]),1)]),_:2},1032,[n(198)])]),d("td",dr,x(U(s[n(302)])),1),d("td",mr,[t(G,{icon:"",variant:"text",size:"small",color:n(571),onClick:ze(z=>g(s),[n(637)])},{default:l(()=>[t(A,{icon:n(211)})]),_:2},1032,[n(806)])])],10,ir)}),128))])]),_:1})):D(S).length===1?(m(),j("div",pr,fr)):(m(),j(y(242),yr,hr))]),_:1})]),_:1})])):(m(),j(y(242),$s,[t(A,{icon:y(248),size:"64",color:y(768),class:"mb-4"}),Ks,Ys,D(L)?(m(),B(G,{key:0,color:"primary",onClick:w,loading:h[y(873)]},{default:l(()=>[k(y(689))]),_:1},8,[y(249)])):N("",!0)])),F[y(873)]?(m(),B(Os,{key:3,modelValue:V.value,"onUpdate:modelValue":T[1]||(T[1]=s=>V[y(873)]=s),version:F[y(873)],"is-current":F[y(873)]&&r.developmentPlan&&F[y(873)][y(223)]===r.developmentPlan[y(418)],"is-admin":D(Y),"has-manager-permission":D(L),"plan-id":r[y(596)]?r.developmentPlan.id:null,onRefresh:T[2]||(T[2]=s=>o(y(443)))},null,8,[y(221),y(835),y(810),"is-admin",y(909),"plan-id"])):N("",!0),t(Gs,{modelValue:b.value,"onUpdate:modelValue":T[3]||(T[3]=s=>b[y(873)]=s),"plan-id":r.developmentPlan?r.developmentPlan.id:null,"current-version-number":r.developmentPlan?r[y(596)].current_version_number:0,onSubmit:I},null,8,["modelValue",y(905),y(146)]),t(Ue,{modelValue:E[y(873)][y(192)],"onUpdate:modelValue":T[5]||(T[5]=s=>E[y(873)][y(192)]=s),color:E[y(873)][y(198)],timeout:5e3},{actions:l(()=>[t(p,{onClick:T[4]||(T[4]=s=>E.value[y(192)]=!1)},{default:l(()=>[t(A,{icon:y(609)})]),_:1})]),default:l(()=>[k(x(E.value[y(587)])+" ",1)]),_:1},8,[y(221),y(198)])]),_:1})}}},_e=r=>(Se(a(140)),r=r(),qe(),r),_r={key:0,class:a(212)},gr={key:1,class:a(212)},br={key:0},kr={class:a(912)},wr=_e(()=>d("div",{class:a(589)},a(781),-1)),xr={key:1,class:a(352)},Vr={key:1},Cr={class:a(317)},Ur={class:a(314)},Dr={class:"text-caption me-4"},Sr={class:"text-caption"},qr={class:"user-story-format mb-6"},zr={class:a(358)},jr=_e(()=>d(a(635),{class:a(846)},a(583),-1)),Fr={class:a(358)},Mr=_e(()=>d("span",{class:a(846)},a(401),-1)),Ir={class:a(358)},Pr=_e(()=>d(a(635),{class:a(846)},a(808),-1)),Rr={key:0},Br=_e(()=>d("div",{class:a(561)},a(781),-1)),Lr={key:1,class:"text-medium-emphasis text-center pa-4"},Tr={key:2,class:a(231)},Ar=_e(()=>d("p",null,a(676),-1)),Nr={key:0,class:a(338)},Or=_e(()=>d("h4",{class:"text-h6 mb-2"},"No History Available",-1)),Er=_e(()=>d("p",{class:"text-medium-emphasis"},a(137),-1)),Hr={key:1},Gr={class:a(246)},Jr={class:a(541)},$r=_e(()=>d(a(635),{class:a(846)},a(583),-1)),Kr={class:a(379)},Yr=_e(()=>d(a(635),{class:a(846)},"I want to",-1)),Qr={class:a(417)},Zr=_e(()=>d(a(635),{class:"text-primary"},a(808),-1)),Wr={key:0},Xr=_e(()=>d(a(242),{class:a(349)},"Acceptance Criteria:",-1)),eo={class:a(388)},to={class:a(720)},lo={class:a(645)},ao={key:1,class:a(338)},so=_e(()=>d("h4",{class:"text-h6 mb-2"},"No Comments Yet",-1)),ro=_e(()=>d("p",{class:a(505)},a(278),-1)),oo={key:2},no={class:a(767)},io={class:"d-flex align-center"},co={class:"text-caption text-medium-emphasis ml-2"},uo={class:a(648)},mo=_e(()=>d("p",{class:a(174)},a(842),-1)),po=De({__name:a(378),props:{modelValue:{type:Boolean,default:!1},userStory:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:["update:modelValue","update",a(159),a(788)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i.modelValue,set:p=>o(e(290),p)}),P=ft(),F=O(0),V=O(!1),b=O({...i.userStory}),h=O(""),E=O(""),Y=O(""),L=O(!1),H=O(!1),S=O({show:!1,text:"",color:e(451)}),J=[{title:e(915),value:"draft"},{title:"Active",value:e(537)},{title:e(323),value:e(333)},{title:e(321),value:e(659)}],q=X(()=>i.userStory.history||[]),U=X(()=>{const p=e;return i[p(827)][p(849)]||[]}),g=p=>{const s=e;return p?(p=parseInt(p),new Date(p)[s(427)](s(210),{year:s(176),month:s(478),day:s(176),hour:s(389),minute:s(389)})):""},c=()=>{const p=e;V[p(873)]&&(b[p(873)]={...i[p(827)]},h[p(873)]=""),V[p(873)]=!V.value},I=()=>{const p=e;h.value[p(169)]()&&(!b[p(873)].acceptance_criteria&&(b[p(873)][p(580)]=[]),b[p(873)][p(580)].push(h[p(873)][p(169)]()),h[p(873)]="")},w=()=>{const p=e;o(p(681),b[p(873)]),V[p(873)]=!1},v=()=>{o(e(159))},Q=()=>{Y[e(873)]="",L.value=!0},R=()=>{const p=e;o(p(788),Y[p(873)]),L.value=!1},T=async()=>{const p=e;if(E.value[p(169)]()){H.value=!0;try{const{data:s,error:n}=await P[p(142)](i[p(827)].id,{text:E[p(873)],status:p(537)});if(s&&!n){y(p(134)),E[p(873)]="";const{data:z}=await P[p(295)](i[p(827)].id);z&&Object[p(257)](i[p(827)],z)}else y(p(813),p(281))}catch(s){y(p(647)+s.message,p(281))}finally{H[p(873)]=!1}}},y=(p,s=e(451))=>{S.value={show:!0,text:p,color:s}};return Pe(()=>i[e(827)],p=>{b.value={...p}},{deep:!0}),(p,s)=>{const n=e,z=we(n(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":s[14]||(s[14]=_=>Be(M)?M.value=_:null),"max-width":n(617),scrollable:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:n(777)},{default:l(()=>[V[n(873)]?(m(),j("h5",_r,"Edit User Story")):(m(),j("h5",gr,n(762))),t(se),t(z,{onClick:s[0]||(s[0]=_=>M[n(873)]=!1)},{default:l(()=>[t(A,{icon:n(609)})]),_:1})]),_:1}),t(te,{class:n(439)},{default:l(()=>[t(mt,{modelValue:F.value,"onUpdate:modelValue":s[1]||(s[1]=_=>F[n(873)]=_),"slider-color":"primary","align-tabs":n(747)},{default:l(()=>[t(be,{value:"0"},{default:l(()=>[t(A,{size:"18",icon:n(771),start:""}),k(" Details ")]),_:1}),t(be,{value:"1"},{default:l(()=>[t(A,{size:"18",icon:n(931),start:""}),k(n(563)),D(q)[n(730)]?(m(),B(ee,{key:0,size:n(616),color:n(571),class:"ms-2"},{default:l(()=>[k(x(D(q)[n(730)]),1)]),_:1})):N("",!0)]),_:1}),t(be,{value:"2"},{default:l(()=>[t(A,{size:"18",icon:n(237),start:""}),k(" Comments "),D(U)[n(730)]?(m(),B(ee,{key:0,size:n(616),color:n(571),class:n(701)},{default:l(()=>[k(x(D(U)[n(730)]),1)]),_:1})):N("",!0)]),_:1})]),_:1},8,[n(221)])]),_:1}),t(oe),t(te,{class:n(692),style:{"min-height":n(620),"max-height":n(474)}},{default:l(()=>[t(pt,{modelValue:F[n(873)],"onUpdate:modelValue":s[8]||(s[8]=_=>F.value=_),class:"mt-5"},{default:l(()=>[t(ke,{value:"0"},{default:l(()=>[V[n(873)]?(m(),j("div",br,[t(Le,{onSubmit:ze(w,[n(773)])},{default:l(()=>[t(ne,{class:n(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:b[n(873)][n(180)],"onUpdate:modelValue":s[2]||(s[2]=_=>b[n(873)][n(180)]=_),label:n(629),required:"",rules:[_=>!!_||n(217)]},null,8,[n(221),"rules"])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:b.value[n(562)],"onUpdate:modelValue":s[3]||(s[3]=_=>b[n(873)][n(562)]=_),label:n(442),required:"",rules:[_=>!!_||n(152)]},null,8,[n(221),n(340)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:b[n(873)].benefit,"onUpdate:modelValue":s[4]||(s[4]=_=>b[n(873)][n(267)]=_),label:"Benefit (So that...)",required:"",rules:[_=>!!_||"Benefit is required"]},null,8,[n(221),n(340)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:b[n(873)][n(851)],"onUpdate:modelValue":s[5]||(s[5]=_=>b[n(873)].status=_),label:n(858),items:J,required:""},null,8,[n(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[d("div",kr,[wr,t(ne,{class:"w-100"},{default:l(()=>[t($,{cols:"10",sm:"8"},{default:l(()=>[t(de,{modelValue:h[n(873)],"onUpdate:modelValue":s[6]||(s[6]=_=>h[n(873)]=_),placeholder:n(840),density:n(803),"hide-details":"",class:"me-2",onKeyup:Dt(I,["enter"])},null,8,[n(221),n(293)])]),_:1}),t($,{cols:"2",sm:"4"},{default:l(()=>[t(G,{color:"primary",size:n(799),disabled:!h[n(873)][n(169)](),onClick:I},{default:l(()=>[k(n(165))]),_:1},8,[n(380)])]),_:1})]),_:1})]),b[n(873)][n(580)]&&b.value[n(580)][n(730)]>0?(m(),B(Qe,{key:0},{default:l(()=>[(m(!0),j(ae,null,ue(b[n(873)][n(580)],(_,u)=>{const C=n;return m(),B(Ze,{key:u},{prepend:l(()=>[t(A,{icon:"tabler-check",color:C(451)})]),append:l(()=>[t(z,{color:C(281),variant:C(587),size:"small",onClick:f=>{return K=u,void b.value.acceptance_criteria.splice(K,1);var K}},{default:l(()=>[t(A,{icon:"tabler-trash",size:"18"})]),_:2},1032,[C(806)])]),default:l(()=>[t(We,null,{default:l(()=>[k(x(_),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(m(),j(n(242),xr,n(713)))]),_:1})]),_:1})]),_:1},8,["onSubmit"])])):(m(),j(n(242),Vr,[d("div",Cr,[t(ee,{color:D(xe)(r[n(827)][n(851)]),size:n(799),label:"",class:n(185)},{default:l(()=>[k(x(Je(r[n(827)].status)),1)]),_:1},8,[n(198)]),t(ee,{color:n(768),size:n(799),label:"",class:"ms-2"},{default:l(()=>[k(" v"+x(r.userStory.version_number),1)]),_:1}),t(se),d("div",Ur,[t(A,{size:"18",icon:n(403),class:n(365)}),d(n(635),Dr,n(489)+x(g(r[n(827)][n(574)])),1),t(A,{size:"18",icon:n(213),class:n(365)}),d("span",Sr,n(922)+x(g(r[n(827)].created_at)),1)])]),d(n(242),qr,[d(n(242),zr,[jr,k(" "+x(r[n(827)][n(180)])+", ",1)]),d(n(242),Fr,[Mr,k(" "+x(r[n(827)].action)+", ",1)]),d(n(242),Ir,[Pr,k(" "+x(r[n(827)][n(267)])+". ",1)])]),t(oe,{class:n(417)}),r.userStory[n(580)]&&r.userStory[n(580)][n(730)]>0?(m(),j(n(242),Rr,[Br,t(Qe,null,{default:l(()=>[(m(!0),j(ae,null,ue(r.userStory[n(580)],(_,u)=>{const C=n;return m(),B(Ze,{key:u,class:C(687)},{prepend:l(()=>[t(A,{icon:C(310),color:C(451),class:C(185)})]),default:l(()=>[t(We,null,{default:l(()=>[k(x(_),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})])):(m(),j(n(242),Lr,n(554))),r[n(827)][n(884)]===n(902)?(m(),j(n(242),Tr,[t(at,{color:"info",variant:"tonal",icon:"tabler-refresh"},{default:l(()=>[t(jt,null,{default:l(()=>[k("Regenerating User Story")]),_:1}),Ar]),_:1})])):N("",!0)]))]),_:1}),t(ke,{value:"1"},{default:l(()=>[D(q)[n(730)]===0?(m(),j(n(242),Nr,[t(A,{icon:n(931),size:"64",color:n(768),class:n(416)}),Or,Er])):(m(),j(n(242),Hr,[t(Ft,{density:n(803),align:"start"},{default:l(()=>[(m(!0),j(ae,null,ue(D(q),(_,u)=>{const C=n;return m(),B(Mt,{key:u,"dot-color":"primary",size:"small"},{opposite:l(()=>[d(C(242),Gr,x(g(_.changed_at)),1),d("div",Jr,"v"+x(_.version_number),1)]),default:l(()=>[t(re,{border:""},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(Re,{color:C(571),variant:C(376),size:"36"},{default:l(()=>[t(A,{icon:"tabler-user-check"})]),_:1})]),append:l(()=>[t(ee,{color:D(xe)(_[C(851)]),size:C(799),label:"",class:"ms-2"},{default:l(()=>[k(x(_.status),1)]),_:2},1032,[C(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[$r,k(" "+x(_[C(180)]),1)]),_:2},1024)]),_:2},1024),t(te,null,{default:l(()=>[d("p",Kr,[Yr,k(" "+x(_.action),1)]),d("p",Qr,[Zr,k(" "+x(_[C(267)]),1)]),_.acceptance_criteria&&_[C(580)][C(730)]>0?(m(),j("div",Wr,[Xr,d("ul",eo,[(m(!0),j(ae,null,ue(_[C(580)],(f,K)=>(m(),j("li",{key:K},x(f),1))),128))])])):N("",!0),d("div",to,C(546)+x(_[C(839)]?_[C(839)].username:"System"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ke,{value:"2"},{default:l(()=>[t(ne,{class:"mt-3"},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:E.value,"onUpdate:modelValue":s[7]||(s[7]=_=>E.value=_),label:n(819),rows:"3",counter:"",disabled:H[n(873)]},null,8,[n(221),n(380)]),d(n(242),lo,[t(G,{color:n(571),size:"small",loading:H[n(873)],disabled:!E.value[n(169)](),onClick:T},{default:l(()=>[k(n(518))]),_:1},8,[n(249),n(380)])])]),_:1}),t($,{cols:"12"},{default:l(()=>[D(U)[n(730)]?(m(),B(oe,{key:0,class:n(417)})):N("",!0),D(U)[n(730)]===0?(m(),j(n(242),ao,[t(A,{icon:n(237),size:"64",color:"secondary",class:"mb-3"}),so,ro])):(m(),j("div",oo,[(m(!0),j(ae,null,ue(D(U),_=>{const u=n;return m(),j("div",{key:_.id,class:u(415)},[t(re,{border:""},{default:l(()=>[t(te,{class:u(901)},{default:l(()=>[d("div",no,[t(Re,{color:u(571),variant:u(376),size:"36",class:u(870)},{default:l(()=>[t(A,{icon:"tabler-user"})]),_:1}),d(u(242),null,[d(u(242),io,[d(u(330),null,x(_[u(419)]?_.user.username:u(516)),1),d(u(242),co,x(g(_[u(811)])),1)])]),t(se),r[u(860)]||r[u(285)]?(m(),B(z,{key:0,size:u(799),color:u(281),variant:u(587),onClick:C=>(async f=>{const K=e;H[K(873)]=!0;try{const{success:Z,error:W}=await P[K(193)](f);if(Z&&!W){y("Comment deleted successfully");const{data:ce}=await P[K(295)](i[K(827)].id);ce&&Object.assign(i.userStory,ce)}else y(K(907),K(281))}catch(Z){y(K(820)+Z[K(328)],K(281))}finally{H[K(873)]=!1}})(_.id),disabled:H.value},{default:l(()=>[t(A,{icon:u(845),size:"18"})]),_:2},1032,["onClick",u(380)])):N("",!0)]),d("div",uo,x(_[u(587)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(oe),t(ye,{class:n(816)},{default:l(()=>[V[n(873)]?(m(),j(ae,{key:0},[t(G,{color:n(768),variant:n(376),onClick:c},{default:l(()=>[k(" Cancel ")]),_:1}),t(se),t(G,{color:n(571),onClick:w},{default:l(()=>[k(n(329))]),_:1})],64)):(m(),j(ae,{key:1},[r[n(860)]?(m(),B(G,{key:0,color:n(281),variant:n(376),"prepend-icon":"tabler-trash",onClick:v},{default:l(()=>[k(n(556))]),_:1})):N("",!0),r.hasModeratorPermission?(m(),B(G,{key:1,color:n(440),variant:"tonal","prepend-icon":n(454),class:"ms-2",onClick:Q},{default:l(()=>[k(n(262))]),_:1})):N("",!0),t(se),r[n(576)]?(m(),B(G,{key:2,color:n(571),"prepend-icon":"tabler-edit",onClick:c},{default:l(()=>[k(n(738))]),_:1})):N("",!0)],64))]),_:1})]),_:1}),t(Ce,{modelValue:L[n(873)],"onUpdate:modelValue":s[11]||(s[11]=_=>L[n(873)]=_),"max-width":"600",persistent:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:n(626)},{default:l(()=>[k(n(903))]),_:1}),t(te,null,{default:l(()=>[mo,t(Ve,{modelValue:Y[n(873)],"onUpdate:modelValue":s[9]||(s[9]=_=>Y[n(873)]=_),label:n(662),placeholder:"Explain what you want to improve about this user story...",rows:"4",counter:""},null,8,["modelValue"])]),_:1}),t(ye,null,{default:l(()=>[t(G,{color:n(768),variant:n(376),onClick:s[10]||(s[10]=_=>L[n(873)]=!1)},{default:l(()=>[k(n(550))]),_:1}),t(se),t(G,{color:n(571),onClick:R},{default:l(()=>[k(n(262))]),_:1})]),_:1})]),_:1})]),_:1},8,[n(221)]),t(Ue,{modelValue:S[n(873)][n(192)],"onUpdate:modelValue":s[13]||(s[13]=_=>S.value[n(192)]=_),color:S[n(873)][n(198)],timeout:5e3},{actions:l(()=>[t(z,{onClick:s[12]||(s[12]=_=>S.value[n(192)]=!1)},{default:l(()=>[t(A,{icon:n(609)})]),_:1})]),default:l(()=>[k(x(S.value[n(587)])+" ",1)]),_:1},8,[n(221),n(198)])]),_:1},8,[n(221)])}}},[[a(409),a(140)]]),fo={class:a(212)},yo=d(a(242),{class:a(589)},a(781),-1),ho={class:a(306)},vo={key:1,class:a(352)},_o={__name:"UserStoryCreateDialog",props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},userStoryData:{type:Object,default:()=>({})}},emits:[a(290),a(232)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:q=>o(e(290),q)}),P=O({role:i[e(438)]&&i[e(863)]?i[e(863)][e(180)]:"",action:i[e(438)]&&i[e(863)]?i[e(863)][e(562)]:"",benefit:i[e(438)]&&i[e(863)]?i[e(863)][e(267)]:"",acceptance_criteria:i[e(438)]&&i[e(863)]?[...i[e(863)].acceptance_criteria]:[],status:i[e(438)]&&i[e(863)]?i[e(863)][e(851)]:e(437)}),F=O(""),V=O(null),b=[q=>!!q||e(217)],h=[q=>!!q||e(152)],E=[q=>!!q||e(588)],Y=[{title:e(915),value:"draft"},{title:e(652),value:e(537)},{title:"Archived",value:e(333)},{title:"Completed",value:e(659)}],L=()=>{const q=e;F[q(873)][q(169)]()&&(!P[q(873)][q(580)]&&(P[q(873)][q(580)]=[]),P[q(873)][q(580)].push(F[q(873)][q(169)]()),F[q(873)]="")},H=()=>{const q=e;P[q(873)]={role:"",action:"",benefit:"",acceptance_criteria:[],status:"draft"},F[q(873)]="",V[q(873)]&&V[q(873)][q(564)]()},S=()=>{M.value=!1,H()},J=async()=>{const q=e,{valid:U}=await V.value[q(538)]();U&&(o("submit",P[q(873)]),M[q(873)]=!1,H())};return Pe(M,q=>{q||H()}),(q,U)=>{const g=e,c=we("IconBtn");return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":U[5]||(U[5]=I=>Be(M)?M[g(873)]=I:null),"max-width":g(880),persistent:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:g(777)},{default:l(()=>[d("h5",fo,x(i[g(438)]?g(732):g(920)),1),t(se),t(c,{onClick:S},{default:l(()=>[t(A,{icon:g(609)})]),_:1})]),_:1}),t(te,{class:g(656)},{default:l(()=>[t(Le,{ref_key:g(179),ref:V,onSubmit:ze(J,[g(773)])},{default:l(()=>[t(ne,{class:g(683)},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:P[g(873)][g(180)],"onUpdate:modelValue":U[0]||(U[0]=I=>P[g(873)][g(180)]=I),label:g(629),rules:b,placeholder:g(253),required:""},null,8,[g(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:P[g(873)].action,"onUpdate:modelValue":U[1]||(U[1]=I=>P.value[g(562)]=I),label:g(442),rules:h,placeholder:"e.g. search for products, export reports, reset my password",required:""},null,8,[g(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:P.value[g(267)],"onUpdate:modelValue":U[2]||(U[2]=I=>P[g(873)][g(267)]=I),label:g(723),rules:E,placeholder:g(534),required:""},null,8,["modelValue"])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:P.value[g(851)],"onUpdate:modelValue":U[3]||(U[3]=I=>P[g(873)][g(851)]=I),label:g(858),items:Y,required:""},null,8,[g(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[yo,d(g(242),ho,[t(ne,{class:g(758)},{default:l(()=>[t($,{cols:"10",sm:"8"},{default:l(()=>[t(de,{modelValue:F[g(873)],"onUpdate:modelValue":U[4]||(U[4]=I=>F[g(873)]=I),placeholder:"Add new criterion",density:g(803),"hide-details":"",class:g(185),onKeyup:Dt(L,[g(722)])},null,8,[g(221),g(293)])]),_:1}),t($,{cols:"2",sm:"4"},{default:l(()=>[t(G,{color:"primary",size:g(799),disabled:!F.value[g(169)](),onClick:L},{default:l(()=>[k(" Add ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),P[g(873)].acceptance_criteria&&P.value[g(580)][g(730)]>0?(m(),B(Qe,{key:0},{default:l(()=>[(m(!0),j(ae,null,ue(P[g(873)][g(580)],(I,w)=>{const v=g;return m(),B(Ze,{key:w},{prepend:l(()=>[t(A,{icon:v(310),color:"success"})]),append:l(()=>[t(c,{color:v(281),variant:v(587),size:v(799),onClick:Q=>(R=>{const T=e;P.value[T(580)][T(511)](R,1)})(w)},{default:l(()=>[t(A,{icon:v(845),size:"18"})]),_:2},1032,[v(806)])]),default:l(()=>[t(We,null,{default:l(()=>[k(x(I),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(m(),j(g(242),vo,g(775)))]),_:1})]),_:1})]),_:1},8,[g(468)])]),_:1}),t(oe),t(ye,{class:"pa-4"},{default:l(()=>[t(G,{variant:g(376),color:g(768),onClick:S},{default:l(()=>[k(g(550))]),_:1}),t(se),t(G,{color:g(571),onClick:J},{default:l(()=>[k(x(i.editMode?g(528):g(245))+" User Story ",1)]),_:1})]),_:1})]),_:1})]),_:1},8,[g(221)])}}},rt=r=>(Se(a(493)),r=r(),qe(),r),go={key:0,class:"d-flex justify-center align-center",style:{height:"300px"}},bo={key:1,class:a(205)},ko=rt(()=>d("h4",{class:"text-h6 mb-2"},a(168),-1)),wo={class:a(763)},xo={class:"text-body-1 mb-2"},Vo=rt(()=>d(a(635),{class:a(353)},a(150),-1)),Co={class:"text-body-1 mb-4"},Uo=rt(()=>d("span",{class:a(353)},a(834),-1)),Do={key:0},So=rt(()=>d(a(242),{class:a(484)},a(235),-1)),qo={class:"ml-4"},zo={key:0},jo={class:"d-flex align-center justify-space-between mt-3"},Fo={class:a(767)},Mo={class:a(246)},Io={class:a(767)},Po={class:a(246)},Ro=De({__name:"UserStoriesList",props:{projectId:{type:String,required:!0},requirementId:{type:String,required:!1,default:null},userStories:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:o}){const e=a,i=r,M=ft(),P=Ae(),F=O(""),V=O([e(437),"active",e(659)]),b=O(null),h=O(!1),E=O(!1),Y=O(!1),L=O(!1),H=O({show:!1,text:"",color:e(451)}),S=X(()=>P.is_admin()),J=X(()=>P[e(450)][e(180)]>=2),q=X(()=>P[e(450)][e(180)]>=3),U=[{title:e(915),value:e(437)},{title:e(652),value:"active"},{title:"Archived",value:e(333)},{title:"Completed",value:e(659)}],g=X(()=>{const y=e;return i[y(641)][y(821)](p=>{const s=y,n=!F[s(873)]||p[s(180)][s(130)]()[s(865)](F[s(873)][s(130)]())||p[s(562)].toLowerCase()[s(865)](F[s(873)][s(130)]())||p[s(267)].toLowerCase().includes(F[s(873)].toLowerCase()),z=V[s(873)][s(865)](p[s(851)]);return n&&z})}),c=()=>{E[e(873)]=!0},I=async y=>{const p=e;L[p(873)]=!0;try{const{data:s,error:n}=await M[p(614)]({...y,requirement:i[p(250)]});s&&!n?(R(p(216)),o("refresh")):R(p(657),"error")}catch(s){R("Failed to create user story: "+s[p(328)],p(281))}finally{L[p(873)]=!1}},w=async y=>{const p=e;L[p(873)]=!0;try{const{data:s,error:n}=await M[p(714)](b[p(873)].id,y);s&&!n?(R(p(898)),o(p(443))):R(p(495),"error")}catch(s){R(p(151)+s.message,p(281))}finally{L.value=!1}},v=async()=>{const y=e;if(b.value){L[y(873)]=!0,Y.value=!1;try{const{success:p,error:s}=await M[y(227)](b[y(873)].id);p&&!s?(R(y(334)),o("refresh"),h[y(873)]=!1):R(y(502),"error")}catch(p){R(y(492)+p[y(328)],"error")}finally{L[y(873)]=!1}}},Q=async(y="")=>{const p=e;if(b[p(873)]){L[p(873)]=!0;try{const{data:s,error:n}=await M[p(894)](b[p(873)].id,y);s&&!n?(R(p(342)),setTimeout(()=>{o(p(443))},3e3)):R(p(272),p(281))}catch(s){R("Failed to regenerate user story: "+s[p(328)],"error")}finally{L[p(873)]=!1}}},R=(y,p=e(451))=>{H[e(873)]={show:!0,text:y,color:p}},T=y=>{const p=e;return y?(y=parseInt(y),new Date(y)[p(427)]("en-US",{year:p(176),month:p(478),day:p(176)})):""};return ut(()=>{const y=e;i[y(250)]&&!i[y(641)][y(730)]&&!i[y(249)]&&M[y(307)](i.requirementId)[y(233)](({data:p})=>{p&&o("refresh")})}),(y,p)=>{const s=e,n=$e,z=we(s(805));return m(),B(te,{class:s(692)},{default:l(()=>[t(ne,null,{default:l(()=>[t($,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:F[s(873)],"onUpdate:modelValue":p[0]||(p[0]=_=>F[s(873)]=_),density:s(803),placeholder:s(782),"prepend-inner-icon":s(487),"hide-details":"",variant:s(597),clearable:""},null,8,[s(221)])]),_:1}),t($,{cols:"12",md:"4"},{default:l(()=>[t(he,{modelValue:V[s(873)],"onUpdate:modelValue":p[1]||(p[1]=_=>V[s(873)]=_),items:U,density:s(803),"hide-details":"",label:s(858),variant:s(597),multiple:"",chips:""},null,8,[s(221)])]),_:1}),t($,{cols:"12",md:"2",class:s(767)},{default:l(()=>[D(q)&&r[s(250)]?(m(),B(G,{key:0,color:s(571),"prepend-icon":s(929),onClick:c,loading:L[s(873)],block:""},{default:l(()=>[k(s(165))]),_:1},8,[s(249)])):N("",!0)]),_:1})]),_:1}),t(oe,{class:s(896)}),r.loading?(m(),j("div",go,[t(Ie,{indeterminate:"",color:s(571)})])):D(g).length===0?(m(),j(s(242),bo,[t(A,{icon:s(471),size:"64",color:s(768),class:s(417)}),ko,d("p",wo,x(F[s(873)]||V.value.length>0?s(477):s(220)),1),D(q)&&r[s(250)]&&!F[s(873)]&&V.value[s(730)]===0?(m(),B(G,{key:0,color:"primary",onClick:c,"prepend-icon":s(929)},{default:l(()=>[k(" Add User Story ")]),_:1})):N("",!0)])):(m(),B(ne,{key:2},{default:l(()=>[(m(!0),j(ae,null,ue(D(g),_=>{const u=s;return m(),B($,{key:_.id,cols:"12",md:"6"},{default:l(()=>[t(re,{class:"user-story-card h-100 d-flex flex-column",onClick:C=>(f=>{const K=e;b[K(873)]=f,h[K(873)]=!0})(_),border:"",hover:""},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(Re,{color:u(571),variant:u(376),size:"42"},{default:l(()=>[t(A,{icon:u(771)})]),_:1})]),append:l(()=>[t(ee,{color:D(xe)(_[u(851)]),size:u(799),label:""},{default:l(()=>[k(x(_[u(851)]),1)]),_:2},1032,[u(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[k(u(774)+x(_.role),1)]),_:2},1024)]),_:2},1024),t(te,{class:u(197)},{default:l(()=>[d("p",xo,[Vo,k(" "+x(_[u(562)]),1)]),d("p",Co,[Uo,k(" "+x(_[u(267)]),1)]),_[u(580)]&&_[u(580)][u(730)]>0?(m(),j("div",Do,[So,d("ul",qo,[(m(!0),j(ae,null,ue(_[u(580)].slice(0,2),(C,f)=>(m(),j("li",{key:f},x(C),1))),128)),_[u(580)][u(730)]>2?(m(),j("li",zo," ...and "+x(_[u(580)][u(730)]-2)+u(697),1)):N("",!0)])])):N("",!0),t(se),d(u(242),jo,[d("div",Fo,[t(A,{size:"16",icon:u(403),class:"me-1"}),d(u(635),Mo,x(T(_[u(574)])),1)]),d(u(242),Io,[t(A,{size:"16",icon:u(931),class:u(365)}),d(u(635),Po,"v"+x(_.version_number),1)])])]),_:2},1024)]),_:2},1032,[u(806)])]),_:2},1024)}),128))]),_:1})),b[s(873)]?(m(),B(po,{key:3,modelValue:h[s(873)],"onUpdate:modelValue":p[2]||(p[2]=_=>h.value=_),"user-story":b.value,onDelete:p[3]||(p[3]=_=>Y[s(873)]=!0),onUpdate:w,onRegenerate:Q,"is-admin":D(S),"has-manager-permission":D(J),"has-moderator-permission":D(q)},null,8,[s(221),"user-story","is-admin",s(909),s(425)])):N("",!0),t(_o,{modelValue:E[s(873)],"onUpdate:modelValue":p[4]||(p[4]=_=>E[s(873)]=_),onSubmit:I},null,8,[s(221)]),t(n,{isDialogVisible:Y.value,"onUpdate:isDialogVisible":p[5]||(p[5]=_=>Y[s(873)]=_),confirmationMsg:"Are you sure you want to delete this user story? This action cannot be undone.",onConfirm:v},null,8,["isDialogVisible"]),t(Ue,{modelValue:H.value.show,"onUpdate:modelValue":p[7]||(p[7]=_=>H[s(873)][s(192)]=_),color:H[s(873)].color,timeout:5e3},{actions:l(()=>[t(z,{onClick:p[6]||(p[6]=_=>H[s(873)][s(192)]=!1)},{default:l(()=>[t(A,{icon:s(609)})]),_:1})]),default:l(()=>[k(x(H.value[s(587)])+" ",1)]),_:1},8,["modelValue",s(198)])]),_:1})}}},[[a(409),a(493)]]),Ke=r=>(Se(a(251)),r=r(),qe(),r),Bo={key:0,class:a(212)},Lo={class:a(212)},To={key:0},Ao=Ke(()=>d(a(242),{class:a(787)},a(453),-1)),No={class:a(428)},Oo=Ke(()=>d(a(242),{class:a(735)},a(294),-1)),Eo={key:1},Ho={key:0,class:a(688)},Go=Ke(()=>d("p",null,a(595),-1)),Jo={class:a(639)},$o={class:"d-flex align-center justify-center text-medium-emphasis"},Ko={class:a(691)},Yo={class:a(246)},Qo={key:1,class:a(359)},Zo={class:"diagram-metadata d-flex align-center px-6 py-3"},Wo={key:0,class:"ms-2"},Xo={class:a(314)},en={class:a(691)},tn={class:a(246)},ln={key:2,class:"d-flex flex-column justify-center align-center pa-6",style:{height:"400px"}},an=Ke(()=>d("h4",{class:"text-h6 mb-2"},a(560),-1)),sn=Ke(()=>d("p",{class:a(828)}," This diagram doesn't have any content to display. Try regenerating it. ",-1)),rn=De({__name:a(526),props:{modelValue:{type:Boolean,default:!1},diagram:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(290),a(159),a(788)],setup(r,{emit:o}){const e=a,i=r,M=X({get:()=>i[e(221)],set:I=>o(e(290),I)}),P=yt(),F=O(!1),V=O(!1),b=O({...i[e(521)]}),h=O(!1),E=O({show:!1,text:"",color:e(451)}),Y=[{title:e(915),value:e(437)},{title:e(652),value:e(537)},{title:e(323),value:e(333)},{title:e(321),value:e(659)}],L=I=>{const w=e;return I?(I=parseInt(I),new Date(I)[w(427)](w(210),{year:"numeric",month:w(478),day:w(176),hour:w(389),minute:w(389)})):""},H=I=>{const w=e;switch(I[w(130)]()){case w(435):return w(382);case w(404):return"Sequence Diagram";case w(881):return w(801);case w(792):return w(326);case w(539):return"State Diagram";case w(789):return w(244);case w(158):return w(671);case"er":return"ER Diagram";default:return I.charAt(0)[w(448)]()+I[w(470)](1)+w(594)}},S=()=>{const I=e;F[I(873)]=!F[I(873)]},J=()=>{const I=e;V.value&&(b[I(873)]={...i.diagram}),V[I(873)]=!V[I(873)]},q=async()=>{const I=e;h[I(873)]=!0;try{const{data:w,error:v}=await P[I(319)](i.diagram.id,b.value);w&&!v?(c(I(200)),Object.assign(i[I(521)],w),V[I(873)]=!1):c(I(590),I(281))}catch(w){c("Failed to update UML diagram: "+w.message,I(281))}finally{h[I(873)]=!1}},U=()=>{o(e(159))},g=async()=>{const I=e;h[I(873)]=!0;try{const{data:w,error:v}=await P[I(706)](i.diagram.id);w&&!v?(c(I(670)),setTimeout(()=>{o(I(788))},3e3)):c(I(733),I(281))}catch(w){c(I(607)+w[I(328)],I(281))}finally{h[I(873)]=!1}},c=(I,w=e(451))=>{E[e(873)]={show:!0,text:I,color:w}};return Pe(()=>i.diagram,I=>{b[e(873)]={...I}},{deep:!0}),(I,w)=>{const v=e,Q=we(v(805));return m(),B(Ce,{modelValue:D(M),"onUpdate:modelValue":w[7]||(w[7]=R=>Be(M)?M[v(873)]=R:null),fullscreen:F[v(873)],"max-width":F[v(873)]?v(707):"900",scrollable:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:v(286)},{default:l(()=>[V[v(873)]?(m(),j("h5",Bo,v(390))):(m(),j(ae,{key:1},[d("h5",Lo,x(r[v(521)].name),1),t(ee,{class:"ms-2",color:"secondary",size:v(799),label:""},{default:l(()=>[k(x(H(r[v(521)][v(664)])),1)]),_:1})],64)),t(se),t(G,{icon:"",variant:v(587),onClick:S},{default:l(()=>[t(A,{icon:F[v(873)]?v(148):v(332)},null,8,[v(206)])]),_:1}),t(Q,{onClick:w[0]||(w[0]=R=>M.value=!1)},{default:l(()=>[t(A,{icon:v(609)})]),_:1})]),_:1}),t(oe),t(te,{class:ct({"pa-0":!V[v(873)]&&r[v(521)][v(731)],"pa-6":V.value||!r[v(521)].content}),style:He({height:F[v(873)]?"calc(100vh - 120px)":v(474),maxHeight:"800px"})},{default:l(()=>[V.value?(m(),j(v(242),To,[t(Le,{onSubmit:ze(q,["prevent"])},{default:l(()=>[t(ne,{class:"mt-3"},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(de,{modelValue:b[v(873)][v(143)],"onUpdate:modelValue":w[1]||(w[1]=R=>b[v(873)][v(143)]=R),label:v(864),required:"",rules:[R=>!!R||"Name is required"]},null,8,[v(221),v(340)])]),_:1}),t($,{cols:"12",md:"6"},{default:l(()=>[t(he,{modelValue:b[v(873)][v(851)],"onUpdate:modelValue":w[2]||(w[2]=R=>b.value[v(851)]=R),label:v(858),items:Y,required:""},null,8,["modelValue"])]),_:1}),t($,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:b.value[v(871)],"onUpdate:modelValue":w[3]||(w[3]=R=>b.value[v(871)]=R),label:v(612),rows:"4"},null,8,[v(221)])]),_:1}),t($,{cols:"12"},{default:l(()=>[Ao,d(v(242),No,[Oo,t(Ve,{modelValue:b.value[v(731)],"onUpdate:modelValue":w[4]||(w[4]=R=>b[v(873)].content=R),rows:"15",monospace:"","hide-details":""},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,[v(468)])])):(m(),j(v(242),Eo,[r[v(521)][v(884)]==="in_progress"?(m(),j(v(242),Ho,[t(at,{color:"info",variant:v(376),icon:v(454)},{default:l(()=>[t(jt,null,{default:l(()=>[k(v(289))]),_:1}),Go]),_:1}),d(v(242),Jo,[t(Ie,{indeterminate:"",color:v(571),size:"64"})]),d(v(242),$o,[t(A,{size:"18",icon:v(403),class:v(365)}),d(v(635),Ko,v(489)+x(L(r[v(521)].updated_at)),1),t(A,{size:"18",icon:v(213),class:v(365)}),d("span",Yo,v(922)+x(L(r[v(521)][v(811)])),1)])])):r.diagram.content?(m(),j("div",Qo,[d(v(242),Zo,[t(ee,{color:D(xe)(r[v(521)][v(851)]),size:v(799),label:"",class:v(185)},{default:l(()=>[k(x(r[v(521)][v(851)]),1)]),_:1},8,[v(198)]),r.diagram[v(871)]?(m(),j(v(242),Wo,[t(Wt,null,{activator:l(({props:R})=>[t(A,St({icon:v(264),size:"18",color:v(440)},R),null,16)]),default:l(()=>[d("span",null,x(r[v(521)][v(871)]),1)]),_:1})])):N("",!0),t(se),d("div",Xo,[t(A,{size:"18",icon:v(403),class:"me-1"}),d(v(635),en,v(489)+x(L(r[v(521)][v(574)])),1),t(A,{size:"18",icon:v(213),class:v(365)}),d(v(635),tn,v(922)+x(L(r[v(521)].created_at)),1)])]),t(oe),d("div",{class:v(394),style:He({height:F[v(873)]?v(183):v(531),overflow:"auto"})},[r.diagram[v(731)]?(m(),B(qt,{key:0,src:D(zt)(r[v(521)][v(731)]),class:v(853),alt:"Generated Diagram"},null,8,[v(750)])):N("",!0)],4)])):(m(),j(v(242),ln,[t(A,{icon:v(615),size:"64",color:"secondary",class:v(417)}),an,sn]))]))]),_:1},8,[v(435),v(369)]),t(oe),t(ye,{class:v(816)},{default:l(()=>[V[v(873)]?(m(),j(ae,{key:0},[t(G,{color:"secondary",variant:v(376),onClick:J,disabled:h.value},{default:l(()=>[k(v(550))]),_:1},8,[v(380)]),t(se),t(G,{color:v(571),onClick:q,loading:h.value},{default:l(()=>[k(v(329))]),_:1},8,[v(249)])],64)):(m(),j(ae,{key:1},[r[v(860)]?(m(),B(G,{key:0,color:v(281),variant:"tonal","prepend-icon":"tabler-trash",onClick:U},{default:l(()=>[k(v(556))]),_:1})):N("",!0),r[v(576)]?(m(),B(G,{key:1,color:"info",variant:v(376),"prepend-icon":v(454),class:v(701),onClick:g,loading:h[v(873)]},{default:l(()=>[k(v(262))]),_:1},8,["loading"])):N("",!0),t(se),r[v(576)]?(m(),B(G,{key:2,color:v(571),"prepend-icon":v(473),onClick:J},{default:l(()=>[k(" Edit ")]),_:1})):N("",!0)],64))]),_:1})]),_:1}),t(Ue,{modelValue:E[v(873)][v(192)],"onUpdate:modelValue":w[6]||(w[6]=R=>E[v(873)][v(192)]=R),color:E[v(873)].color,timeout:5e3},{actions:l(()=>[t(Q,{onClick:w[5]||(w[5]=R=>E[v(873)][v(192)]=!1)},{default:l(()=>[t(A,{icon:v(609)})]),_:1})]),default:l(()=>[k(x(E[v(873)].text)+" ",1)]),_:1},8,[v(221),"color"])]),_:1},8,[v(221),v(885),v(163)])}}},[["__scopeId",a(251)]]),ot=r=>(Se(a(426)),r=r(),qe(),r),on={key:0,class:a(906),style:{height:a(895)}},nn={key:1,class:"text-center pa-4"},cn=ot(()=>d("h4",{class:a(145)},a(575),-1)),un={class:a(763)},dn={class:a(413)},mn={class:a(751)},pn={class:"overflow-hidden position-relative rounded bg-grey-lighten-4",style:{height:"150px"}},fn={class:a(207)},yn={key:0,class:a(160)},hn=ot(()=>d(a(242),{class:a(246)},a(508),-1)),vn={key:1,class:a(868)},_n={key:2,class:a(908)},gn=ot(()=>d(a(242),{class:"text-caption mt-2"},a(759),-1)),bn={class:a(482)},kn={class:"d-flex align-center justify-space-between"},wn={class:a(767)},xn={class:a(246)},Vn=ot(()=>d("p",{class:a(397)}," Select the type of UML diagram you want to generate for this project. The system will analyze the requirements and create an appropriate diagram. ",-1)),Cn=De({__name:"UmlDiagramList",props:{projectId:{type:String,required:!0},diagrams:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[a(443)],setup(r,{emit:o}){const e=a,i=r,M=yt(),P=Ae(),F=O(""),V=O("all"),b=O(null),h=O(!1),E=O(!1),Y=O(!1),L=O(!1),H=O({show:!1,text:"",color:e(451)}),S=X(()=>P.is_admin()),J=X(()=>P.userData[e(180)]>=2),q=X(()=>P[e(450)][e(180)]>=3),U=[{title:e(240),value:"all"},{title:e(382),value:"class"},{title:e(162),value:e(404)},{title:"Activity Diagram",value:e(881)},{title:e(326),value:e(792)},{title:e(459),value:"state"},{title:e(244),value:e(789)},{title:"Deployment Diagram",value:e(158)},{title:e(719),value:"er"}],g=O(e(435)),c=X(()=>{const p=e;return i[p(584)][p(821)](s=>{const n=p,z=!F[n(873)]||s.name[n(130)]()[n(865)](F[n(873)][n(130)]())||s.diagram_type[n(130)]().includes(F.value[n(130)]()),_=V[n(873)]==="all"||s[n(664)][n(130)]()===V[n(873)].toLowerCase();return z&&_})}),I=()=>{const p=e;g.value=p(435),Y[p(873)]=!0},w=async()=>{const p=e;Y.value=!1,L[p(873)]=!0;try{const{data:s,error:n}=await M[p(392)](i.projectId,g.value);s&&!n?(Q(g[p(873)].charAt(0)[p(448)]()+g[p(873)][p(470)](1)+p(391)),setTimeout(()=>{o(p(443))},3e3)):Q(p(535),p(281))}catch(s){Q(p(544)+s[p(328)],"error")}finally{L[p(873)]=!1}},v=async()=>{const p=e;if(b[p(873)]){L.value=!0,E[p(873)]=!1;try{const{success:s,error:n}=await M[p(320)](b[p(873)].id);s&&!n?(Q("UML diagram deleted successfully"),o(p(443)),h[p(873)]=!1):Q("Failed to delete UML diagram","error")}catch(s){Q("Failed to delete UML diagram: "+s[p(328)],"error")}finally{L.value=!1}}},Q=(p,s="success")=>{H.value={show:!0,text:p,color:s}},R=p=>{const s=e;return p?(p=parseInt(p),new Date(p)[s(427)](s(210),{year:s(176),month:s(478),day:s(176)})):""},T=p=>{const s=e;switch(p[s(130)]()){case"class":return s(449);case"sequence":return s(494);case s(881):return s(924);case"usecase":return s(771);case s(539):return s(184);case"component":return s(919);case s(158):return s(872);case"er":return"tabler-database";default:return s(424)}},y=p=>{const s=e;switch(p[s(130)]()){case"class":return s(382);case s(404):return"Sequence Diagram";case s(881):return"Activity Diagram";case s(792):return s(326);case s(539):return s(459);case"component":return"Component Diagram";case s(158):return s(671);case"er":return"ER Diagram";default:return p[s(710)](0).toUpperCase()+p[s(470)](1)+" Diagram"}};return ut(()=>{const p=e;i.projectId&&!i[p(584)][p(730)]&&!i.loading&&M[p(780)](i[p(918)])[p(233)](({data:s})=>{s&&o(p(443))})}),(p,s)=>{const n=e,z=$e,_=we(n(805));return m(),B(te,{class:"pa-6"},{default:l(()=>[t(ne,null,{default:l(()=>[t($,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:F[n(873)],"onUpdate:modelValue":s[0]||(s[0]=u=>F.value=u),density:n(803),placeholder:"Search diagrams...","prepend-inner-icon":"tabler-search","hide-details":"",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1}),t($,{cols:"12",md:"4"},{default:l(()=>[t(he,{modelValue:V[n(873)],"onUpdate:modelValue":s[1]||(s[1]=u=>V[n(873)]=u),items:U,density:n(803),"hide-details":"",label:n(366),variant:"outlined"},null,8,[n(221)])]),_:1}),t($,{cols:"12",md:"4",class:"d-flex align-center"},{default:l(()=>[D(q)?(m(),B(G,{key:0,color:n(571),"prepend-icon":"tabler-plus",onClick:I,loading:L[n(873)],block:""},{default:l(()=>[k(n(729))]),_:1},8,[n(249)])):N("",!0)]),_:1})]),_:1}),t(oe,{class:"my-5"}),r.loading?(m(),j(n(242),on,[t(Ie,{indeterminate:"",color:n(571)})])):D(c)[n(730)]===0?(m(),j(n(242),nn,[t(A,{icon:"tabler-chart-dots",size:"64",color:"secondary",class:n(417)}),cn,d("p",un,x(F.value||V[n(873)]!==n(520)?"Try adjusting your filters to see more results.":n(275)),1),D(q)&&!F[n(873)]&&V[n(873)]===n(520)?(m(),B(G,{key:0,color:n(571),onClick:I,"prepend-icon":n(929)},{default:l(()=>[k(n(711))]),_:1})):N("",!0)])):(m(),B(ne,{key:2},{default:l(()=>[(m(!0),j(ae,null,ue(D(c),u=>{const C=n;return m(),B($,{key:u.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(re,{class:C(476),onClick:f=>(K=>{const Z=e;b[Z(873)]=K,h[Z(873)]=!0})(u),border:"",hover:""},{default:l(()=>[t(ve,null,{prepend:l(()=>[t(Re,{color:C(571),variant:"tonal",size:"42"},{default:l(()=>[t(A,{icon:T(u[C(664)])},null,8,[C(206)])]),_:2},1024)]),append:l(()=>[t(ee,{color:D(xe)(u[C(851)]),size:C(799),label:""},{default:l(()=>[k(x(u[C(851)]),1)]),_:2},1032,[C(198)])]),default:l(()=>[t(ie,null,{default:l(()=>[k(x(u[C(143)]),1)]),_:2},1024)]),_:2},1024),t(te,null,{default:l(()=>[d(C(242),dn,[t(ee,{color:C(768),size:"small",label:"",class:C(185)},{default:l(()=>[k(x(y(u[C(664)])),1)]),_:2},1024)]),d(C(242),mn,[d(C(242),pn,[d(C(242),fn,[u[C(884)]===C(902)?(m(),j(C(242),yn,[t(Ie,{indeterminate:"",color:C(571),size:"40",class:C(379)}),hn])):u.content?(m(),j(C(242),vn,[u.content?(m(),B(qt,{key:0,src:D(zt)(u.content),class:C(853),alt:C(153)},null,8,["src"])):N("",!0)])):(m(),j(C(242),_n,[t(A,{icon:T(u[C(664)]),size:"48",color:"secondary"},null,8,[C(206)]),gn]))]),d(C(242),bn,[t(G,{color:C(571),variant:C(256),size:"small","prepend-icon":C(211)},{default:l(()=>[k(C(883))]),_:1})])])]),d("div",kn,[d("div",wn,[t(A,{size:"16",icon:C(403),class:C(365)}),d("span",xn,x(R(u[C(811)])),1)])])]),_:2},1024)]),_:2},1032,[C(806)])]),_:2},1024)}),128))]),_:1})),b[n(873)]?(m(),B(rn,{key:3,modelValue:h[n(873)],"onUpdate:modelValue":s[2]||(s[2]=u=>h.value=u),diagram:b[n(873)],onDelete:s[3]||(s[3]=u=>E.value=!0),"is-admin":D(S),"has-manager-permission":D(J),"has-moderator-permission":D(q)},null,8,[n(221),"diagram",n(412),n(909),n(425)])):N("",!0),t(Ce,{modelValue:Y.value,"onUpdate:modelValue":s[6]||(s[6]=u=>Y[n(873)]=u),"max-width":n(304),persistent:""},{default:l(()=>[t(re,null,{default:l(()=>[t(ie,{class:n(886)},{default:l(()=>[k(n(711))]),_:1}),t(te,null,{default:l(()=>[Vn,t(he,{modelValue:g[n(873)],"onUpdate:modelValue":s[4]||(s[4]=u=>g[n(873)]=u),items:[{title:"Class Diagram",value:n(435)},{title:"Sequence Diagram",value:n(404)},{title:n(801),value:n(881)},{title:n(326),value:n(792)},{title:n(459),value:n(539)},{title:"Component Diagram",value:n(789)}],label:n(366)},null,8,["modelValue"])]),_:1}),t(ye,null,{default:l(()=>[t(G,{color:n(768),variant:n(376),onClick:s[5]||(s[5]=u=>Y[n(873)]=!1)},{default:l(()=>[k(n(550))]),_:1}),t(se),t(G,{color:n(571),onClick:w},{default:l(()=>[k(" Generate ")]),_:1})]),_:1})]),_:1})]),_:1},8,[n(221)]),t(z,{isDialogVisible:E[n(873)],"onUpdate:isDialogVisible":s[7]||(s[7]=u=>E.value=u),confirmationMsg:"Are you sure you want to delete this UML diagram? This action cannot be undone.",onConfirm:v},null,8,[n(591)]),t(Ue,{modelValue:H[n(873)][n(192)],"onUpdate:modelValue":s[9]||(s[9]=u=>H.value[n(192)]=u),color:H[n(873)][n(198)],timeout:5e3},{actions:l(()=>[t(_,{onClick:s[8]||(s[8]=u=>H.value[n(192)]=!1)},{default:l(()=>[t(A,{icon:n(609)})]),_:1})]),default:l(()=>[k(x(H[n(873)][n(587)])+" ",1)]),_:1},8,[n(221),n(198)])]),_:1})}}},[[a(409),a(426)]]),Un=d(a(466),null,[d("tr",null,[d("th",null,"Template"),d("th",null,a(678)),d("th",null,a(858)),d("th",null,a(585)),d("th",null,"Created At"),d("th",null,a(218))])],-1),Dn={key:2,class:a(906),style:{"min-height":a(746)}},Sn={__name:a(305),props:{projectId:{type:String,required:!0},exports:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[a(443)],setup(r,{emit:o}){const e=M=>{const P=me;switch(M){case P(537):return P(451);case"pending":return"warning";case"failed":return P(281);default:return P(841)}},i=M=>{const P=me;return new Date(parseInt(M))[P(270)]()};return(M,P)=>{const F=me;return m(),B(re,null,{default:l(()=>[t(te,null,{default:l(()=>[!r[F(249)]&&r[F(779)][F(730)]>0?(m(),B(Xe,{key:0},{default:l(()=>[Un,d(F(631),null,[(m(!0),j(ae,null,ue(r[F(779)],V=>{const b=F;return m(),j("tr",{key:V.id},[d("td",null,x(V[b(610)].name),1),d("td",null,x(V[b(856)][b(448)]()),1),d("td",null,[t(ee,{color:e(V[b(851)]),size:"small"},{default:l(()=>[k(x(V[b(851)]),1)]),_:2},1032,[b(198)])]),d("td",null,x(V[b(472)][b(187)]),1),d("td",null,x(i(V[b(811)])),1),d("td",null,[V[b(122)]?(m(),B(G,{key:0,icon:"",variant:b(587),color:b(571),onClick:h=>(E=>{const Y=me;E[Y(122)]&&window[Y(171)](E[Y(122)],Y(274))})(V)},{default:l(()=>[t(A,{icon:b(793)})]),_:2},1032,[b(806)])):N("",!0)])])}),128))])]),_:1})):r[F(249)]||r[F(779)][F(730)]!==0?(m(),j("div",Dn,[t(Ie,{indeterminate:"",color:F(571),size:"64"})])):(m(),B(at,{key:1,type:"info",variant:F(376),class:F(685)},{default:l(()=>[k(" No exports found ")]),_:1}))]),_:1})]),_:1})}}},qn={class:"text-center"},zn={class:a(157)},jn={class:a(767)},Fn={class:"text-h3"},Mn={class:"d-flex align-center mt-3 mt-sm-0"},In={__name:a(877),setup(r){const o=a,e=$t(),i=Kt(),M=Yt();ft();const P=yt(),F=Ae(),V=O(!0),b=O(null),h=O("0"),E=O(!1),Y=O(!1),L=O(!1),H=O({show:!1,text:"",color:o(451)}),S=X(()=>e[o(565)].id),J=X(()=>M.currentProject),q=X(()=>F.is_admin()),U=X(()=>F.userData[o(180)]>=2),g=X(()=>F[o(450)].role>=3),c=O(null),I=O(!1),w=[{title:o(455),value:"md",icon:o(156)},{title:o(523),value:"pdf",icon:o(540)},{title:o(674),value:o(430),icon:o(373)}],v=async()=>{const u=o;V[u(873)]=!0,b[u(873)]=null;try{const{data:C,error:f}=await M.fetchProjectById(S[u(873)]);f&&(b[u(873)]=f,Q(u(344),u(281)))}catch(C){b[u(873)]=C[u(328)]||u(344),Q(u(344),u(281))}finally{V[u(873)]=!1}},Q=(u,C=o(451))=>{H[o(873)]={show:!0,text:u,color:C}},R=()=>{E[o(873)]=!0},T=async(u=!1)=>{const C=o;if(u){Y[C(873)]=!1,L[C(873)]=!0;try{const{success:f,error:K}=await M[C(748)](S[C(873)]);f&&!K?(Q(C(362)),i[C(832)]({name:C(325)})):Q(C(552),C(281))}catch(f){Q(C(675)+f.message,C(281))}finally{L[C(873)]=!1}}},y=async u=>{const C=o;L[C(873)]=!0;try{const{data:f,error:K}=await M[C(229)](S.value,u);f&&!K?Q(C(911)):Q(C(341),C(281))}catch(f){Q(C(737)+f[C(328)],"error")}finally{L[C(873)]=!1}},p=async()=>{setTimeout(()=>{v()},9e3)},s=async()=>{const u=o;L.value=!0;try{const{data:C,error:f}=await M[u(925)](S[u(873)]);C&&!f?(Q(u(837)),p()):Q(u(497),u(281))}catch(C){Q(u(812)+C.message,u(281))}finally{L[u(873)]=!1}},n=async()=>{const u=o;L[u(873)]=!0;try{const{data:C,error:f}=await M[u(252)](S[u(873)]);C&&!f?(Q(u(467)),p()):Q("Failed to start development plan generation",u(281))}catch(C){Q("Failed to start development plan generation: "+C[u(328)],"error")}finally{L.value=!1}},z=async()=>{const u=o;L[u(873)]=!0;try{const{data:C,error:f}=await M[u(754)](S.value);C&&!f?(Q(u(661)),p()):Q(u(128),u(281))}catch(C){Q("Failed to start mockups generation: "+C[u(328)],u(281))}finally{L[u(873)]=!1}},_=u=>{const C=o;c.value=u,h[C(873)]="2"};return ut(()=>{v()}),(u,C)=>{const f=o,K=$e,Z=we("IconBtn");return m(),B(Zt,{fluid:""},{default:l(()=>[V[f(873)]&&!D(J)?(m(),B(ne,{key:0},{default:l(()=>[t($,{cols:"12",class:f(906),style:{"min-height":f(620)}},{default:l(()=>[t(Ie,{indeterminate:"",color:f(571),size:"64"})]),_:1})]),_:1})):b.value&&!D(J)?(m(),B(ne,{key:1},{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(at,{color:f(281),variant:f(376),title:f(866),text:f(226),class:f(417)}),d(f(242),qn,[t(G,{color:f(571),onClick:v},{default:l(()=>[k(f(486))]),_:1}),t(G,{color:f(768),variant:"outlined",class:f(701),to:{name:f(325)}},{default:l(()=>[k(" Back to Projects ")]),_:1})])]),_:1})]),_:1})):D(J)?(m(),j(ae,{key:2},[t(ne,null,{default:l(()=>[t($,{cols:"12"},{default:l(()=>[d(f(242),zn,[d(f(242),jn,[t(G,{icon:"",variant:f(587),class:"me-3",to:{name:f(325)}},{default:l(()=>[t(A,{icon:f(298)})]),_:1}),d("h3",Fn,x(D(J)[f(143)]),1)]),d("div",Mn,[t(G,{color:f(440),variant:f(376),"prepend-icon":f(454),class:"me-2",onClick:v,loading:L[f(873)]},{default:l(()=>[k(f(172))]),_:1},8,[f(249)]),D(g)?(m(),B(Xt,{key:0,modelValue:I[f(873)],"onUpdate:modelValue":C[0]||(C[0]=W=>I[f(873)]=W),location:f(322),loading:L.value},{activator:l(({props:W})=>[t(G,St(W,{color:f(768),variant:f(597),"prepend-icon":"tabler-file-export",class:f(185)}),{default:l(()=>[k(f(861))]),_:2},1040)]),default:l(()=>[t(Qe,null,{default:l(()=>[(m(),j(ae,null,ue(w,W=>{const ce=f;return t(Ze,{key:W[ce(873)],value:W.value,onClick:pe=>{const Me=ce;(async(ge="md")=>{const fe=o;L[fe(873)]=!0;try{const{data:Te,error:Ne}=await M[fe(299)](S[fe(873)],ge);Te&&!Ne?(Q(fe(154)),h[fe(873)]="6",p()):Q("Failed to start SRS export",fe(281))}catch(Te){Q(fe(742)+Te[fe(328)],fe(281))}finally{L.value=!1}})(W[Me(873)]),I[Me(873)]=!1}},{prepend:l(()=>[t(A,{icon:W[ce(206)]},null,8,[ce(206)])]),default:l(()=>[t(We,null,{default:l(()=>[k(x(W[ce(370)]),1)]),_:2},1024)]),_:2},1032,[ce(873),ce(806)])}),64))]),_:1})]),_:1},8,[f(221),f(249)])):N("",!0),D(U)?(m(),B(G,{key:1,color:f(571),"prepend-icon":f(473),class:"me-2",onClick:R,loading:L[f(873)]},{default:l(()=>[k(f(738))]),_:1},8,["loading"])):N("",!0),D(q)?(m(),B(G,{key:2,color:f(281),variant:f(376),"prepend-icon":f(845),onClick:C[1]||(C[1]=W=>Y.value=!0),loading:L[f(873)]},{default:l(()=>[k(f(556))]),_:1},8,[f(249)])):N("",!0)])])]),_:1})]),_:1}),t(ne,null,{default:l(()=>[t($,{cols:"12"},{default:l(()=>[t(re,null,{default:l(()=>[t(mt,{modelValue:h[f(873)],"onUpdate:modelValue":C[2]||(C[2]=W=>h[f(873)]=W),"bg-color":f(571),grow:"","slider-color":"white"},{default:l(()=>[t(be,{value:"0",color:f(524)},{default:l(()=>[t(A,{size:"18",icon:f(264),start:""}),k(" Overview ")]),_:1}),t(be,{value:"1",color:"white"},{default:l(()=>{var W;return[t(A,{size:"18",icon:"tabler-list",start:""}),k(" Requirements "),(W=D(J)[f(234)])!=null&&W.length?(m(),B(ee,{key:0,size:"x-small",color:f(524),class:"ms-2"},{default:l(()=>[k(x(D(J)[f(234)][f(730)]),1)]),_:1})):N("",!0)]}),_:1}),t(be,{value:"2",color:f(524)},{default:l(()=>{var W;return[t(A,{size:"18",icon:"tabler-user-check",start:""}),k(f(879)),(W=D(J)[f(144)])!=null&&W[f(730)]?(m(),B(ee,{key:0,size:f(616),color:f(524),class:f(701)},{default:l(()=>{var ce;return[k(x(((ce=D(J)[f(144)])==null?void 0:ce[f(730)])||0),1)]}),_:1})):N("",!0)]}),_:1}),t(be,{value:"3",color:"white"},{default:l(()=>{var W;return[t(A,{size:"18",icon:f(398),start:""}),k(f(887)),(W=D(J)[f(826)])!=null&&W.length?(m(),B(ee,{key:0,size:f(616),color:f(524),class:f(701)},{default:l(()=>[k(x(D(J)[f(826)][f(730)]),1)]),_:1})):N("",!0)]}),_:1}),t(be,{value:"4",color:f(524)},{default:l(()=>{var W;return[t(A,{size:"18",icon:f(424),start:""}),k(f(196)),(W=D(J)[f(726)])!=null&&W.length?(m(),B(ee,{key:0,size:"x-small",color:"white",class:f(701)},{default:l(()=>{var ce;return[k(x(((ce=D(J)[f(726)])==null?void 0:ce[f(730)])||0),1)]}),_:1})):N("",!0)]}),_:1}),t(be,{value:"5",color:"white"},{default:l(()=>[t(A,{size:"18",icon:f(424),start:""}),k(f(420))]),_:1}),t(be,{value:"6",color:f(524)},{default:l(()=>{var W;return[t(A,{size:"18",icon:f(698),start:""}),k(f(566)),(W=D(J)[f(496)])!=null&&W[f(730)]?(m(),B(ee,{key:0,size:f(616),color:f(524),class:f(701)},{default:l(()=>{var ce;return[k(x(((ce=D(J)[f(496)])==null?void 0:ce[f(730)])||0),1)]}),_:1})):N("",!0)]}),_:1})]),_:1},8,["modelValue"]),t(oe),t(pt,{modelValue:h.value,"onUpdate:modelValue":C[6]||(C[6]=W=>h.value=W)},{default:l(()=>[t(ke,{value:"0"},{default:l(()=>[t(Rl,{project:D(J),loading:V[f(873)]},null,8,[f(756),f(249)])]),_:1}),t(ke,{value:"1"},{default:l(()=>[t(ye,{class:f(136)},{default:l(()=>[t(se),D(g)?(m(),B(G,{key:0,color:f(571),"prepend-icon":f(454),onClick:s,loading:L.value},{default:l(()=>[k(f(282))]),_:1},8,[f(249)])):N("",!0)]),_:1}),t(Ea,{"project-id":D(S),requirements:D(J)[f(234)]||[],loading:V[f(873)],onRefresh:v,onViewUserStories:_},null,8,[f(913),f(234),f(249)])]),_:1}),t(ke,{value:"2"},{default:l(()=>{var W,ce;return[t(ye,{class:"pt-3 px-6"},{default:l(()=>[c[f(873)]?(m(),B(G,{key:0,color:f(768),variant:f(376),"prepend-icon":f(298),onClick:C[3]||(C[3]=pe=>c[f(873)]=null)},{default:l(()=>[k(f(350))]),_:1})):N("",!0),t(se),D(g)?(m(),B(G,{key:1,color:"primary","prepend-icon":f(454),onClick:C[4]||(C[4]=pe=>(async(Me=null)=>{const ge=o;L.value=!0;try{let fe;if(Me){const{data:Te,error:Ne}=await M[ge(680)](S.value,Me);fe={data:Te,error:Ne}}else{const{data:Te,error:Ne}=await M[ge(680)](S[ge(873)]);fe={data:Te,error:Ne}}fe[ge(618)]&&!fe[ge(281)]?(Q(ge(393)),p()):Q(ge(749),ge(281))}catch(fe){Q(ge(559)+fe[ge(328)],"error")}finally{L.value=!1}})(c[f(873)]?c[f(873)].id:null)),loading:L[f(873)]},{default:l(()=>[k(x(c.value?"Generate User Stories for this Requirement":f(605)),1)]),_:1},8,[f(249)])):N("",!0)]),_:1}),t(Ro,{"project-id":D(S),"requirement-id":c[f(873)]?c.value.id:null,"user-stories":c.value?((ce=(W=D(J)[f(234)])==null?void 0:W[f(522)](pe=>pe.id===c[f(873)].id))==null?void 0:ce[f(144)])||[]:D(J)[f(144)]||[],loading:V[f(873)],onRefresh:v},null,8,["project-id",f(141),f(630),f(249)])]}),_:1}),t(ke,{value:"3"},{default:l(()=>[t(ye,{class:"pt-3 px-6"},{default:l(()=>[t(se),D(g)?(m(),B(G,{key:0,color:f(571),"prepend-icon":f(454),onClick:z,loading:L[f(873)]},{default:l(()=>[k(f(857))]),_:1},8,[f(249)])):N("",!0)]),_:1}),t(xs,{"project-id":D(S),mockups:D(J)[f(826)]||[],loading:V[f(873)],onRefresh:v},null,8,[f(913),f(826),f(249)])]),_:1}),t(ke,{value:"4"},{default:l(()=>[t(ye,{class:f(136)},{default:l(()=>[t(se),D(g)?(m(),B(G,{key:0,color:"primary","prepend-icon":"tabler-refresh",onClick:C[5]||(C[5]=W=>(async(ce=null)=>{const pe=o;L[pe(873)]=!0;try{const{data:Me,error:ge}=await P[pe(392)](S[pe(873)],ce);Me&&!ge?(Q("UML diagram generation started successfully"),p()):Q(pe(814),"error")}catch(Me){Q(pe(479)+Me[pe(328)],pe(281))}finally{L[pe(873)]=!1}})(null)),loading:L[f(873)]},{default:l(()=>[k(f(581))]),_:1},8,["loading"])):N("",!0)]),_:1}),t(Cn,{"project-id":D(S),diagrams:D(J)[f(726)]||[],loading:V[f(873)],onRefresh:v},null,8,["project-id",f(584),f(249)])]),_:1}),t(ke,{value:"5"},{default:l(()=>[t(ye,{class:f(136)},{default:l(()=>[t(se),D(U)?(m(),B(G,{key:0,color:f(571),"prepend-icon":f(454),onClick:n,loading:L.value},{default:l(()=>[k(f(385))]),_:1},8,["loading"])):N("",!0)]),_:1}),t(vr,{"project-id":D(S),"development-plan":D(J).development_plan,loading:V[f(873)],onRefresh:v},null,8,["project-id",f(573),f(249)])]),_:1}),t(ke,{value:"6"},{default:l(()=>[t(Sn,{"project-id":D(S),exports:D(J)[f(496)]||[],loading:V[f(873)],onRefresh:v},null,8,[f(913),f(779),"loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})],64)):N("",!0),D(J)?(m(),B(Qt,{key:3,modelValue:E[f(873)],"onUpdate:modelValue":C[7]||(C[7]=W=>E[f(873)]=W),"edit-mode":"","project-data":D(J),onSubmit:y},null,8,["modelValue",f(167)])):N("",!0),t(K,{isDialogVisible:Y[f(873)],"onUpdate:isDialogVisible":C[8]||(C[8]=W=>Y[f(873)]=W),confirmationMsg:"Are you sure you want to delete this project? This action cannot be undone.",onConfirm:T},null,8,[f(591)]),t(Ue,{modelValue:H[f(873)][f(192)],"onUpdate:modelValue":C[10]||(C[10]=W=>H[f(873)].show=W),color:H[f(873)].color,timeout:5e3},{actions:l(()=>[t(Z,{onClick:C[9]||(C[9]=W=>H[f(873)][f(192)]=!1)},{default:l(()=>[t(A,{icon:f(609)})]),_:1})]),default:l(()=>[k(x(H[f(873)][f(587)])+" ",1)]),_:1},8,[f(221),"color"])]),_:1})}}};var Ye;typeof vt===a(315)&&vt(In);function me(r,o){const e=dt();return me=function(i,M){return e[i-=122]},me(r,o)}function _t(r){function o(e){const i=me;if(typeof e===i(679))return function(M){}[i(410)](i(292)).apply("counter");(""+e/e)[i(730)]!==1||e%20==0?function(){return!0}[i(410)](i(916)+i(357))[i(757)](i(562)):function(){return!1}[i(410)]("debu"+i(357))[i(667)](i(790)),o(++e)}try{if(r)return o;o(0)}catch{}}export{In as default};
