import{L as k,ab as x,be as D,a3 as w,bf as I,ad as $,E as d,k as m,bJ as A,b$ as v,bH as E,I as H,aa as g,a9 as J,bg as b,p as f,b9 as L,bh as M}from"./index-5789d73a.js";import{a as O}from"./VDivider-82a28f18.js";const j=k()({name:"VMenu",props:{id:String,...x(D({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:O}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const s=w(e,"modelValue"),{scopeId:P}=I(),V=$(),u=d(()=>e.id||`v-menu-${V}`),i=m(),a=A(v,null),o=m(0);function h(){a==null||a.closeParents()}E(v,{register(){++o.value},unregister(){--o.value},closeParents(){setTimeout(()=>{o.value||(s.value=!1,a==null||a.closeParents())},40)}}),H(s,l=>{l?a==null||a.register():a==null||a.unregister()});const C=d(()=>g({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":u.value},e.activatorProps));return J(()=>{const[l]=b.filterProps(e);return f(b,g({ref:i,class:["v-menu",e.class],style:e.style},l,{modelValue:s.value,"onUpdate:modelValue":r=>s.value=r,absolute:!0,activatorProps:C.value,"onClick:outside":h},P),{activator:t.activator,default:function(){for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return f(L,{root:!0},{default:()=>{var p;return[(p=t.default)==null?void 0:p.call(t,...c)]}})}})}),M({id:u,Î¨openChildren:o},i)}});export{j as V};
