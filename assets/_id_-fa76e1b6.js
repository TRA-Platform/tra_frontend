import{L as Je,N as Qe,b5 as vt,R as rt,S as _t,W as gt,b6 as bt,a9 as Ze,p as t,G as Be,a8 as At,Z as Le,E as K,ac as kt,Q as wt,b7 as Vt,O as xt,b8 as Bt,Y as ft,a1 as Lt,$ as Tt,ap as L,b9 as Nt,ba as Ot,bb as Et,k as N,I as je,o as f,b as B,y as l,aI as ae,aY as W,C as G,m,A as w,b2 as ue,D as b,aV as Ne,bc as Y,aD as Ce,aJ as pe,aL as Fe,q,b1 as Oe,aK as oe,c as j,aj as O,F as te,a as ie,at as Te,aG as Ue,aH as De,r as he,aZ as qe,aX as xe,ar as Ie,w as Ae,ah as Me,s as ot,bd as Ct,H as nt,aa as Ht,b4 as Ut,b0 as Gt,t as Jt}from"./index-5412a21b.js";import{V as Ve}from"./VDialog-bfe37aa7.js";import{a as ke,u as Qt,_ as Zt,V as $t}from"./ProjectCreateDialog-fc6421e1.js";import{V as re,a as J}from"./VRow-774d750b.js";import{V as X}from"./VChip-6694228c.js";import{V as le}from"./VDivider-be9fbaa9.js";import{a as et,g as be,b as Dt}from"./formatters-050535ef.js";import{V as ee}from"./VSpacer-e104f586.js";import{b as ct,c as _e,V as ut,a as qt}from"./VTabs-03fdac15.js";import{V as dt,a as ge}from"./VSlideGroup-a0349e3d.js";import{V as Re}from"./VForm-1bac78aa.js";import{b as ce}from"./VTextField-bb9eb737.js";import{V as de}from"./VSelect-f733bc9f.js";import{V as tt,a as lt,b as at}from"./VList-f7d75391.js";import{V as Kt}from"./VTooltip-9a8c2ae1.js";import{b as yt}from"./route-block-29ba53e2.js";import"./index-5f56759a.js";import"./VMenu-2feb4ed6.js";import"./VCheckboxBtn-6eae749a.js";import"./ssrBoot-f7abc1a0.js";const a=fe;(function(){const r=fe,s=it();for(;;)try{if(-parseInt(r(1011))/1+-parseInt(r(916))/2+parseInt(r(514))/3*(-parseInt(r(695))/4)+-parseInt(r(435))/5*(parseInt(r(426))/6)+-parseInt(r(779))/7*(parseInt(r(406))/8)+-parseInt(r(1020))/9*(-parseInt(r(444))/10)+parseInt(r(440))/11*(parseInt(r(772))/12)===679754)break;s.push(s.shift())}catch{s.push(s.shift())}})();const Pt=function(){let r=!0;return function(s,e){const u=r?function(){if(e){const F=e[fe(584)](s,arguments);return e=null,F}}:function(){};return r=!1,u}}();function fe(r,s){const e=it();return fe=function(u,F){return e[u-=402]},fe(r,s)}(function(){Pt(this,function(){const r=fe,s=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),u=ht(r(443));s[r(941)](u+"chain")&&e[r(941)](u+"input")?ht():u("0")})()})();function it(){const r=["Draft","d-flex flex-column","100%","regenerate","Failed to load project details","Failed to start mockups generation: ","Story","is_admin","pdf","v-timeline--truncate-line-end","align-center justify-center gap-2","v-timeline--truncate-line-start","short_description","Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]","Acceptance Criteria:","800px","feature","Completed","Version not found"," No acceptance criteria added yet ","long","state","color","length","Failed to update UML diagram: ","ms-2","benefit","Generating diagram..."," diagram generation started","planId","d-flex align-center ms-4","rounded","text-lg font-weight-medium","development_plan","d-flex justify-center align-center h-100","mb-4","pt-5 pb-2","end","text-h6 mb-3","updateDevelopmentPlan","updated_at","gger","replace","Project deleted successfully","Create New Plan Version","Edit Plan Version","Failed to start requirements generation","User story updated successfully","Performance","Failed to start SRS export","DevelopmentPlanStore"," Create Version ","pt-3 px-6"," View Full Details ","max-width","Requirement Type","text-subtitle-1 mb-4","table","88px","diagram_type","text-center pa-4","Failed to add comment: ","mockup-iframe","v-timeline","vertical","tabler-user","Requirement: ","component","Failed to update user story: "," This requirement hasn't been modified since its creation. ","d-flex align-center mt-3 mt-sm-0","generation_status"," Select the type of UML diagram you want to generate for this project. The system will analyze the requirements and create an appropriate diagram. "," Save Changes ","Failed to update mockup","/generate_uml_diagrams/","Mockup Name","projectId","tabler-file-export","Created","Feature","tabler-calendar-event","/service/mockups/","interface","Failed to fetch mockup","Title","Hours","function"," User "," Requirements ","ProjectMockupsList","version_number","Role is required","pa-4"," Estimated total cost ","v-timeline-divider__before","HTML Content","en-US","Class Diagram","content","createUserStory","pointer","text-body-1 mb-4"," Overview ","comment-item mb-4","Additional Requirements","/service/user-story-comments/","rules","RequirementDetailsDialog","Add new criterion"," View All ","info","Stories","fullscreen","Requirement created successfully","Failed to create requirement","font-weight-medium","roles_and_hours","white","ProjectRequirementsList","text-subtitle-1 font-weight-bold mb-2","generatePlan","UmlDiagramList","type_of_application","/service/user-stories/","State Diagram","Search mockups...","icon","Failed to start user stories generation: ","text-caption me-4","Failed to start UML diagram generation","projects"," No acceptance criteria defined for this user story. ","d-flex align-center justify-space-between mt-3","1962308fqOeqe","Failed to add comment","editMode","tabler-user-check","me-3","tabler-calendar-plus","resetValidation","changed_by","text-medium-emphasis font-weight-medium me-3","Active","UML diagram regeneration started"," Add ","refresh","w-100","language","post","sort","trim","diagram-thumbnail pa-2","data-v-fcfe1101","quality","Requirement Details","hideDot","Deployment Diagram","plan-id","test","pt-3 pb-0","Estimated cost is required","nonfunctional","tabler-notebook","d-flex align-center","short","tabler-refresh","put","Failed to update UML diagram"," Be the first to comment on this requirement. ","Failed to regenerate user story","mt-4","project-info-card","numeric","d-flex flex-column gap-4","$el","tabler-file-check","ProjectDetailsInfo","Failed to create user story: ","mobile","Failed to update plan version: ","Set as current version successfully","default","none","px-5 pt-4","my-5","toLowerCase","has-moderator-permission","lineThickness"," This requirement doesn't have any user stories yet. ","tabler-users","tabler-world-www","Failed to create plan version","No User Stories Found","tabler-history","diagram-metadata d-flex align-center px-6 py-3","justify","generateDiagrams","title","userStoryData","sequence","Not set","Failed to create plan version: ","uml_diagrams","tabler-list-details","data-v-5ae692aa","User stories generation started successfully","tabler-maximize","toUpperCase","Category","website","Comment added successfully","Edit Mockup","Failed to create mockup","generateUserStories","center","d-flex align-center justify-space-between","completed","status","responsibleUser"," Regenerate User Story ","Acceptance Criteria","Failed to delete user story","Project updated successfully","text-subtitle-2 font-weight-medium mb-2"," Add User Story ","Interface","mt-6","tabler-calendar-stats","547745DQVBZR","debu","pb-0","Unknown","Other","120px","Roles & Hours","text-h5 mb-4","v-timeline-item__opposite","19134fAqWOH","is-admin","isDialogVisible","createComment","comments"," ...and ","deleteDiagram","Estimated cost must be a number","/service/requirement-comments/","hover","createRequirement","English","fillDot","preliminary_budget","usecase","SRS export started successfully"," No versions available yet. ","error","show","stateObject","Generate User Stories for this Requirement","Failed to fetch mockups","No UML Diagrams Found","py-2","isCurrent"," This user story hasn't been modified since its creation. ","Mockup Preview","tabler-function","Color Scheme:","fetchDiagrams","text-h4 mb-4","calc(70vh - 110px)","activity","requirementData","Failed to delete project: ","warning","Generated Diagram","text-subtitle-2","text-h6 mb-2","user-story-format mb-6","Requirement deleted successfully"," Preview ",'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',"tbody","Role","requirements","d-flex align-center justify-space-between mb-4","All Categories","prevent","tabler-check","priority_modules","html-preview","html_content","UML diagram deleted successfully"," Development Plan ","span","150px","?project=","No Requirements Found","Failed to fetch development plan","slice","isAdmin","e.g. I can find what I need quickly, I can analyze the data offline","UserStoryDetailsDialog","view-user-stories","performance","Failed to update user story","Target Users","Failed to update requirement: ","Quality","Failed to create UML diagram","updatePlanVersion","calc(100vh - 180px)","value","submit","exportSrs","tabler-file-search","Failed to fetch UML diagrams","/service/requirements/","Update","createDevelopmentPlan"," Delete ",".v-timeline-divider__dot","Action (I want to...)","split"," Created by: ","mockup-content pa-0","user_stories","fetchProjectById","Create New User Story","confirmationMsg","text-right","German","tonal","Failed to create user story","project-data","v-timeline-divider__after","start","Explain what you want to improve about this user story...","tabler-arrow-right-square","dot","counter","/new_version/"," Generate Diagram ","Search diagrams...","enter","role","regenerateDiagram","findIndex","get","text-subtitle-1 font-weight-medium mb-2","constructor","Are you sure you want to delete this project? This action cannot be undone.","data-v-b1d59641","formRef","tabler-circle-check","style","find","changed_at","__scopeId","Roles & Hours (JSON format)","Search requirements...","tabler-edit"," Generate Mockups "," History "," Be the first to comment on this user story. ","currentProject","text-caption text-medium-emphasis ml-2","Name is required","tabler-layout-kanban","created_at","text-body-1 mb-2","parse"," Generate UML Diagrams ","format","all","filter","toLocaleDateString","stop","d-flex align-center mb-2","userStories","Failed to generate UML diagrams","application_description","v-timeline--side-","ConfirmDialog","Archived","tabler-messages","Failed to delete requirement: "," Create Development Plan ","additional_requirements","name","MockupStore","update:modelValue","notes","d-flex flex-column justify-center align-center pa-6","wrapper","/service/projects/","MockupPreviewDialog","currentVersionNumber","/service/uml-diagrams/","/service/development-plan-versions/","Error parsing roles and hours:","uiux","align","data-v-3f565aa3","current-version-number","v-timeline-item__body","primary","delete","deleteMockup","is-current","Failed to delete mockup: ","createPlanVersion","Title is required","text-h4 font-weight-bold","Activity Diagram","Failed to fetch user story","has-manager-permission","preview-overlay d-flex justify-center align-center","300px","text-center","text-caption mt-2"," Generate UML Diagram ","currentUserStory","All Statuses","Failed to start UML diagram generation: ","Failed to delete UML diagram","Roles and hours must be valid JSON","8IvvtQL","Cost","charAt","Action is required","This project does not have any UML diagrams yet.","update","I want to","disabled","tabler-chart-dots","VTable","This diagram is currently being generated. Please check back shortly.","version","deleteUserStory","text-5xl","Constraint","pa-6","text-medium-emphasis","HTML content is required","text-medium-emphasis text-center pa-4","Failed to fetch requirement","6jiuMCo","Mockup deleted successfully","me-1","Try adjusting your search to see more results.","thead","calc(var(--v-timeline-dot-size) / 2 + ","tag","Language:","elevated","2070285ZQFJAm","tabler-calendar-time","mt-3","e.g. registered user, system administrator, customer","hours","122991Msbknj","archived"," Created: ","init","5210iApBdw","Current Development Plan","Comment deleted successfully","Status","me-2","text-body-1 whitespace-pre-wrap","Generating Diagram","User story deleted successfully","Failed to set as current version: ","user-story","color_scheme","acceptance_criteria","Add a comment","fetchDevelopmentPlanById","2-digit","current_version_number","v-timeline--","Component Diagram","Diagram Type","Edit User Story"," New Version ","currentRequirement","tabler-x","v-timeline--justify-","class"," Current ","includes","height","text-body-2 mb-3","Estimated Cost ($)","Development plan created successfully","mockups","Failed to start user stories generation","side","Technology Stack","validate","lineColor","text-medium-emphasis text-caption mb-2","requirementId","d-flex justify-space-between align-center mb-4","Last Updated:","So that:","icon-defaults","v-timeline-divider__dot","confirm","Are you sure you want to delete this UML diagram? This action cannot be undone.","iconColor","data-v-9d431090","diagram-card h-100","/regenerate/","tabler-plus","top","tabler-minimize","VTimelineItem","user-stories"," Development Plan v","getBoundingClientRect"," more ","Security","d-flex justify-end mt-2","Failed to update requirement","Technical Details","tabler-tag","v-timeline-divider__inner-dot","tabler-code-off","Requirements generation started successfully","tabler-calendar","PlanVersionDialog","?requirement=","UserStoryCreateDialog","6MWwBjx","d-flex align-center mb-5","x-small","Non-Functional Requirements","update:isDialogVisible","string","Plan version created successfully","600","Failed to fetch plan version"," View All User Stories ","both","Created:","Failed to start development plan generation: ","generateRequirements","onSubmit","ER Diagram"," No acceptance criteria added yet. Add at least one criterion to help clarify when this user story is considered done. ","Failed to create comment","tabler-device-desktop","text-caption text-medium-emphasis","tabler-search","Failed to update development plan","draft","NumberFormat"," Details ","iframe","Version","splice","opposite","diagram-svg","Failed to fetch requirements"," Export SRS ","No Comments Yet","project-id","User story created successfully","I want to:","width","hideOpposite"," Back to Projects ","innerHTML","secondary","v-table__wrapper","truncateLine"," Changed by: "," Add Comment ","generateMockups","deployment","Project Overview","security","constraint","[id]","color-swatch rounded me-1","No User Stories Available","PlanVersionCreateDialog","requirement","Notes","bottom","d-flex align-center justify-space-between mb-3","Failed to delete requirement","dotColor","Actions","mockup-preview mb-3","diagrams","d-flex py-3 px-5","Failed to set current plan version","Failed to regenerate user story: "," Confirm ","Failed to fetch development plans","IconBtn","Non-Functional","apply","d-flex flex-wrap justify-space-between mb-4"," Generate User Stories ","assign","70vh","Roles & Hours Breakdown","loading","Failed to generate UML diagrams: ","tabler-file-code","success","Failed to delete UML diagram: ","category","This requirement does not have any user stories yet.","d-flex flex-wrap justify-space-between align-center","Try adjusting your filters to see more results.","updateUserStory","updateRequirement","calc(100vh - 120px)","text-medium-emphasis text-center","action","No HTML Content","400px","target_users","Edit Requirement","functional","Preview not available","lineInset","requirement-id","Failed to update project","user-story-card h-100 d-flex flex-column","userStory","direction","whitespace-pre-wrap","data-v-af74848b","Failed to update project: ","900","data","text-center px-10 py-6","Failed to delete comment","UML diagram updated successfully","v-timeline--align-","This project does not have any mockups yet.","pa-5","data-v-f1e2d8ab","updateMockup","project","Failed to delete mockup","user"," Refresh ","d-flex flex-column gap-2","mb-3","bg-grey-lighten-5 rounded pa-3","Functional","Priority Modules/Features","Use Case Diagram"," View Diagram ","non_functional_requirements","params"," User Stories "," Only one version available. Create more versions to see the history. ","fetchUserStoryById","text-body-2 whitespace-pre-wrap","currentDiagram","v-timeline-divider","Benefit is required","mockup-metadata d-flex align-center px-6 py-3","requirement_type"," This project does not have a development plan yet. ","other","overflow-hidden position-relative rounded bg-grey-lighten-4","tabler-activity","Failed to start development plan generation","Requirement Title","Updated: ","hasManagerPermission","/service/development-plans/","font-weight-medium text-primary","operating_system","message","Version History","Failed to delete user story: ","model-value","so that","currentPlan","d-flex pt-5 px-5","As a","Failed to fetch user stories","tabler-trash","number","Unknown User"," Edit ","technology_stack","currentMockup","push"," Cancel ","mb-2","size","estimated_cost","Failed to update mockup: ","active","onClick","hasModeratorPermission","Failed to create development plan","outlined","text-caption","fetchPlanVersionById","Benefit (So that...)","deadline","description","fetchRequirementById","ProjectDevelopmentPlan","1162968horpCv","User story regeneration started","text-medium-emphasis text-center pa-4 rounded bg-grey-lighten-5"," Regenerate ","then","density","...","developmentPlan","data-v-5106171e","d-flex justify-center align-center","tabler-photo-off","Create","Failed to start SRS export: ","Failed to update plan version","elevation","Operating System","data-v-3d0ce27d","No roles and hours defined","This project does not have any requirements yet.","Feedback for Regeneration","tabler-box","No Development Plan","strong","tabler-chart-bubble"," Note: Direct editing of diagram content is not recommended. Use the Regenerate button to create a new version instead. ","tabler-info-circle","compact","UmlDiagramDetailsDialog","e.g. search for products, export reports, reset my password","div","versions","tabler-file-description","text-body-1 text-medium-emphasis mb-6","Failed to regenerate UML diagram","Description is required","Mockup updated successfully","username","tabler-eye","No History Available","srcdoc","tabler-arrow-left","There was an error loading the project details","User Stories","Failed to fetch UML diagram","UI/UX","Created: ","text-medium-emphasis d-flex align-center","userData"," Diagram","Failed to delete comment: ","fixedHeader"," Last updated: ","text-primary","created_by","text-caption font-weight-medium","call","Detailed Description","As a ","Development plan generation started successfully","history","Russian","text-h5","tabler-device-mobile"," Comments ","diagram","v-table","Sequence Diagram","src","plans","mb-3 d-flex align-center","USD","UserStoriesList","Search user stories...","mockup","cost"," Set as Current ","in_progress","2364IVRQev","small","text","substring","api","No Mockups Found","Estimated Cost","742763eDitwo","modelValue","text-center pa-6"];return(it=function(){return r})()}const st=Je()({name:a(415),props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Qe(),...vt(),...rt(),..._t()},setup(r,s){const e=a;let{slots:u}=s;const{themeClasses:F}=gt(r),{densityClasses:P}=bt(r);return Ze(()=>t(r[e(432)],{class:[e(760),{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r[e(745)],"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!u[e(495)],"v-table--has-bottom":!!u[e(570)],"v-table--hover":r[e(1029)]},F[e(1093)],P[e(1093)],r[e(468)]],style:r.style},{default:()=>{var R,x,k;return[(R=u[e(495)])==null?void 0:R.call(u),u[e(964)]?t("div",{class:e(555),style:{height:Be(r[e(471)])}},[t(e(839),null,[u[e(964)]()])]):(x=u[e(1175)])==null?void 0:x.call(u),(k=u[e(570)])==null?void 0:k.call(u)]}})),{}}}),St=Je()({name:"VTimeline",props:{align:{type:String,default:"center",validator:r=>[a(997),"start"][a(470)](r)},direction:{type:String,default:a(846),validator:r=>[a(846),"horizontal"][a(470)](r)},justify:{type:String,default:"auto",validator:r=>["auto","center"][a(470)](r)},side:{type:String,validator:r=>r==null||[a(1117),a(819)][a(470)](r)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:r=>[a(1117),a(819),a(524)][a(470)](r)},...Qe(),...vt(),...rt(),..._t()},setup(r,s){const e=a;let{slots:u}=s;const{themeClasses:F}=gt(r),{densityClasses:P}=bt(r);At({VTimelineDivider:{lineColor:Le(r,e(480))},VTimelineItem:{density:Le(r,e(700)),lineInset:Le(r,"lineInset")}});const R=K(()=>{const k=e,v=r[k(477)]?r[k(477)]:r[k(700)]!=="default"?k(819):null;return v&&k(1163)+v}),x=K(()=>{const k=e,v=[k(793),k(791)];switch(r[k(556)]){case k(524):return v;case k(1117):return v[0];case k(819):return v[1];default:return null}});return Ze(()=>t(r[e(432)],{class:[e(845),e(460)+r[e(615)],e(624)+r[e(1183)],e(467)+r[e(978)],x[e(1093)],{"v-timeline--inset-line":!!r[e(610)]},F.value,P.value,R[e(1093)],r[e(468)]],style:[{"--v-timeline-line-thickness":Be(r[e(970)])},r[e(1136)]]},u)),{}}}),Wt=Je()({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:kt,iconColor:String,lineColor:String,...Qe(),...wt(),...Vt(),...xt()},setup(r,s){const e=a;let{slots:u}=s;const{sizeClasses:F,sizeStyles:P}=Bt(r,e(487)),{backgroundColorStyles:R,backgroundColorClasses:x}=ft(Le(r,"dotColor")),{roundedClasses:k}=Lt(r,"v-timeline-divider__dot"),{elevationClasses:v}=Tt(r),{backgroundColorClasses:E,backgroundColorStyles:$}=ft(Le(r,e(480)));return Ze(()=>t("div",{class:[e(647),{"v-timeline-divider--fill-dot":r[e(1032)]},r[e(468)]],style:r[e(1136)]},[t("div",{class:[e(877),E[e(1093)]],style:$[e(1093)]},null),!r.hideDot&&t(e(724),{key:e(1120),class:[e(487),v[e(1093)],k[e(1093)],F[e(1093)]],style:P[e(1093)]},[t(e(724),{class:[e(507),x[e(1093)],k[e(1093)]],style:R.value},[u[e(964)]?t(Nt,{key:e(486),disabled:!r[e(909)],defaults:{VIcon:{color:r[e(490)],icon:r[e(909)],size:r[e(680)]}}},u[e(964)]):t(L,{key:"icon",color:r[e(490)],icon:r[e(909)],size:r[e(680)]},null)])]),t("div",{class:[e(1116),E[e(1093)]],style:$[e(1093)]},null)])),{}}}),zt=Je()({name:a(497),props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:kt,iconColor:String,lineInset:[Number,String],...Qe(),...Ot(),...xt(),...wt(),...Vt(),...rt()},setup(r,s){const e=a;let{slots:u}=s;const{dimensionStyles:F}=Et(r),P=N(0),R=N();return je(R,x=>{var v;const k=fe;x&&(P[k(1093)]=((v=x[k(957)].querySelector(k(1102)))==null?void 0:v[k(500)]()[k(550)])??0)},{flush:e(931)}),Ze(()=>{var x,k;return t(e(724),{class:["v-timeline-item",{"v-timeline-item--fill-dot":r.fillDot},r[e(468)]],style:[{"--v-timeline-dot-size":Be(P[e(1093)]),"--v-timeline-line-inset":r[e(610)]?e(431)+Be(r[e(610)])+")":Be(0)},r[e(1136)]]},[t("div",{class:e(1186),style:F.value},[(x=u[e(964)])==null?void 0:x.call(u)]),t(Wt,{ref:R,hideDot:r[e(938)],icon:r.icon,iconColor:r[e(490)],size:r[e(680)],elevation:r[e(709)],dotColor:r[e(573)],fillDot:r[e(1032)],rounded:r[e(813)]},{default:u[e(909)]}),r.density!=="compact"&&t(e(724),{class:e(1019)},[!r[e(551)]&&((k=u[e(542)])==null?void 0:k.call(u))])])}),{}}}),Xt=m(a(1075),{class:a(419)},"!",-1),Yt={class:a(814)},Ee={__name:a(1164),props:{confirmationMsg:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:[a(518),a(488)],setup(r,{emit:s}){const e=r,u=R=>{s(fe(518),R)},F=()=>{s(fe(488),!0),u(!1)},P=()=>{const R=fe;s(R(488),!1),s(R(518),!1)};return(R,x)=>{const k=fe;return f(),B(Ve,{"max-width":"500","model-value":e[k(1022)],"onUpdate:modelValue":u},{default:l(()=>[t(ae,{class:k(621)},{default:l(()=>[t(W,null,{default:l(()=>[t(G,{icon:"",variant:k(687),color:k(1055),class:k(817),style:{width:"88px",height:k(840),"pointer-events":k(965)}},{default:l(()=>[Xt]),_:1}),m("h6",Yt,w(e[k(1110)]),1)]),_:1}),t(ue,{class:k(792)},{default:l(()=>[t(G,{variant:"elevated",onClick:F},{default:l(()=>[b(k(580))]),_:1}),t(G,{color:k(554),variant:"tonal",onClick:P},{default:l(()=>[b(k(678))]),_:1})]),_:1})]),_:1})]),_:1},8,[k(665)])}}},mt=Ne({id:"UserStoryStore",state:()=>({userStories:[],currentUserStory:null,loading:!1,error:null}),actions:{async fetchUserStories(r=null){const s=a;this[s(590)]=!0;try{let e=s(906);r&&(e+=s(512)+r);const u=await Y[s(1129)](e);return u[s(1e3)]===200?(this[s(1160)]=u.data,{data:u[s(620)],error:null}):{data:[],error:u[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(670),{data:[],error:this[s(1037)]}}finally{this[s(590)]=!1}},async fetchUserStoryById(r){const s=a;this.loading=!0;try{const e=await Y[s(1129)](s(906)+r+"/");return e[s(1e3)]===200?(this[s(1203)]=e[s(620)],{data:e.data,error:null}):{data:null,error:e[s(620)]}}catch(e){return this.error=e[s(662)]||s(1196),{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async createUserStory(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(931)](s(906),r);return e[s(1e3)]===201?(this[s(1160)][s(805)]&&this[s(1160)][s(677)](e.data),{data:e[s(620)],error:null}):{data:null,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(1114),{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async updateUserStory(r,s){const e=a;this[e(590)]=!0;try{const u=await Y[e(949)](e(906)+r+"/",s);if(u[e(1e3)]===200){if(this[e(1160)][e(805)]){const F=this[e(1160)][e(1128)](P=>P.id===r);F!==-1&&(this[e(1160)][F]=u[e(620)])}return this[e(1203)]&&this[e(1203)].id===r&&(this[e(1203)]=u[e(620)]),{data:u[e(620)],error:null}}return{data:null,error:u[e(620)]}}catch(u){return this.error=u[e(662)]||"Failed to update user story",{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async deleteUserStory(r){const s=a;this.loading=!0;try{const e=await Y[s(1188)](s(906)+r+"/");return e.status===204?(this[s(1160)][s(805)]&&(this[s(1160)]=this[s(1160)].filter(u=>u.id!==r)),this.currentUserStory&&this.currentUserStory.id===r&&(this[s(1203)]=null),{success:!0,error:null}):{success:!1,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(1004),{success:!1,error:this.error}}finally{this[s(590)]=!1}},async regenerateUserStory(r,s=""){const e=a;this.loading=!0;try{const u=await Y[e(931)](e(906)+r+e(493),{feedback:s});return u[e(1e3)]===202?{data:u[e(620)],error:null}:{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u[e(662)]||e(952),{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async createComment(r,s){const e=a;this[e(590)]=!0;try{const u=await Y[e(931)](e(888),{user_story:r,text:s[e(774)],status:s[e(1e3)]||e(683)});return u[e(1e3)]===201?{data:u[e(620)],error:null}:{data:null,error:u[e(620)]}}catch(u){return this.error=u.message||e(531),{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async deleteComment(r){const s=a;this.loading=!0;try{const e=await Y[s(1188)](s(888)+r+"/");return e[s(1e3)]===204?{success:!0,error:null}:{success:!1,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(622),{success:!1,error:this.error}}finally{this.loading=!1}}}}),pt=Ne({id:"UmlDiagramStore",state:()=>({diagrams:[],currentDiagram:null,loading:!1,error:null}),actions:{async fetchDiagrams(r=null,s=null){const e=a;this[e(590)]=!0;try{let u=e(1179);const F={};r&&(F[e(629)]=r),s&&(F[e(841)]=s);const P=await Y[e(1129)](u,{params:F});return P.status===200?(this[e(576)]=P[e(620)],{data:P[e(620)],error:null}):{data:[],error:P[e(620)]}}catch(u){return this[e(1037)]=u.message||e(1097),{data:[],error:this[e(1037)]}}finally{this[e(590)]=!1}},async fetchDiagramById(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(1129)](s(1179)+r+"/");return e[s(1e3)]===200?(this[s(646)]=e[s(620)],{data:e[s(620)],error:null}):{data:null,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(738),{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async createDiagram(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(931)](s(1179),r);return e[s(1e3)]===201?(this.diagrams[s(805)]&&this[s(576)][s(677)](e[s(620)]),{data:e[s(620)],error:null}):{data:null,error:e[s(620)]}}catch(e){return this.error=e[s(662)]||s(1090),{data:null,error:this.error}}finally{this.loading=!1}},async updateDiagram(r,s){const e=a;this[e(590)]=!0;try{const u=await Y[e(949)]("/service/uml-diagrams/"+r+"/",s);if(u[e(1e3)]===200){if(this.diagrams[e(805)]){const F=this.diagrams[e(1128)](P=>P.id===r);F!==-1&&(this.diagrams[F]=u[e(620)])}return this[e(646)]&&this[e(646)].id===r&&(this[e(646)]=u.data),{data:u[e(620)],error:null}}return{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u.message||e(950),{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async deleteDiagram(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(1188)](s(1179)+r+"/");return e[s(1e3)]===204?(this[s(576)][s(805)]&&(this[s(576)]=this.diagrams.filter(u=>u.id!==r)),this.currentDiagram&&this[s(646)].id===r&&(this.currentDiagram=null),{success:!0,error:null}):{success:!1,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||"Failed to delete UML diagram",{success:!1,error:this.error}}finally{this[s(590)]=!1}},async regenerateDiagram(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(931)](s(1179)+r+s(493));return e[s(1e3)]===202?{data:e[s(620)],error:null}:{data:null,error:e.data}}catch(e){return this[s(1037)]=e.message||"Failed to regenerate UML diagram",{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async generateDiagrams(r,s=a(468)){const e=a;this[e(590)]=!0;try{const u=await Y.post(e(1176)+r+e(857),{diagram_type:s});return u[e(1e3)]===202?{data:u[e(620)],error:null}:{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u.message||e(1161),{data:null,error:this.error}}finally{this[e(590)]=!1}}}}),Se=r=>(Ue(a(1184)),r=r(),De(),r),el={class:a(956)},tl={class:a(633)},ll={class:a(946)},al=Se(()=>m("span",{class:a(924),style:{"min-width":"120px"}},a(525),-1)),sl={class:a(946)},rl=Se(()=>m("span",{class:a(924),style:{"min-width":a(1016)}},a(484),-1)),ol={class:a(946)},nl=Se(()=>m(a(1075),{class:a(924),style:{"min-width":a(1016)}},"Type:",-1)),il={class:a(946)},cl=Se(()=>m("span",{class:a(924),style:{"min-width":a(1016)}},a(433),-1)),ul={key:0,class:a(946)},dl=Se(()=>m(a(1075),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":a(1016)}},"Deadline:",-1)),ml={key:1,class:a(946)},pl=Se(()=>m("span",{class:a(924),style:{"min-width":a(1016)}},"Budget:",-1)),fl={key:2,class:"d-flex align-center"},yl=Se(()=>m(a(1075),{class:a(924),style:{"min-width":a(1016)}},a(1048),-1)),hl={class:a(946)},vl={class:"ms-2"},_l={class:a(616)},gl={class:a(956)},bl={key:0},kl=Se(()=>m("h6",{class:"text-subtitle-1 font-weight-bold mb-2"},a(478),-1)),wl={class:a(616)},Vl={key:1},xl=Se(()=>m("h6",{class:a(902)},a(710),-1)),Cl={class:a(956)},Ul={class:"whitespace-pre-wrap mb-4"},Dl={key:0,class:a(616)},ql=Se(()=>m("h6",{class:a(902)},a(751),-1)),Sl={class:"whitespace-pre-wrap"},zl={class:a(616)},jl={class:a(616)},Fl={__name:a(959),props:{project:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(r){const s=a,e=r,u=x=>{const k=fe;return x?new Date(parseInt(x)).toLocaleDateString(k(879),{year:k(955),month:k(802),day:k(955)}):k(983)},F=K(()=>{const x=fe;switch(e.project[x(1e3)]){case x(536):return x(1055);case"active":return x(593);case x(441):return x(554);case x(999):return"info";default:return x(1187)}}),P=K(()=>{const x=fe;switch(e[x(629)].type_of_application){case x(992):return x(973);case x(961):return x(757);case"desktop":return x(532);case x(776):return"tabler-api";default:return"tabler-code"}}),R={en:s(1031),ru:s(755),de:s(1112)};return(x,k)=>{const v=s;return f(),B(W,{class:v(421)},{default:l(()=>[t(re,null,{default:l(()=>[t(J,{cols:"12",md:"6"},{default:l(()=>[m(v(724),el,[t(ae,{border:"",class:v(954)},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(Fe,{color:"primary",variant:v(1113),rounded:"",size:"42"},{default:l(()=>[t(L,{icon:q(P)},null,8,["icon"])]),_:1})]),append:l(()=>[t(X,{size:v(773),color:q(F),label:""},{default:l(()=>[b(w(Oe(r[v(629)][v(1e3)])),1)]),_:1},8,["color"])]),default:l(()=>[t(oe,null,{default:l(()=>[b(v(561))]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m(v(724),tl,[m(v(724),ll,[al,m(v(1075),null,w(u(r.project[v(1150)])),1)]),m(v(724),sl,[rl,m("span",null,w(u(r.project[v(822)])),1)]),m("div",ol,[nl,t(X,{size:"small"},{default:l(()=>[b(w(r[v(629)][v(905)]),1)]),_:1})]),m("div",il,[cl,t(X,{size:"small"},{default:l(()=>{return[b(w((E=r[v(629)][v(930)],R[E]||E)),1)];var E}),_:1})]),r[v(629)].deadline?(f(),j(v(724),ul,[dl,m(v(1075),null,w(u(r[v(629)][v(691)])),1)])):O("",!0),r.project[v(1033)]?(f(),j(v(724),ml,[pl,m(v(1075),null,"$"+w(r[v(629)][v(1033)]),1)])):O("",!0),r[v(629)][v(454)]?(f(),j("div",fl,[yl,m(v(724),hl,[(f(!0),j(te,null,ie(r[v(629)].color_scheme[v(1104)](","),(E,$)=>{const I=v;return f(),j(I(724),{key:$,class:I(565),style:Te({backgroundColor:E[I(933)]()}),title:I(804)},null,4)}),128)),m(v(1075),vl,w(r[v(629)][v(454)]),1)])])):O("",!0)])]),_:1})]),_:1}),r[v(629)].additional_requirements?(f(),B(ae,{key:0,border:"",class:v(954)},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(L,{color:v(1187),icon:v(986)})]),default:l(()=>[t(oe,null,{default:l(()=>[b(v(887))]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m(v(724),_l,w(r[v(629)][v(1169)]),1)]),_:1})]),_:1})):O("",!0),r.project.technology_stack||r[v(629)][v(661)]?(f(),B(ae,{key:1,border:"",class:"project-info-card"},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(L,{color:v(1187),icon:"tabler-device-laptop-code"})]),default:l(()=>[t(oe,null,{default:l(()=>[b(v(505))]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m(v(724),gl,[r[v(629)][v(675)]?(f(),j(v(724),bl,[kl,m(v(724),wl,w(r.project[v(675)]),1)])):O("",!0),r[v(629)].operating_system?(f(),j("div",Vl,[xl,m(v(724),null,w(r[v(629)][v(661)]),1)])):O("",!0)])]),_:1})]),_:1})):O("",!0)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[m(v(724),Cl,[t(ae,{border:"",class:v(954)},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(L,{color:v(1187),icon:v(726)})]),default:l(()=>[t(oe,null,{default:l(()=>[b("Description")]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m(v(724),Ul,w(r[v(629)][v(794)]),1),r.project.application_description?(f(),j(v(724),Dl,[ql,m(v(724),null,w(r[v(629)][v(1162)]),1)])):O("",!0)]),_:1})]),_:1}),r[v(629)][v(606)]?(f(),B(ae,{key:0,border:"",class:v(954)},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(L,{color:"primary",icon:v(972)})]),default:l(()=>[t(oe,null,{default:l(()=>[b(v(1087))]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m(v(724),Sl,w(r.project[v(606)]),1)]),_:1})]),_:1})):O("",!0),r[v(629)][v(640)]?(f(),B(ae,{key:1,border:"",class:"project-info-card"},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(L,{color:"primary",icon:v(718)})]),default:l(()=>[t(oe,null,{default:l(()=>[b(v(517))]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m("div",zl,w(r[v(629)][v(640)]),1)]),_:1})]),_:1})):O("",!0),r[v(629)][v(1070)]?(f(),B(ae,{key:2,border:"",class:v(954)},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(L,{color:"primary",icon:"tabler-star"})]),default:l(()=>[t(oe,null,{default:l(()=>[b(v(637))]),_:1})]),_:1}),t(le),t(W,null,{default:l(()=>[m("div",jl,w(r[v(629)][v(1070)]),1)]),_:1})]),_:1})):O("",!0)])]),_:1})]),_:1})]),_:1})}}},Ml=Ce(Fl,[[a(1139),a(1184)]]),jt=Ne({id:"RequirementStore",state:()=>({requirements:[],currentRequirement:null,loading:!1,error:null}),actions:{async fetchRequirements(r=null){const s=a;this[s(590)]=!0;try{let e=s(1098);r&&(e+=s(1077)+r);const u=await Y[s(1129)](e);return u[s(1e3)]===200?(this.requirements=u[s(620)],{data:u[s(620)],error:null}):{data:[],error:u[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(544),{data:[],error:this[s(1037)]}}finally{this[s(590)]=!1}},async fetchRequirementById(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(1129)](s(1098)+r+"/");return e.status===200?(this[s(465)]=e[s(620)],{data:e[s(620)],error:null}):{data:null,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(425),{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async createRequirement(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(931)](s(1098),r);return e[s(1e3)]===201?(this.requirements[s(805)]&&this.requirements[s(677)](e.data),{data:e[s(620)],error:null}):{data:null,error:e[s(620)]}}catch(e){return this[s(1037)]=e.message||s(897),{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async updateRequirement(r,s){const e=a;this[e(590)]=!0;try{const u=await Y[e(949)](e(1098)+r+"/",s);if(u.status===200){if(this[e(1065)][e(805)]){const F=this[e(1065)][e(1128)](P=>P.id===r);F!==-1&&(this[e(1065)][F]=u[e(620)])}return this.currentRequirement&&this[e(465)].id===r&&(this[e(465)]=u[e(620)]),{data:u[e(620)],error:null}}return{data:null,error:u.data}}catch(u){return this[e(1037)]=u[e(662)]||"Failed to update requirement",{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async deleteRequirement(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(1188)](s(1098)+r+"/");return e.status===204?(this[s(1065)].length&&(this[s(1065)]=this.requirements[s(1156)](u=>u.id!==r)),this.currentRequirement&&this[s(465)].id===r&&(this.currentRequirement=null),{success:!0,error:null}):{success:!1,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||"Failed to delete requirement",{success:!1,error:this[s(1037)]}}finally{this[s(590)]=!1}},async createComment(r,s){const e=a;this[e(590)]=!0;try{const u=await Y.post(e(1028),{requirement:r,text:s[e(774)],status:s.status||e(683),responsible_user:s[e(1001)]||null});return u[e(1e3)]===201?{data:u[e(620)],error:null}:{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u.message||"Failed to create comment",{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async deleteComment(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(1188)](s(1028)+r+"/");return e[s(1e3)]===204?{success:!0,error:null}:{success:!1,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(622),{success:!1,error:this[s(1037)]}}finally{this[s(590)]=!1}}}}),ze=r=>(Ue(a(617)),r=r(),De(),r),Il={key:0,class:a(756)},Rl={key:1,class:"text-h5"},Pl={key:0},Al={key:1},Bl={class:a(515)},Ll={class:a(741)},Tl={class:"text-caption me-4"},Nl={class:"text-caption"},Ol={class:a(1050)},El={class:"text-body-1 whitespace-pre-wrap"},Hl={key:0,class:a(781)},Gl=ze(()=>m("h4",{class:"text-h6 mb-2"},a(566),-1)),Jl=ze(()=>m("p",{class:"text-medium-emphasis mb-4"},a(971),-1)),Ql={key:1},Zl={class:a(483)},$l=ze(()=>m("h5",{class:a(756)},a(737),-1)),Kl={class:"mb-2"},Wl=ze(()=>m(a(717),null,"I want to:",-1)),Xl=ze(()=>m(a(717),null,a(485),-1)),Yl={key:0,class:a(437)},ea=ze(()=>m(a(724),{class:a(1057)},"Acceptance Criteria:",-1)),ta={class:"pl-4"},la={key:0},aa={key:0,class:"text-center mt-4"},sa={key:0,class:a(781)},ra=ze(()=>m("h4",{class:a(1058)},a(733),-1)),oa=ze(()=>m("p",{class:a(422)},a(851),-1)),na={key:1},ia={class:a(688)},ca={class:"text-caption text-medium-emphasis"},ua={class:a(1159)},da={class:"text-caption"},ma={class:a(645)},pa={class:a(503)},fa={key:1,class:a(781)},ya=ze(()=>m("h4",{class:a(1058)},a(546),-1)),ha=ze(()=>m("p",{class:"text-medium-emphasis"},a(951),-1)),va={key:2},_a={class:a(946)},ga={class:a(946)},ba={class:"text-caption text-medium-emphasis ml-2"},ka={class:"comment-text mt-2 whitespace-pre-wrap"},wa={__name:a(890),props:{modelValue:{type:Boolean,default:!1},requirement:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(1172),a(411),"delete","view-user-stories"],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:C=>s(e(1172),C)}),P=jt(),R=N(0),x=N(!1),k=N({...u[e(568)]}),v=N(""),E=N(!1),$=N({show:!1,text:"",color:e(593)}),I=[{title:e(636),value:e(608)},{title:"Non-Functional",value:e(944)},{title:e(739),value:e(1182)},{title:e(1015),value:e(652)}],H=[{title:e(782),value:e(536)},{title:e(925),value:e(683)},{title:e(1165),value:e(441)},{title:e(799),value:e(999)}],S=[{title:e(862),value:e(798)},{title:e(420),value:e(563)},{title:e(1089),value:e(936)},{title:e(1008),value:e(865)},{title:e(502),value:e(562)},{title:e(830),value:e(1085)},{title:e(1015),value:e(652)}],Q=K(()=>{const C=e;return u.requirement[C(754)]||[]}),z=K(()=>u[e(568)].comments||[]),D=K(()=>{const C=e;return u[C(568)][C(1107)]||[]}),_=C=>{const y=e;return C?(C=parseInt(C),new Date(C)[y(1157)](y(879),{year:y(955),month:"short",day:y(955),hour:y(458),minute:y(458)})):""},c=()=>{const C=e;x[C(1093)]&&(k.value={...u[C(568)]}),x[C(1093)]=!x.value},U=()=>{const C=e;s(C(411),k[C(1093)]),x[C(1093)]=!1},h=()=>{s(e(1188))},g=()=>{const C=e;s(C(1084),u.requirement),F[C(1093)]=!1},se=async()=>{const C=e;if(v[C(1093)][C(933)]()){E.value=!0;try{const{data:y,error:n}=await P[C(1023)](u[C(568)].id,{text:v[C(1093)],status:C(683)});if(y&&!n){M(C(993)),v.value="";const{data:p}=await P[C(693)](u[C(568)].id);p&&Object.assign(u[C(568)],p)}else M(C(917),"error")}catch(y){M(C(843)+y[C(662)],C(1037))}finally{E[C(1093)]=!1}}},M=(C,y="success")=>{$[e(1093)]={show:!0,text:C,color:y}};return je(()=>u[e(568)],C=>{k.value={...C}},{deep:!0}),(C,y)=>{const n=e,p=he(n(582));return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":y[11]||(y[11]=o=>Ie(F)?F[n(1093)]=o:null),"max-width":n(619),scrollable:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:n(668)},{default:l(()=>[x[n(1093)]?(f(),j("h5",Il,"Edit Requirement")):(f(),j("h5",Rl,n(937))),t(ee),t(p,{onClick:y[0]||(y[0]=o=>F.value=!1)},{default:l(()=>[t(L,{icon:n(466)})]),_:1})]),_:1}),t(W,{class:n(1013)},{default:l(()=>[t(ct,{modelValue:R[n(1093)],"onUpdate:modelValue":y[1]||(y[1]=o=>R[n(1093)]=o),"slider-color":n(1187),"align-tabs":n(1117)},{default:l(()=>[t(_e,{value:"0"},{default:l(()=>[t(L,{size:"18",icon:n(720),start:""}),b(n(538))]),_:1}),t(_e,{value:"1"},{default:l(()=>[t(L,{size:"18",icon:n(919),start:""}),b(n(642)),q(D)[n(805)]?(f(),B(X,{key:0,size:n(516),color:n(1187),class:n(807)},{default:l(()=>[b(w(q(D)[n(805)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"2"},{default:l(()=>[t(L,{size:"18",icon:n(976),start:""}),b(n(1144)),q(Q)[n(805)]?(f(),B(X,{key:0,size:n(516),color:"primary",class:n(807)},{default:l(()=>[b(w(q(Q)[n(805)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"3"},{default:l(()=>[t(L,{size:"18",icon:n(1166),start:""}),b(n(758)),q(z)[n(805)]?(f(),B(X,{key:0,size:n(516),color:"primary",class:"ms-2"},{default:l(()=>[b(w(q(z).length),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(le),t(W,{class:n(421),style:{"min-height":n(605),"max-height":n(588)}},{default:l(()=>[t(dt,{modelValue:R[n(1093)],"onUpdate:modelValue":y[8]||(y[8]=o=>R.value=o),class:"mt-5"},{default:l(()=>[t(ge,{value:"0"},{default:l(()=>[x.value?(f(),j(n(724),Pl,[t(Re,{onSubmit:qe(U,[n(1068)])},{default:l(()=>[t(re,{class:n(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k.value[n(980)],"onUpdate:modelValue":y[2]||(y[2]=o=>k[n(1093)][n(980)]=o),label:n(867),required:"",rules:[o=>!!o||n(1193)]},null,8,[n(780),n(889)])]),_:1}),t(J,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:k.value[n(595)],"onUpdate:modelValue":y[3]||(y[3]=o=>k[n(1093)].category=o),label:n(991),items:I,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:k[n(1093)][n(650)],"onUpdate:modelValue":y[4]||(y[4]=o=>k[n(1093)].requirement_type=o),label:n(837),items:S,required:""},null,8,[n(780)])]),_:1}),t(J,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:k[n(1093)][n(1e3)],"onUpdate:modelValue":y[5]||(y[5]=o=>k[n(1093)].status=o),label:n(447),items:H,required:""},null,8,[n(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:k[n(1093)][n(692)],"onUpdate:modelValue":y[6]||(y[6]=o=>k[n(1093)][n(692)]=o),label:"Description",required:"",rows:"8",rules:[o=>!!o||n(729)]},null,8,[n(780),n(889)])]),_:1})]),_:1})]),_:1},8,[n(528)])])):(f(),j("div",Al,[m(n(724),Bl,[t(X,{color:q(et)(r.requirement[n(595)]),size:"small",label:"",class:n(448)},{default:l(()=>[b(w(r[n(568)][n(595)]),1)]),_:1},8,[n(804)]),t(X,{color:q(be)(r[n(568)][n(1e3)]),size:n(773),label:""},{default:l(()=>{return[b(w((o=r[n(568)].status,o?o[e(408)](0).toUpperCase()+o.slice(1):"")),1)];var o}),_:1},8,[n(804)]),t(X,{color:"secondary",size:n(773),label:"",class:n(807)},{default:l(()=>[b(" v"+w(r[n(568)][n(873)]),1)]),_:1}),r[n(568)][n(650)]?(f(),B(X,{key:0,color:"info",size:"small",label:"",class:"ms-2"},{default:l(()=>[b(w(r[n(568)][n(650)]),1)]),_:1})):O("",!0),t(ee),m(n(724),Ll,[t(L,{size:"18",icon:n(510),class:n(428)}),m(n(1075),Tl,n(657)+w(_(r[n(568)][n(822)])),1),t(L,{size:"18",icon:n(921),class:n(428)}),m(n(1075),Nl,n(740)+w(_(r.requirement[n(1150)])),1)])]),m("h4",Ol,w(r[n(568)][n(980)]),1),m(n(724),El,w(r[n(568)].description),1)]))]),_:1}),t(ge,{value:"1"},{default:l(()=>[q(D)[n(805)]===0?(f(),j("div",Hl,[t(L,{icon:"tabler-user-check",size:"64",color:n(554),class:n(634)}),Gl,Jl,t(G,{color:"primary",onClick:g},{default:l(()=>[b(" Generate User Stories ")]),_:1})])):(f(),j(n(724),Ql,[m(n(724),Zl,[$l,t(G,{color:"primary",variant:n(1113),onClick:g},{default:l(()=>[b(n(523))]),_:1})]),(f(!0),j(te,null,ie(q(D)[n(1080)](0,3),(o,V)=>{const d=n;return f(),B(ae,{key:o.id,class:d(817),border:""},{default:l(()=>[t(pe,null,{append:l(()=>[t(X,{color:q(be)(o.status),size:d(773),label:""},{default:l(()=>[b(w(o[d(1e3)]),1)]),_:2},1032,[d(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[b(d(752)+w(o[d(1126)]),1)]),_:2},1024)]),_:2},1024),t(W,null,{default:l(()=>[m("p",Kl,[Wl,b(" "+w(o[d(603)]),1)]),m("p",null,[Xl,b(" "+w(o[d(808)]),1)]),o[d(455)]&&o[d(455)][d(805)]>0?(f(),j("div",Yl,[ea,m("ul",ta,[(f(!0),j(te,null,ie(o[d(455)][d(1080)](0,2),(i,A)=>(f(),j("li",{key:A},w(i),1))),128)),o.acceptance_criteria[d(805)]>2?(f(),j("li",la,d(1025)+w(o[d(455)].length-2)+d(501),1)):O("",!0)])])):O("",!0)]),_:2},1024)]),_:2},1024)}),128)),q(D)[n(805)]>3?(f(),j(n(724),aa,[t(G,{color:n(1187),variant:"tonal",onClick:g},{default:l(()=>[b(n(892)+w(q(D)[n(805)])+" User Stories ",1)]),_:1})])):O("",!0)]))]),_:1}),t(ge,{value:"2"},{default:l(()=>[q(Q)[n(805)]===0?(f(),j(n(724),sa,[t(L,{icon:n(976),size:"64",color:n(554),class:"mb-3"}),ra,oa])):(f(),j(n(724),na,[t(St,{density:n(721),align:n(1117)},{default:l(()=>[(f(!0),j(te,null,ie(q(Q),(o,V)=>{const d=n;return f(),B(zt,{key:V,"dot-color":d(1187),size:d(773)},{opposite:l(()=>[m("div",ia,w(_(o.changed_at)),1),m(d(724),ca,"v"+w(o[d(873)]),1)]),default:l(()=>[t(ae,{border:""},{default:l(()=>[t(pe,null,{append:l(()=>[t(X,{color:q(be)(o.status),size:"small",label:"",class:d(807)},{default:l(()=>[b(w(o[d(1e3)]),1)]),_:2},1032,[d(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[b(w(o[d(980)]),1)]),_:2},1024)]),_:2},1024),t(W,null,{default:l(()=>[m("div",ua,[t(X,{color:q(et)(o[d(595)]),size:d(773),label:"",class:d(448)},{default:l(()=>[b(w(o[d(595)]),1)]),_:2},1032,[d(804)]),m("span",da,d(557)+w(o.changed_by?o[d(923)][d(731)]:d(1014)),1)]),m(d(724),ma,w(o[d(692)]),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ge,{value:"3"},{default:l(()=>[t(re,{class:n(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:v.value,"onUpdate:modelValue":y[7]||(y[7]=o=>v[n(1093)]=o),label:"Add a comment",rows:"3",counter:"",disabled:E[n(1093)]},null,8,[n(780),n(413)]),m(n(724),pa,[t(G,{color:n(1187),size:n(773),loading:E[n(1093)],disabled:!v[n(1093)][n(933)](),onClick:se},{default:l(()=>[b(" Add Comment ")]),_:1},8,["loading",n(413)])])]),_:1}),t(J,{cols:"12"},{default:l(()=>[q(z)[n(805)]?(f(),B(le,{key:0,class:n(817)})):O("",!0),q(z)[n(805)]===0?(f(),j("div",fa,[t(L,{icon:n(1166),size:"64",color:n(554),class:n(634)}),ya,ha])):(f(),j(n(724),va,[(f(!0),j(te,null,ie(q(z),o=>{const V=n;return f(),j(V(724),{key:o.id,class:V(886)},[t(ae,{border:""},{default:l(()=>[t(W,{class:V(1043)},{default:l(()=>[m(V(724),_a,[t(Fe,{color:V(1187),variant:"tonal",size:"36",class:V(920)},{default:l(()=>[t(L,{icon:V(847)})]),_:1}),m(V(724),null,[m(V(724),ga,[m(V(717),null,w(o[V(631)]?o[V(631)][V(731)]:V(673)),1),m(V(724),ba,w(_(o[V(1150)])),1)])]),t(ee),r[V(1081)]||r[V(658)]?(f(),B(p,{key:0,size:"small",color:V(1037),variant:V(774),onClick:d=>(async i=>{const A=e;E[A(1093)]=!0;try{const{success:ne,error:T}=await P.deleteComment(i);if(ne&&!T){M(A(446));const{data:Z}=await P[A(693)](u[A(568)].id);Z&&Object.assign(u[A(568)],Z)}else M(A(622),A(1037))}catch(ne){M(A(744)+ne[A(662)],A(1037))}finally{E[A(1093)]=!1}})(o.id),disabled:E[V(1093)]},{default:l(()=>[t(L,{icon:"tabler-trash",size:"18"})]),_:2},1032,[V(684),V(413)])):O("",!0)]),m(V(724),ka,w(o[V(774)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[n(780)])]),_:1}),t(le),t(ue,{class:"pa-4"},{default:l(()=>[x[n(1093)]?(f(),j(te,{key:0},[t(G,{color:n(554),variant:"tonal",onClick:c},{default:l(()=>[b(n(678))]),_:1}),t(ee),t(G,{color:"primary",onClick:U},{default:l(()=>[b(n(855))]),_:1})],64)):(f(),j(te,{key:1},[r[n(1081)]?(f(),B(G,{key:0,color:n(1037),variant:n(1113),"prepend-icon":"tabler-trash",onClick:h},{default:l(()=>[b(n(1101))]),_:1})):O("",!0),r[n(685)]&&q(D)[n(805)]===0?(f(),B(G,{key:1,color:"info",variant:n(1113),"prepend-icon":n(919),class:"ms-2",onClick:g},{default:l(()=>[b(n(586))]),_:1})):O("",!0),t(ee),r[n(685)]?(f(),B(G,{key:2,color:"primary","prepend-icon":n(1142),onClick:c},{default:l(()=>[b(n(674))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:$[n(1093)][n(1038)],"onUpdate:modelValue":y[10]||(y[10]=o=>$[n(1093)].show=o),color:$[n(1093)].color,timeout:5e3},{actions:l(()=>[t(p,{onClick:y[9]||(y[9]=o=>$[n(1093)][n(1038)]=!1)},{default:l(()=>[t(L,{icon:n(466)})]),_:1})]),default:l(()=>[b(w($[n(1093)].text)+" ",1)]),_:1},8,[n(780),n(804)])]),_:1},8,[n(780)])}}},Va=Ce(wa,[[a(1139),a(617)]]),xa={class:a(756)},Ca={__name:"RequirementCreateDialog",props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},requirementData:{type:Object,default:()=>({})}},emits:[a(1172),a(1094)],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:S=>s("update:modelValue",S)}),P=N({title:u[e(918)]&&u[e(1053)]?u[e(1053)][e(980)]:"",description:u[e(918)]&&u.requirementData?u[e(1053)].description:"",category:u[e(918)]&&u[e(1053)]?u[e(1053)][e(595)]:e(608),status:u[e(918)]&&u[e(1053)]?u[e(1053)][e(1e3)]:e(536)}),R=[S=>!!S||e(1193),S=>S[e(805)]<=255||"Title must be less than 255 characters"],x=[S=>!!S||e(729)],k=[{title:e(636),value:"functional"},{title:e(583),value:"nonfunctional"},{title:"UI/UX",value:e(1182)},{title:e(1015),value:e(652)}],v=[{title:e(782),value:"draft"},{title:e(925),value:"active"},{title:e(1165),value:e(441)},{title:e(799),value:e(999)}],E=N(null),$=()=>{const S=e;P[S(1093)]={title:"",description:"",category:S(608),status:S(536)},E[S(1093)]&&E.value[S(922)]()},I=()=>{F.value=!1,$()},H=async()=>{const S=e,{valid:Q}=await E[S(1093)].validate();Q&&(s("submit",P[S(1093)]),F[S(1093)]=!1,$())};return je(F,S=>{S||$()}),(S,Q)=>{const z=e,D=he(z(582));return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":Q[4]||(Q[4]=_=>Ie(F)?F.value=_:null),"max-width":"700",persistent:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:z(668)},{default:l(()=>[m("h5",xa,w(u[z(918)]?z(607):"Create New Requirement"),1),t(ee),t(D,{onClick:I},{default:l(()=>[t(L,{icon:z(466)})]),_:1})]),_:1}),t(W,{class:z(966)},{default:l(()=>[t(Re,{ref_key:z(1134),ref:E,onSubmit:qe(H,["prevent"])},{default:l(()=>[t(re,{class:z(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:P[z(1093)].title,"onUpdate:modelValue":Q[0]||(Q[0]=_=>P[z(1093)][z(980)]=_),label:z(656),rules:R,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:P[z(1093)][z(595)],"onUpdate:modelValue":Q[1]||(Q[1]=_=>P[z(1093)][z(595)]=_),label:"Category",items:k,required:""},null,8,[z(780)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:P[z(1093)][z(1e3)],"onUpdate:modelValue":Q[2]||(Q[2]=_=>P.value[z(1e3)]=_),label:z(447),items:v,required:""},null,8,[z(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:P[z(1093)].description,"onUpdate:modelValue":Q[3]||(Q[3]=_=>P.value[z(692)]=_),label:"Description",rules:x,required:"",rows:"6"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,[z(528)])]),_:1}),t(le),t(ue,{class:"pa-4"},{default:l(()=>[t(G,{variant:z(1113),color:z(554),onClick:I},{default:l(()=>[b(z(678))]),_:1}),t(ee),t(G,{color:z(1187),onClick:H},{default:l(()=>[b(w(u[z(918)]?z(1099):z(706))+" Requirement ",1)]),_:1})]),_:1})]),_:1})]),_:1},8,[z(780)])}}},Ua={key:0,class:a(704),style:{height:a(1199)}},Da={key:1,class:a(842)},qa=(Ge=()=>m("h4",{class:a(1058)},a(1078),-1),Ue(a(711)),Ge=Ge(),De(),Ge),Sa={class:a(727)},za={class:a(472)},ja={class:"d-flex align-center justify-space-between mb-2"},Fa={class:a(946)},Ma={class:"text-caption text-capitalize"},Ia={class:a(946)},Ra={class:a(688)},Pa={class:a(946)},Aa={class:a(688)},Ba={key:0,class:a(437)},La={__name:a(901),props:{projectId:{type:String,required:!0},requirements:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[a(928),a(1084)],setup(r,{emit:s}){const e=a,u=r,F=jt(),P=Ae(),R=N(""),x=N("all"),k=N(e(1155)),v=N(null),E=N(!1),$=N(!1),I=N(!1),H=N(!1),S=N({show:!1,text:"",color:e(593)}),Q=K(()=>P[e(789)]()),z=K(()=>P[e(742)][e(1126)]>=2),D=K(()=>P[e(742)][e(1126)]>=3),_=[{title:e(1067),value:e(1155)},{title:"Functional",value:"functional"},{title:e(583),value:e(944)},{title:e(739),value:e(1182)},{title:"Other",value:e(652)}],c=[{title:e(402),value:e(1155)},{title:e(782),value:e(536)},{title:e(925),value:e(683)},{title:e(1165),value:e(441)},{title:"Completed",value:e(999)}],U=K(()=>{const V=e;return u[V(1065)][V(1156)](d=>{const i=V,A=!R[i(1093)]||d[i(980)][i(968)]()[i(470)](R[i(1093)][i(968)]())||d[i(692)].toLowerCase()[i(470)](R[i(1093)][i(968)]()),ne=x[i(1093)]===i(1155)||d[i(595)]===x.value,T=k[i(1093)]===i(1155)||d[i(1e3)]===k[i(1093)];return A&&ne&&T})}),h=()=>{$[e(1093)]=!0},g=async V=>{const d=e;H[d(1093)]=!0;try{const{data:i,error:A}=await F[d(1030)]({...V,project:u[d(859)]});i&&!A?(y(d(896)),s(d(928))):y("Failed to create requirement",d(1037))}catch(i){y("Failed to create requirement: "+i[d(662)],"error")}finally{H[d(1093)]=!1}},se=async V=>{const d=e;H[d(1093)]=!0;try{const{data:i,error:A}=await F[d(600)](v[d(1093)].id,V);i&&!A?(y("Requirement updated successfully"),s(d(928))):y(d(504),d(1037))}catch(i){y(d(1088)+i.message,d(1037))}finally{H.value=!1}},M=async()=>{const V=e;if(v[V(1093)]){H[V(1093)]=!0,I[V(1093)]=!1;try{const{success:d,error:i}=await F.deleteRequirement(v.value.id);d&&!i?(y(V(1060)),s(V(928)),E[V(1093)]=!1):y(V(572),V(1037))}catch(d){y(V(1167)+d[V(662)],V(1037))}finally{H[V(1093)]=!1}}},C=V=>{s(e(1084),V)},y=(V,d=e(593))=>{S.value={show:!0,text:V,color:d}},n=(V,d=120)=>{const i=e;return!V||V[i(805)]<=d?V:V[i(775)](0,d)+i(701)},p=V=>{const d=e;return V?(V=parseInt(V),new Date(V)[d(1157)](d(879),{year:d(955),month:d(947),day:d(955),hour:d(458),minute:d(458)})):""},o=V=>{const d=e;return V?V.charAt(0).toUpperCase()+V[d(1080)](1):""};return(V,d)=>{const i=e,A=Ee,ne=he(i(582));return f(),B(W,{class:i(421)},{default:l(()=>[t(re,null,{default:l(()=>[t(J,{cols:"12",md:"4"},{default:l(()=>[t(ce,{modelValue:R[i(1093)],"onUpdate:modelValue":d[0]||(d[0]=T=>R[i(1093)]=T),density:"compact",placeholder:i(1141),"prepend-inner-icon":i(534),"hide-details":"",variant:i(687),clearable:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"3"},{default:l(()=>[t(de,{modelValue:x[i(1093)],"onUpdate:modelValue":d[1]||(d[1]=T=>x[i(1093)]=T),items:_,density:i(721),"hide-details":"",label:i(991),variant:"outlined"},null,8,[i(780)])]),_:1}),t(J,{cols:"12",md:"3"},{default:l(()=>[t(de,{modelValue:k[i(1093)],"onUpdate:modelValue":d[2]||(d[2]=T=>k[i(1093)]=T),items:c,density:i(721),"hide-details":"",label:"Status",variant:i(687)},null,8,[i(780)])]),_:1}),t(J,{cols:"12",md:"2",class:i(946)},{default:l(()=>[q(D)?(f(),B(G,{key:0,color:i(1187),"prepend-icon":"tabler-plus",onClick:h,loading:H[i(1093)],block:""},{default:l(()=>[b(i(927))]),_:1},8,[i(590)])):O("",!0)]),_:1})]),_:1}),t(le,{class:"my-5"}),r[i(590)]?(f(),j(i(724),Ua,[t(Me,{indeterminate:"",color:i(1187)})])):q(U).length===0?(f(),j(i(724),Da,[t(L,{icon:i(1096),size:"64",color:"secondary",class:i(817)}),qa,m("p",Sa,w(R[i(1093)]||x[i(1093)]!=="all"||k.value!==i(1155)?"Try adjusting your filters to see more results.":i(713)),1),q(D)&&!R.value&&x[i(1093)]===i(1155)&&k[i(1093)]===i(1155)?(f(),B(G,{key:0,color:"primary",onClick:h,"prepend-icon":i(494)},{default:l(()=>[b(" Add Requirement ")]),_:1})):O("",!0)])):(f(),B(re,{key:2},{default:l(()=>[(f(!0),j(te,null,ie(q(U),T=>{const Z=i;return f(),B(J,{key:T.id,cols:"12"},{default:l(()=>[t(ae,{class:"requirement-card",onClick:me=>(we=>{const ve=e;v[ve(1093)]=we,E[ve(1093)]=!0})(T),border:"",hover:""},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(Fe,{color:q(et)(T[Z(595)]),variant:Z(1113),size:"42"},{default:l(()=>[T.category===Z(608)?(f(),B(L,{key:0,icon:Z(1047)})):T[Z(595)]===Z(944)?(f(),B(L,{key:1,icon:"tabler-chart-bar"})):T[Z(595)]===Z(1182)?(f(),B(L,{key:2,icon:"tabler-palette"})):(f(),B(L,{key:3,icon:Z(726)}))]),_:2},1032,[Z(804)])]),append:l(()=>[t(X,{color:q(be)(T[Z(1e3)]),size:Z(773),label:""},{default:l(()=>[b(w(o(T[Z(1e3)])),1)]),_:2},1032,["color"])]),default:l(()=>[t(oe,null,{default:l(()=>[b(w(T.title),1)]),_:2},1024)]),_:2},1024),t(W,null,{default:l(()=>[m("p",za,w(n(T.description)),1),m("div",ja,[m(Z(724),Fa,[t(L,{size:"16",icon:Z(506),class:Z(428)}),m(Z(1075),Ma,w(T.category),1)]),m(Z(724),Ia,[t(L,{size:"16",icon:Z(510),class:Z(428)}),m("span",Ra,w(p(T[Z(822)])),1)]),m(Z(724),Pa,[t(L,{size:"16",icon:Z(976),class:"me-1"}),m("span",Aa,"v"+w(T[Z(873)]),1)])]),T[Z(1107)]&&T[Z(1107)][Z(805)]>0?(f(),j(Z(724),Ba,[t(G,{size:Z(773),variant:Z(1113),color:Z(1187),"prepend-icon":Z(919),onClick:qe(me=>C(T),[Z(1158)])},{default:l(()=>[b(w(T[Z(1107)][Z(805)])+Z(870)+w(T[Z(1107)].length===1?Z(788):Z(894)),1)]),_:2},1032,[Z(684)])])):O("",!0)]),_:2},1024)]),_:2},1032,[Z(684)])]),_:2},1024)}),128))]),_:1})),v[i(1093)]?(f(),B(Va,{key:3,modelValue:E[i(1093)],"onUpdate:modelValue":d[3]||(d[3]=T=>E[i(1093)]=T),requirement:v.value,onDelete:d[4]||(d[4]=T=>I[i(1093)]=!0),onUpdate:se,onViewUserStories:C,"is-admin":q(Q),"has-manager-permission":q(z),"has-moderator-permission":q(D)},null,8,["modelValue",i(568),i(1021),i(1197),i(969)])):O("",!0),t(Ca,{modelValue:$[i(1093)],"onUpdate:modelValue":d[5]||(d[5]=T=>$[i(1093)]=T),onSubmit:g},null,8,[i(780)]),t(A,{isDialogVisible:I.value,"onUpdate:isDialogVisible":d[6]||(d[6]=T=>I[i(1093)]=T),confirmationMsg:"Are you sure you want to delete this requirement? This action cannot be undone.",onConfirm:M},null,8,[i(1022)]),t(xe,{modelValue:S[i(1093)][i(1038)],"onUpdate:modelValue":d[8]||(d[8]=T=>S.value[i(1038)]=T),color:S.value[i(804)],timeout:5e3},{actions:l(()=>[t(ne,{onClick:d[7]||(d[7]=T=>S.value[i(1038)]=!1)},{default:l(()=>[t(L,{icon:i(466)})]),_:1})]),default:l(()=>[b(w(S[i(1093)].text)+" ",1)]),_:1},8,[i(780),i(804)])]),_:1})}}},Ta=Ce(La,[[a(1139),a(711)]]),Ft=Ne({id:a(1171),state:()=>({mockups:[],currentMockup:null,loading:!1,error:null}),actions:{async fetchMockups(r=null){const s=a;this.loading=!0;try{let e=s(864);r&&(e+=s(1077)+r);const u=await Y[s(1129)](e);return u[s(1e3)]===200?(this[s(475)]=u.data,{data:u[s(620)],error:null}):{data:[],error:u[s(620)]}}catch(e){return this.error=e[s(662)]||s(1041),{data:[],error:this[s(1037)]}}finally{this[s(590)]=!1}},async fetchMockupById(r){const s=a;this[s(590)]=!0;try{const e=await Y.get("/service/mockups/"+r+"/");return e[s(1e3)]===200?(this[s(676)]=e[s(620)],{data:e[s(620)],error:null}):{data:null,error:e.data}}catch(e){return this[s(1037)]=e.message||s(866),{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async createMockup(r){const s=a;this[s(590)]=!0;try{const e=await Y.post(s(864),r);return e.status===201?(this[s(475)].length&&this[s(475)][s(677)](e.data),{data:e[s(620)],error:null}):{data:null,error:e.data}}catch(e){return this[s(1037)]=e[s(662)]||s(995),{data:null,error:this[s(1037)]}}finally{this.loading=!1}},async updateMockup(r,s){const e=a;this[e(590)]=!0;try{const u=await Y.put(e(864)+r+"/",s);if(u.status===200){if(this[e(475)].length){const F=this.mockups.findIndex(P=>P.id===r);F!==-1&&(this[e(475)][F]=u[e(620)])}return this[e(676)]&&this[e(676)].id===r&&(this[e(676)]=u[e(620)]),{data:u[e(620)],error:null}}return{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u[e(662)]||e(856),{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async deleteMockup(r){const s=a;this[s(590)]=!0;try{const e=await Y.delete(s(864)+r+"/");return e[s(1e3)]===204?(this[s(475)][s(805)]&&(this[s(475)]=this[s(475)][s(1156)](u=>u.id!==r)),this[s(676)]&&this.currentMockup.id===r&&(this[s(676)]=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[s(1037)]=e[s(662)]||s(630),{success:!1,error:this.error}}finally{this[s(590)]=!1}}}}),Mt=r=>(Ue(a(1133)),r=r(),De(),r),Na={key:0,class:a(756)},Oa={class:"text-h5"},Ea={key:0},Ha={key:1},Ga={class:a(649)},Ja={class:a(946)},Qa={class:a(688)},Za={class:a(812)},$a={class:a(688)},Ka={key:0,class:a(812)},Wa={class:"text-caption"},Xa={class:a(1106)},Ya=[a(734)],es={key:1,class:a(1174),style:{height:a(605)}},ts=Mt(()=>m("h4",{class:a(1058)},a(604),-1)),ls=Mt(()=>m("p",{class:"text-medium-emphasis text-center"}," This mockup doesn't have any HTML content to display. ",-1)),as={__name:a(1177),props:{modelValue:{type:Boolean,default:!1},mockup:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1}},emits:[a(1172),a(1188)],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:D=>s(e(1172),D)}),P=Ft(),R=N(!1),x=N(!1),k=N({...u[e(768)]}),v=N(!1),E=N({show:!1,text:"",color:e(593)}),$=D=>{const _=e;return D?new Date(parseInt(D))[_(1157)](_(879),{year:"numeric",month:_(947),day:"numeric",hour:_(458),minute:_(458)}):""},I=()=>{R[e(1093)]=!R.value},H=()=>{const D=e;x[D(1093)]&&(k.value={...u[D(768)]}),x[D(1093)]=!x[D(1093)]},S=async()=>{const D=e;v[D(1093)]=!0;try{const{data:_,error:c}=await P[D(628)](u[D(768)].id,k[D(1093)]);_&&!c?(z(D(730)),Object[D(587)](u[D(768)],_),x[D(1093)]=!1):z(D(856),D(1037))}catch(_){z(D(682)+_[D(662)],D(1037))}finally{v.value=!1}},Q=()=>{s("delete")},z=(D,_="success")=>{E[e(1093)]={show:!0,text:D,color:_}};return je(()=>u[e(768)],D=>{k[e(1093)]={...D}},{deep:!0}),(D,_)=>{const c=e,U=he(c(582));return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":_[6]||(_[6]=h=>Ie(F)?F[c(1093)]=h:null),fullscreen:R[c(1093)],"max-width":R.value?c(784):c(619),scrollable:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:c(577)},{default:l(()=>[x.value?(f(),j("h5",Na,c(994))):(f(),j(te,{key:1},[m("h5",Oa,w(r[c(768)][c(1170)]),1),t(X,{color:q(be)(r[c(768)][c(1e3)]),size:c(773),label:""},{default:l(()=>[b(w(Oe(r.mockup[c(1e3)])),1)]),_:1},8,[c(804)])],64)),t(ee),t(G,{icon:"",variant:c(774),onClick:I},{default:l(()=>[t(L,{icon:R.value?c(496):"tabler-maximize"},null,8,[c(909)])]),_:1}),t(U,{onClick:_[0]||(_[0]=h=>F.value=!1)},{default:l(()=>[t(L,{icon:c(466)})]),_:1})]),_:1}),t(le),t(W,{class:ot({"pa-0":!x[c(1093)],"pa-6":x[c(1093)]}),style:Te({height:R[c(1093)]?c(601):c(588),maxHeight:c(797)})},{default:l(()=>[x[c(1093)]?(f(),j(c(724),Ea,[t(Re,{onSubmit:qe(S,[c(1068)])},{default:l(()=>[t(re,{class:c(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[c(1093)][c(1170)],"onUpdate:modelValue":_[1]||(_[1]=h=>k[c(1093)].name=h),label:c(858),required:"",rules:[h=>!!h||c(1148)]},null,8,[c(780),c(889)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:k.value[c(1e3)],"onUpdate:modelValue":_[2]||(_[2]=h=>k[c(1093)][c(1e3)]=h),label:c(447),items:[{title:c(782),value:c(536)},{title:c(925),value:"active"},{title:c(1165),value:c(441)},{title:c(799),value:c(999)}],required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:k[c(1093)].html_content,"onUpdate:modelValue":_[3]||(_[3]=h=>k[c(1093)][c(1072)]=h),label:c(878),rows:"15",rules:[h=>!!h||c(423)],monospace:""},null,8,[c(780),c(889)])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])):(f(),j(c(724),Ha,[m(c(724),Ga,[m(c(724),Ja,[t(L,{icon:c(510),class:c(448),size:"18"}),m(c(1075),Qa,c(740)+w($(r.mockup[c(1150)])),1)]),m(c(724),Za,[t(L,{icon:c(863),class:c(448),size:"18"}),m("span",$a,c(657)+w($(r[c(768)].updated_at)),1)]),r.mockup.requirement?(f(),j(c(724),Ka,[t(L,{icon:c(958),class:c(448),size:"18"}),m(c(1075),Wa,"Requirement: "+w(r.mockup[c(568)]),1)])):O("",!0)]),t(le),m(c(724),Xa,[r.mockup[c(1072)]?(f(),j(c(539),{key:0,srcdoc:r[c(768)][c(1072)],class:c(844),style:Te([{width:c(784),border:c(965)},{height:R[c(1093)]?c(1092):c(1051)}]),sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",title:c(1046)},null,12,Ya)):(f(),j(c(724),es,[t(L,{icon:c(508),size:"64",color:c(554),class:c(817)}),ts,ls]))])]))]),_:1},8,[c(468),c(1136)]),t(le),t(ue,{class:c(875)},{default:l(()=>[x.value?(f(),j(te,{key:0},[t(G,{color:"secondary",variant:c(1113),onClick:H,disabled:v[c(1093)]},{default:l(()=>[b(c(678))]),_:1},8,[c(413)]),t(ee),t(G,{color:"primary",onClick:S,loading:v.value},{default:l(()=>[b(" Save Changes ")]),_:1},8,["loading"])],64)):(f(),j(te,{key:1},[r[c(1081)]?(f(),B(G,{key:0,color:c(1037),variant:c(1113),"prepend-icon":"tabler-trash",onClick:Q},{default:l(()=>[b(c(1101))]),_:1})):O("",!0),t(ee),r[c(658)]?(f(),B(G,{key:1,color:"primary","prepend-icon":c(1142),onClick:H},{default:l(()=>[b(c(674))]),_:1})):O("",!0),r.hasManagerPermission?(f(),B(G,{key:2,class:c(807),color:c(1187),variant:c(1113),"prepend-icon":"tabler-code",onClick:H},{default:l(()=>[b(" View HTML ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:E[c(1093)].show,"onUpdate:modelValue":_[5]||(_[5]=h=>E[c(1093)][c(1038)]=h),color:E.value[c(804)],timeout:5e3},{actions:l(()=>[t(U,{onClick:_[4]||(_[4]=h=>E[c(1093)].show=!1)},{default:l(()=>[t(L,{icon:c(466)})]),_:1})]),default:l(()=>[b(w(E[c(1093)][c(774)])+" ",1)]),_:1},8,[c(780),c(804)])]),_:1},8,[c(780),"fullscreen",c(836)])}}},ss=Ce(as,[["__scopeId",a(1133)]]),It=r=>(Ue(a(935)),r=r(),De(),r),rs={key:0,class:a(704),style:{height:a(1199)}},os={key:1,class:a(842)},ns=It(()=>m("h4",{class:"text-h6 mb-2"},a(777),-1)),is={class:a(727)},cs={class:a(575)},us={class:a(653),style:{height:a(1076)}},ds={key:0,class:a(1071)},ms=[a(553)],ps={key:1,class:"d-flex justify-center align-center h-100"},fs={class:a(1198)},ys={key:0,class:"mb-2"},hs=It(()=>m(a(1075),{class:a(749)},a(848),-1)),vs={class:a(998)},_s={class:a(946)},gs={class:a(688)},bs=Ce({__name:a(872),props:{projectId:{type:String,required:!0},mockups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:s}){const e=a,u=r,F=Ft(),P=Ae(),R=N(""),x=N(null),k=N(!1),v=N(!1),E=N(!1),$=N({show:!1,text:"",color:"success"}),I=K(()=>P.is_admin()),H=K(()=>P[e(742)][e(1126)]>=2);K(()=>P[e(742)][e(1126)]>=3);const S=K(()=>{const c=e;return u[c(475)][c(1156)](U=>{const h=c;return!R[h(1093)]||U[h(1170)][h(968)]()[h(470)](R[h(1093)][h(968)]())||U[h(568)]&&U[h(568)][h(980)].toLowerCase().includes(R[h(1093)][h(968)]())})}),Q=c=>{const U=e;return c?new Date(parseInt(c))[U(1157)](U(879),{year:U(955),month:"short",day:U(955),hour:U(458),minute:U(458)}):""},z=async()=>{const c=e;if(x[c(1093)]){E.value=!0,v[c(1093)]=!1;try{const{success:U,error:h}=await F[c(1189)](x.value.id);U&&!h?(D(c(427)),s(c(928)),k[c(1093)]=!1):D(c(630),c(1037))}catch(U){D(c(1191)+U.message,c(1037))}finally{E[c(1093)]=!1}}},D=(c,U=e(593))=>{$[e(1093)]={show:!0,text:c,color:U}},_=(c,U=150)=>{const h=e;if(!c||c[h(805)]<=U)return c;const g=c[h(824)](/<[^>]*>/g,"");return g[h(805)]<=U?c:g[h(775)](0,U)+h(701)};return(c,U)=>{const h=e,g=Ee,se=he("IconBtn");return f(),B(W,{class:h(421)},{default:l(()=>[t(re,null,{default:l(()=>[t(J,{cols:"12",md:"6"},{default:l(()=>[t(ce,{modelValue:R[h(1093)],"onUpdate:modelValue":U[0]||(U[0]=M=>R[h(1093)]=M),density:h(721),placeholder:h(908),"prepend-inner-icon":"tabler-search","hide-details":"",variant:h(687),clearable:""},null,8,[h(780)])]),_:1})]),_:1}),t(le,{class:"my-5"}),r[h(590)]?(f(),j(h(724),rs,[t(Me,{indeterminate:"",color:h(1187)})])):q(S)[h(805)]===0?(f(),j(h(724),os,[t(L,{icon:h(705),size:"64",color:h(554),class:"mb-4"}),ns,m("p",is,w(R[h(1093)]?h(429):h(625)),1)])):(f(),B(re,{key:2},{default:l(()=>[(f(!0),j(te,null,ie(q(S),M=>{const C=h;return f(),B(J,{key:M.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(ae,{class:"mockup-card h-100",onClick:y=>{return n=M,x[e(1093)]=n,void(k.value=!0);var n},border:"",hover:""},{default:l(()=>[t(pe,null,{append:l(()=>[t(X,{color:q(be)(M[C(1e3)]),size:"small",label:""},{default:l(()=>[b(w(Oe(M[C(1e3)])),1)]),_:2},1032,[C(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[b(w(M[C(1170)]),1)]),_:2},1024)]),_:2},1024),t(le),t(W,null,{default:l(()=>[m(C(724),cs,[m(C(724),us,[M.html_content?(f(),j(C(724),ds,[m("div",{innerHTML:_(M.html_content)},null,8,ms)])):(f(),j("div",ps,[t(L,{icon:C(592),size:"48",color:C(554)})])),m(C(724),fs,[t(G,{color:C(1187),variant:"elevated",size:C(773),"prepend-icon":C(732)},{default:l(()=>[b(C(1061))]),_:1})])])]),M.requirement?(f(),j(C(724),ys,[hs,t(X,{size:C(516),color:C(1187),class:"ms-1"},{default:l(()=>[b(w(M.requirement),1)]),_:2},1024)])):O("",!0),m(C(724),vs,[m(C(724),_s,[t(L,{size:"16",icon:C(510),class:C(428)}),m(C(1075),gs,w(Q(M.created_at)),1)])])]),_:2},1024)]),_:2},1032,[C(684)])]),_:2},1024)}),128))]),_:1})),x[h(1093)]?(f(),B(ss,{key:3,modelValue:k[h(1093)],"onUpdate:modelValue":U[1]||(U[1]=M=>k[h(1093)]=M),mockup:x.value,onDelete:U[2]||(U[2]=M=>v[h(1093)]=!0),"is-admin":q(I),"has-manager-permission":q(H)},null,8,[h(780),h(768),"is-admin","has-manager-permission"])):O("",!0),t(g,{isDialogVisible:v[h(1093)],"onUpdate:isDialogVisible":U[3]||(U[3]=M=>v[h(1093)]=M),confirmationMsg:"Are you sure you want to delete this mockup? This action cannot be undone.",onConfirm:z},null,8,["isDialogVisible"]),t(xe,{modelValue:$[h(1093)].show,"onUpdate:modelValue":U[5]||(U[5]=M=>$[h(1093)][h(1038)]=M),color:$[h(1093)][h(804)],timeout:5e3},{actions:l(()=>[t(se,{onClick:U[4]||(U[4]=M=>$[h(1093)][h(1038)]=!1)},{default:l(()=>[t(L,{icon:h(466)})]),_:1})]),default:l(()=>[b(w($.value[h(774)])+" ",1)]),_:1},8,["modelValue",h(804)])]),_:1})}}},[[a(1139),"data-v-fcfe1101"]]),Rt=Ne({id:a(832),state:()=>({plans:[],currentPlan:null,loading:!1,error:null}),actions:{async fetchDevelopmentPlans(r=null){const s=a;this[s(590)]=!0;try{let e=s(659);r&&(e+=s(1077)+r);const u=await Y[s(1129)](e);return u[s(1e3)]===200?(this[s(763)]=u[s(620)],{data:u[s(620)],error:null}):{data:[],error:u[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(581),{data:[],error:this[s(1037)]}}finally{this[s(590)]=!1}},async fetchDevelopmentPlanById(r){const s=a;this.loading=!0;try{const e=await Y[s(1129)](s(659)+r+"/");return e[s(1e3)]===200?(this[s(667)]=e[s(620)],{data:e[s(620)],error:null}):{data:null,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(1079),{data:null,error:this.error}}finally{this[s(590)]=!1}},async createDevelopmentPlan(r){const s=a;this.loading=!0;try{const e=await Y[s(931)](s(659),{project:r,status:"draft"});return e.status===201?{data:e[s(620)],error:null}:{data:null,error:e[s(620)]}}catch(e){return this.error=e[s(662)]||"Failed to create development plan",{data:null,error:this[s(1037)]}}finally{this[s(590)]=!1}},async updateDevelopmentPlan(r,s){const e=a;this[e(590)]=!0;try{const u=await Y[e(949)](e(659)+r+"/",s);return u[e(1e3)]===200?(this[e(667)]&&this[e(667)].id===r&&(this[e(667)]=u[e(620)]),{data:u[e(620)],error:null}):{data:null,error:u.data}}catch(u){return this[e(1037)]=u[e(662)]||e(535),{data:null,error:this[e(1037)]}}finally{this[e(590)]=!1}},async createPlanVersion(r,s){const e=a;this.loading=!0;try{const u=await Y.post("/service/development-plans/"+r+e(1122),s);return u[e(1e3)]===201?{data:u[e(620)],error:null}:{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u[e(662)]||e(974),{data:null,error:this.error}}finally{this[e(590)]=!1}},async fetchPlanVersionById(r){const s=a;this[s(590)]=!0;try{const e=await Y[s(1129)](s(1180)+r+"/");return e[s(1e3)]===200?{data:e[s(620)],error:null}:{data:null,error:e[s(620)]}}catch(e){return this[s(1037)]=e[s(662)]||s(522),{data:null,error:this[s(1037)]}}finally{this.loading=!1}},async updatePlanVersion(r,s){const e=a;this[e(590)]=!0;try{const u=await Y[e(949)]("/service/development-plan-versions/"+r+"/",s);return u[e(1e3)]===200?{data:u[e(620)],error:null}:{data:null,error:u[e(620)]}}catch(u){return this[e(1037)]=u[e(662)]||e(708),{data:null,error:this.error}}finally{this[e(590)]=!1}},async setCurrentPlanVersion(r,s){const e=a;this[e(590)]=!0;try{const u=await this[e(457)](r);if(!u[e(620)])return{data:null,error:"Plan not found"};const F=await this[e(689)](s);return F[e(620)]?await this[e(821)](r,{current_version_number:F[e(620)][e(873)],status:u[e(620)][e(1e3)]}):{data:null,error:e(800)}}catch(u){return this[e(1037)]=u[e(662)]||e(578),{data:null,error:this.error}}finally{this[e(590)]=!1}}}}),$e=r=>(Ue(a(491)),r=r(),De(),r),ks={key:0,class:a(756)},ws={key:1,class:a(756)},Vs={key:0},xs=$e(()=>m("p",{class:a(902)},a(1017),-1)),Cs={key:1},Us={class:a(585)},Ds={class:a(946)},qs={class:"d-flex align-center"},Ss={class:"text-caption"},zs={key:0,class:"text-caption ms-3"},js={class:a(1194)},Fs=$e(()=>m(a(724),{class:"text-caption text-medium-emphasis text-right"},a(876),-1)),Ms=$e(()=>m(a(430),null,[m("tr",null,[m("th",null,a(1064)),m("th",{class:a(1111)},a(868)),m("th",{class:a(1111)},a(407))])],-1)),Is={class:"text-right"},Rs={class:a(1111)},Ps={key:0},As=[$e(()=>m("td",{colspan:"3",class:"text-center"},a(712),-1))],Bs={class:a(449)},Ls=Ce({__name:a(511),props:{modelValue:{type:Boolean,default:!1},version:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},planId:{type:String,default:null}},emits:[a(1172),"refresh"],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:D=>s(e(1172),D)}),P=Rt(),R=N(!1),x=N({...u[e(417)]}),k=N(!1),v=N({show:!1,text:"",color:e(593)}),E=D=>{const _=e;return D?new Date(parseInt(D))[_(1157)](_(879),{year:_(955),month:"short",day:"numeric",hour:_(458),minute:_(458)}):""},$=D=>{const _=e;return D||D===0?new Intl[_(537)](_(879),{style:"currency",currency:_(765),minimumFractionDigits:2})[_(1154)](D):"-"},I=()=>{const D=e;R[D(1093)]&&(x[D(1093)]={...u[D(417)]}),R[D(1093)]=!R[D(1093)]},H=async()=>{const D=e;k[D(1093)]=!0;try{const{data:_,error:c}=await P[D(1091)](u.version.id,x[D(1093)]);_&&!c?(z("Plan version updated successfully"),Object[D(587)](u.version,_),R[D(1093)]=!1,s(D(928))):z(D(708),"error")}catch(_){z(D(962)+_[D(662)],D(1037))}finally{k.value=!1}},S=async()=>{const D=e;if(u[D(811)]){k[D(1093)]=!0;try{const{data:_,error:c}=await P.setCurrentPlanVersion(u.planId,u.version.id);_&&!c?(z(D(963)),s(D(928))):z("Failed to set as current version",D(1037))}catch(_){z(D(452)+_[D(662)],D(1037))}finally{k[D(1093)]=!1}}},Q=D=>{const _=e;if(!D)return[];try{return typeof D===_(519)?JSON[_(1152)](D):D}catch(c){return console.error("Error parsing roles and hours:",c),[]}},z=(D,_=e(593))=>{v[e(1093)]={show:!0,text:D,color:_}};return je(()=>u.version,D=>{x[e(1093)]={...D}},{deep:!0}),(D,_)=>{const c=e,U=he(c(582));return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":_[7]||(_[7]=h=>Ie(F)?F.value=h:null),"max-width":c(619),scrollable:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:c(577)},{default:l(()=>[R.value?(f(),j("h5",ks,c(827))):(f(),j("h5",ws,[b(c(499)+w(r[c(417)][c(873)])+" ",1),r[c(1044)]?(f(),B(X,{key:0,color:c(1187),size:"small",label:"",class:c(807)},{default:l(()=>[b(c(469))]),_:1})):O("",!0)])),t(ee),t(U,{onClick:_[0]||(_[0]=h=>F.value=!1)},{default:l(()=>[t(L,{icon:c(466)})]),_:1})]),_:1}),t(le),t(W,{class:c(421)},{default:l(()=>[R.value?(f(),j(c(724),Vs,[t(Re,{onSubmit:qe(H,[c(1068)])},{default:l(()=>[t(re,{class:"mt-3"},{default:l(()=>[t(J,{cols:"12",md:"4"},{default:l(()=>[t(ce,{modelValue:x[c(1093)][c(681)],"onUpdate:modelValue":_[1]||(_[1]=h=>x.value[c(681)]=h),modelModifiers:{number:!0},label:c(473),type:"number",required:"",rules:[h=>!!h||c(943)]},null,8,[c(780),"rules"])]),_:1}),t(J,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:x[c(1093)].status,"onUpdate:modelValue":_[2]||(_[2]=h=>x[c(1093)][c(1e3)]=h),label:"Status",items:[{title:c(782),value:c(536)},{title:c(925),value:c(683)},{title:c(1165),value:"archived"},{title:"Completed",value:c(999)}],required:""},null,8,[c(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:x[c(1093)].notes,"onUpdate:modelValue":_[3]||(_[3]=h=>x.value[c(1173)]=h),label:c(569),rows:"4"},null,8,[c(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[xs,t(ke,{modelValue:x[c(1093)][c(899)],"onUpdate:modelValue":_[4]||(_[4]=h=>x[c(1093)][c(899)]=h),label:"Roles & Hours (JSON format)",rows:"8",monospace:"",hint:c(795),"persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,[c(528)])])):(f(),j(c(724),Cs,[t(re,{class:c(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[m(c(724),Us,[m(c(724),Ds,[t(X,{color:q(be)(r.version[c(1e3)]),size:c(773),label:""},{default:l(()=>[b(w(Oe(r[c(417)][c(1e3)])),1)]),_:1},8,[c(804)])]),m(c(724),qs,[m("span",Ss,c(442)+w(E(r[c(417)].created_at)),1),r[c(417)][c(748)]?(f(),j(c(1075),zs,c(1105)+w(r[c(417)][c(748)][c(731)]),1)):O("",!0)]),m("div",null,[m("h4",js,w($(r[c(417)][c(681)])),1),Fs])])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ae,{variant:c(687),class:c(817)},{default:l(()=>[t(oe,null,{default:l(()=>[b(c(589))]),_:1}),t(W,null,{default:l(()=>[t(st,null,{default:l(()=>[Ms,m(c(1063),null,[(f(!0),j(te,null,ie(Q(r[c(417)][c(899)]),(h,g)=>{const se=c;return f(),j("tr",{key:g},[m("td",null,w(h[se(1126)]),1),m("td",Is,w(h[se(439)]),1),m("td",Rs,w($(h[se(769)])),1)])}),128)),Q(r[c(417)][c(899)])[c(805)]===0?(f(),j("tr",Ps,As)):O("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),r[c(417)][c(1173)]?(f(),B(J,{key:0,cols:"12"},{default:l(()=>[t(ae,{variant:c(687)},{default:l(()=>[t(oe,null,{default:l(()=>[b(c(569))]),_:1}),t(W,null,{default:l(()=>[m(c(724),Bs,w(r[c(417)][c(1173)]),1)]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]))]),_:1}),t(le),t(ue,{class:"pa-4"},{default:l(()=>[R[c(1093)]?(f(),j(te,{key:0},[t(G,{color:c(554),variant:c(1113),onClick:I,disabled:k[c(1093)]},{default:l(()=>[b(c(678))]),_:1},8,["disabled"]),t(ee),t(G,{color:c(1187),onClick:H,loading:k[c(1093)]},{default:l(()=>[b(c(855))]),_:1},8,[c(590)])],64)):(f(),j(te,{key:1},[!r[c(1044)]&&r[c(658)]?(f(),B(G,{key:0,color:"primary",variant:c(1113),onClick:S,loading:k.value,"prepend-icon":c(1069)},{default:l(()=>[b(c(770))]),_:1},8,[c(590)])):O("",!0),t(ee),r[c(658)]?(f(),B(G,{key:1,color:"primary","prepend-icon":c(1142),onClick:I},{default:l(()=>[b(c(674))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:v[c(1093)][c(1038)],"onUpdate:modelValue":_[6]||(_[6]=h=>v.value[c(1038)]=h),color:v[c(1093)][c(804)],timeout:5e3},{actions:l(()=>[t(U,{onClick:_[5]||(_[5]=h=>v[c(1093)][c(1038)]=!1)},{default:l(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:l(()=>[b(w(v[c(1093)][c(774)])+" ",1)]),_:1},8,["modelValue","color"])]),_:1},8,["modelValue"])}}},[[a(1139),a(491)]]),Ts=m("h5",{class:a(756)},a(826),-1),Ns={class:a(838)},Os={__name:a(567),props:{modelValue:{type:Boolean,default:!1},planId:{type:String,required:!0},currentVersionNumber:{type:Number,default:0}},emits:[a(1172),a(1094)],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:I=>s("update:modelValue",I)}),P=N({roles_and_hours:'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',estimated_cost:1e4,notes:"",status:"draft"}),R=[I=>!!I||e(943),I=>!isNaN(parseFloat(I))||e(1027)],x=[I=>{const H=e;try{return JSON[H(1152)](I),!0}catch{return H(405)}}],k=N(null),v=()=>{const I=e;P[I(1093)]={roles_and_hours:I(1062),estimated_cost:1e4,notes:"",status:I(536)},k[I(1093)]&&k[I(1093)][I(922)]()},E=()=>{F[e(1093)]=!1,v()},$=async()=>{const I=e,{valid:H}=await k.value[I(479)]();if(H){const S={...P[I(1093)]};S[I(681)]=parseFloat(S[I(681)]),s(I(1094),S),F[I(1093)]=!1,v()}};return je(F,I=>{I||v()}),(I,H)=>{const S=e,Q=he("IconBtn");return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":H[4]||(H[4]=z=>Ie(F)?F[S(1093)]=z:null),"max-width":"700",persistent:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:S(668)},{default:l(()=>[Ts,t(ee),t(Q,{onClick:E},{default:l(()=>[t(L,{icon:S(466)})]),_:1})]),_:1}),t(W,{class:"px-5 pt-4"},{default:l(()=>[m("p",Ns," Creating version "+w(r[S(1178)]+1)+" for this development plan. ",1),t(Re,{ref_key:S(1134),ref:k,onSubmit:qe($,[S(1068)])},{default:l(()=>[t(re,{class:"mt-3"},{default:l(()=>[t(J,{cols:"12",md:"6"},{default:l(()=>[t(ce,{modelValue:P[S(1093)][S(681)],"onUpdate:modelValue":H[0]||(H[0]=z=>P[S(1093)][S(681)]=z),modelModifiers:{number:!0},label:S(473),type:S(672),rules:R,required:""},null,8,[S(780)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:P.value.status,"onUpdate:modelValue":H[1]||(H[1]=z=>P[S(1093)].status=z),label:S(447),items:[{title:S(782),value:S(536)},{title:"Active",value:S(683)},{title:S(1165),value:S(441)},{title:S(799),value:S(999)}],required:""},null,8,[S(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:P[S(1093)][S(899)],"onUpdate:modelValue":H[2]||(H[2]=z=>P[S(1093)][S(899)]=z),label:S(1140),rules:x,rows:"6",monospace:"",hint:S(795),"persistent-hint":""},null,8,[S(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:P.value[S(1173)],"onUpdate:modelValue":H[3]||(H[3]=z=>P[S(1093)][S(1173)]=z),label:S(569),rows:"4"},null,8,[S(780)])]),_:1})]),_:1})]),_:1},8,[S(528)])]),_:1}),t(le),t(ue,{class:S(875)},{default:l(()=>[t(G,{variant:"tonal",color:S(554),onClick:E},{default:l(()=>[b(S(678))]),_:1}),t(ee),t(G,{color:"primary",onClick:$},{default:l(()=>[b(S(833))]),_:1})]),_:1})]),_:1})]),_:1},8,[S(780)])}}},Es={key:0,class:a(704),style:{height:a(1199)}},Hs={key:1,class:a(781)},Gs=m("h4",{class:a(1058)},a(716),-1),Js=m("p",{class:"text-body-1 text-medium-emphasis mb-6"},a(651),-1),Qs={key:2},Zs={class:"d-flex flex-column"},$s=m(a(724),{class:a(1058)},a(778),-1),Ks={class:a(1194)},Ws={class:a(533)},Xs=m(a(724),{class:a(820)},a(589),-1),Ys=m(a(430),null,[m("tr",null,[m("th",null,a(1064)),m("th",{class:"text-right"},a(868)),m("th",{class:a(1111)},"Cost")])],-1),er={class:a(1111)},tr={class:"text-right"},lr={class:a(1066)},ar=m("h5",{class:"text-h5"},a(663),-1),sr=m(a(430),null,[m("tr",null,[m("th",null,a(540)),m("th",null,a(861)),m("th",null,a(447)),m("th",{class:a(1111)},a(778)),m("th",{class:a(1111)},a(574))])],-1),rr=[a(684)],or={class:a(946)},nr={class:a(898)},ir={class:a(1111)},cr={class:a(1111)},ur={key:1,class:a(842)},dr=[m("p",{class:a(422)},a(643),-1)],mr={key:2,class:a(842)},pr=[m("p",{class:a(422)},a(1036),-1)],fr={__name:a(694),props:{projectId:{type:String,required:!0},developmentPlan:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:[a(928)],setup(r,{emit:s}){const e=a,u=r,F=Rt(),P=Ae(),R=N(null),x=N(!1),k=N(!1),v=N(!1),E=N({show:!1,text:"",color:e(593)}),$=K(()=>P[e(789)]()),I=K(()=>P[e(742)][e(1126)]>=2),H=K(()=>{const M=e;return u[M(702)]&&u[M(702)].id}),S=K(()=>{const M=e;return H.value&&u[M(702)][M(725)]?[...u.developmentPlan[M(725)]][M(932)]((C,y)=>y[M(873)]-C[M(873)]):[]}),Q=K(()=>{const M=e;return H.value?S.value[M(1137)](C=>C.version_number===u[M(702)][M(459)]):null}),z=M=>{const C=e;return M?new Date(parseInt(M)).toLocaleDateString(C(879),{year:C(955),month:C(947),day:C(955)}):""},D=M=>{const C=e;return M||M===0?new Intl[C(537)](C(879),{style:"currency",currency:C(765),minimumFractionDigits:2})[C(1154)](M):"-"},_=M=>{const C=e;R[C(1093)]=M,x[C(1093)]=!0},c=()=>{k[e(1093)]=!0},U=async M=>{const C=e;v[C(1093)]=!0;try{const{data:y,error:n}=await F[C(1192)](u.developmentPlan.id,M);y&&!n?(g(C(520)),s(C(928))):g("Failed to create plan version",C(1037))}catch(y){g(C(984)+y.message,"error")}finally{v[C(1093)]=!1,k[C(1093)]=!1}},h=async()=>{const M=e;v[M(1093)]=!0;try{const{data:C,error:y}=await F[M(1100)](u[M(859)]);C&&!y?(g(M(474)),s("refresh")):g(M(686),M(1037))}catch(C){g("Failed to create development plan: "+C[M(662)],M(1037))}finally{v[M(1093)]=!1}},g=(M,C=e(593))=>{E.value={show:!0,text:M,color:C}},se=M=>{const C=e;if(!M)return[];try{return typeof M===C(519)?JSON[C(1152)](M):M}catch(y){return console[C(1037)](C(1181),y),[]}};return(M,C)=>{const y=e,n=he(y(582));return f(),B(W,{class:y(421)},{default:l(()=>[r[y(590)]?(f(),j("div",Es,[t(Me,{indeterminate:"",color:y(1187)})])):q(H)?(f(),j("div",Qs,[t(re,null,{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ae,{border:"",class:y(817)},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(Fe,{color:"primary",variant:y(1113),rounded:"",size:"42"},{default:l(()=>[t(L,{icon:y(1010)})]),_:1})]),append:l(()=>[t(X,{color:y(1187),size:y(773),label:"",class:y(448)},{default:l(()=>[b(" v"+w(r.developmentPlan[y(459)]),1)]),_:1}),t(X,{color:r.developmentPlan[y(1e3)]===y(683)?y(593):y(1055),size:"small",label:""},{default:l(()=>[b(w(r[y(702)][y(1e3)]),1)]),_:1},8,[y(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[b(y(445))]),_:1})]),_:1}),t(le),q(Q)?(f(),B(W,{key:0},{default:l(()=>[t(re,null,{default:l(()=>[t(J,{cols:"12",md:"4"},{default:l(()=>[m("div",Zs,[$s,m("div",Ks,w(D(q(Q).estimated_cost)),1),m(y(724),Ws,y(746)+w(z(q(Q).created_at)),1)])]),_:1}),t(J,{cols:"12",md:"8"},{default:l(()=>[Xs,t(st,{density:y(721)},{default:l(()=>[Ys,m("tbody",null,[(f(!0),j(te,null,ie(se(q(Q)[y(899)]),(p,o)=>{const V=y;return f(),j("tr",{key:o},[m("td",null,w(p[V(1126)]),1),m("td",er,w(p[V(439)]),1),m("td",tr,w(D(p[V(769)])),1)])}),128))])]),_:1}),t(G,{color:y(1187),variant:y(1113),class:y(953),size:"small",onClick:C[0]||(C[0]=p=>_(q(Q)))},{default:l(()=>[b(y(835))]),_:1})]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]),_:1}),t(J,{cols:"12"},{default:l(()=>[m("div",lr,[ar,q(I)?(f(),B(G,{key:0,color:y(1187),"prepend-icon":y(494),onClick:c,disabled:v[y(1093)]},{default:l(()=>[b(y(464))]),_:1},8,[y(413)])):O("",!0)]),q(S)[y(805)]>1?(f(),B(st,{key:0},{default:l(()=>[sr,m(y(1063),null,[(f(!0),j(te,null,ie(q(S),p=>{const o=y;return f(),j("tr",{key:p.id,class:ot({"bg-primary-lighten-5":p[o(873)]===r[o(702)][o(459)]}),style:{cursor:o(883)},onClick:V=>_(p)},[m("td",null,[m(o(724),or,[m(o(1075),nr,"v"+w(p[o(873)]),1),p[o(873)]===r[o(702)][o(459)]?(f(),B(X,{key:0,color:"primary",size:o(516),label:"",class:o(807)},{default:l(()=>[b(o(469))]),_:1})):O("",!0)])]),m("td",null,w(z(p[o(1150)])),1),m("td",null,[t(X,{color:p[o(1e3)]===o(683)?o(593):o(1055),size:o(773),label:""},{default:l(()=>[b(w(p[o(1e3)]),1)]),_:2},1032,[o(804)])]),m("td",ir,w(D(p[o(681)])),1),m("td",cr,[t(G,{icon:"",variant:o(774),size:"small",color:o(1187),onClick:qe(V=>_(p),["stop"])},{default:l(()=>[t(L,{icon:"tabler-eye"})]),_:2},1032,[o(684)])])],10,rr)}),128))])]),_:1})):q(S)[y(805)]===1?(f(),j(y(724),ur,dr)):(f(),j(y(724),mr,pr))]),_:1})]),_:1})])):(f(),j(y(724),Hs,[t(L,{icon:y(436),size:"64",color:"secondary",class:y(817)}),Gs,Js,q(I)?(f(),B(G,{key:0,color:"primary",onClick:h,loading:v[y(1093)]},{default:l(()=>[b(y(1168))]),_:1},8,[y(590)])):O("",!0)])),R.value?(f(),B(Ls,{key:3,modelValue:x[y(1093)],"onUpdate:modelValue":C[1]||(C[1]=p=>x.value=p),version:R[y(1093)],"is-current":R[y(1093)]&&r[y(702)]&&R[y(1093)][y(873)]===r[y(702)][y(459)],"is-admin":q($),"has-manager-permission":q(I),"plan-id":r.developmentPlan?r[y(702)].id:null,onRefresh:C[2]||(C[2]=p=>s("refresh"))},null,8,[y(780),"version",y(1190),y(1021),y(1197),y(940)])):O("",!0),t(Os,{modelValue:k[y(1093)],"onUpdate:modelValue":C[3]||(C[3]=p=>k[y(1093)]=p),"plan-id":r[y(702)]?r[y(702)].id:null,"current-version-number":r[y(702)]?r[y(702)][y(459)]:0,onSubmit:U},null,8,["modelValue","plan-id",y(1185)]),t(xe,{modelValue:E.value[y(1038)],"onUpdate:modelValue":C[5]||(C[5]=p=>E[y(1093)][y(1038)]=p),color:E[y(1093)][y(804)],timeout:5e3},{actions:l(()=>[t(n,{onClick:C[4]||(C[4]=p=>E[y(1093)][y(1038)]=!1)},{default:l(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:l(()=>[b(w(E[y(1093)][y(774)])+" ",1)]),_:1},8,[y(780),y(804)])]),_:1})}}},ye=r=>(Ue(a(987)),r=r(),De(),r),yr={key:0,class:"text-h5"},hr={key:1,class:a(756)},vr={key:0},_r={class:"align-center justify-space-between mb-3"},gr=ye(()=>m(a(724),{class:"text-subtitle-1 font-weight-medium"},"Acceptance Criteria",-1)),br={key:1,class:a(697)},kr={key:1},wr={class:a(515)},Vr={class:a(741)},xr={class:a(911)},Cr={class:a(688)},Ur={class:a(1059)},Dr={class:a(1018)},qr=ye(()=>m(a(1075),{class:"text-primary"},a(669),-1)),Sr={class:a(1018)},zr=ye(()=>m("span",{class:a(747)},a(412),-1)),jr={class:a(1018)},Fr=ye(()=>m("span",{class:a(747)},a(666),-1)),Mr={key:0},Ir=ye(()=>m(a(724),{class:a(820)},a(1003),-1)),Rr={key:1,class:a(424)},Pr={key:2,class:a(1009)},Ar=ye(()=>m("p",null,"This user story is currently being regenerated. Please check back shortly.",-1)),Br={key:0,class:a(781)},Lr=ye(()=>m("h4",{class:a(1058)},a(733),-1)),Tr=ye(()=>m("p",{class:a(422)},a(1045),-1)),Nr={key:1},Or={class:a(688)},Er={class:a(533)},Hr=ye(()=>m("span",{class:a(747)},a(669),-1)),Gr={class:"mb-2"},Jr=ye(()=>m(a(1075),{class:a(747)},a(412),-1)),Qr={class:a(817)},Zr=ye(()=>m(a(1075),{class:a(747)},a(666),-1)),$r={key:0},Kr=ye(()=>m(a(724),{class:a(1006)},"Acceptance Criteria:",-1)),Wr={class:"ms-3"},Xr={class:"text-caption mt-3"},Yr={class:a(503)},eo={key:1,class:"text-center pa-6"},to=ye(()=>m("h4",{class:"text-h6 mb-2"},a(546),-1)),lo=ye(()=>m("p",{class:"text-medium-emphasis"},a(1145),-1)),ao={key:2},so={class:a(946)},ro={class:"d-flex align-center"},oo={class:a(1147)},no={class:"comment-text mt-2 whitespace-pre-wrap"},io=ye(()=>m("p",{class:"text-body-1 mb-3"}," This will use AI to regenerate this user story based on your feedback and the associated requirement. ",-1)),co=Ce({__name:a(1083),props:{modelValue:{type:Boolean,default:!1},userStory:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[a(1172),"update",a(1188),a(785)],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:n=>s(e(1172),n)}),P=mt(),R=N(0),x=N(!1),k=N({...u.userStory}),v=N(""),E=N(""),$=N(""),I=N(!1),H=N(!1),S=N({show:!1,text:"",color:e(593)}),Q=[{title:e(782),value:e(536)},{title:e(925),value:e(683)},{title:"Archived",value:e(441)},{title:e(799),value:"completed"}],z=K(()=>u[e(614)].history||[]),D=K(()=>{const n=e;return u[n(614)][n(1024)]||[]}),_=n=>{const p=e;return n?(n=parseInt(n),new Date(n).toLocaleDateString("en-US",{year:p(955),month:"short",day:"numeric",hour:p(458),minute:"2-digit"})):""},c=()=>{const n=e;x[n(1093)]&&(k[n(1093)]={...u[n(614)]},v[n(1093)]=""),x[n(1093)]=!x[n(1093)]},U=()=>{const n=e;v[n(1093)][n(933)]()&&(!k[n(1093)][n(455)]&&(k[n(1093)][n(455)]=[]),k[n(1093)][n(455)][n(677)](v[n(1093)][n(933)]()),v.value="")},h=()=>{const n=e;s("update",k[n(1093)]),x[n(1093)]=!1},g=()=>{s(e(1188))},se=()=>{$[e(1093)]="",I.value=!0},M=()=>{const n=e;s(n(785),$.value),I[n(1093)]=!1},C=async()=>{const n=e;if(E[n(1093)][n(933)]()){H[n(1093)]=!0;try{const{data:p,error:o}=await P[n(1023)](u[n(614)].id,{text:E.value,status:n(683)});if(p&&!o){y(n(993)),E[n(1093)]="";const{data:V}=await P.fetchUserStoryById(u[n(614)].id);V&&Object[n(587)](u[n(614)],V)}else y(n(917),"error")}catch(p){y(n(843)+p[n(662)],n(1037))}finally{H[n(1093)]=!1}}},y=(n,p=e(593))=>{S[e(1093)]={show:!0,text:n,color:p}};return je(()=>u.userStory,n=>{k[e(1093)]={...n}},{deep:!0}),(n,p)=>{const o=e,V=he("IconBtn");return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":p[14]||(p[14]=d=>Ie(F)?F[o(1093)]=d:null),"max-width":o(619),scrollable:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:o(668)},{default:l(()=>[x[o(1093)]?(f(),j("h5",yr,o(463))):(f(),j("h5",hr,"User Story Details")),t(ee),t(V,{onClick:p[0]||(p[0]=d=>F[o(1093)]=!1)},{default:l(()=>[t(L,{icon:o(466)})]),_:1})]),_:1}),t(W,{class:o(1013)},{default:l(()=>[t(ct,{modelValue:R.value,"onUpdate:modelValue":p[1]||(p[1]=d=>R[o(1093)]=d),"slider-color":o(1187),"align-tabs":o(1117)},{default:l(()=>[t(_e,{value:"0"},{default:l(()=>[t(L,{size:"18",icon:o(919),start:""}),b(o(538))]),_:1}),t(_e,{value:"1"},{default:l(()=>[t(L,{size:"18",icon:o(976),start:""}),b(o(1144)),q(z).length?(f(),B(X,{key:0,size:o(516),color:o(1187),class:o(807)},{default:l(()=>[b(w(q(z)[o(805)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"2"},{default:l(()=>[t(L,{size:"18",icon:"tabler-messages",start:""}),b(o(758)),q(D)[o(805)]?(f(),B(X,{key:0,size:o(516),color:o(1187),class:"ms-2"},{default:l(()=>[b(w(q(D)[o(805)]),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,[o(780)])]),_:1}),t(le),t(W,{class:o(421),style:{"min-height":o(605),"max-height":"70vh"}},{default:l(()=>[t(dt,{modelValue:R[o(1093)],"onUpdate:modelValue":p[8]||(p[8]=d=>R[o(1093)]=d),class:"mt-5"},{default:l(()=>[t(ge,{value:"0"},{default:l(()=>[x[o(1093)]?(f(),j("div",vr,[t(Re,{onSubmit:qe(h,[o(1068)])},{default:l(()=>[t(re,{class:o(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[o(1093)][o(1126)],"onUpdate:modelValue":p[2]||(p[2]=d=>k.value[o(1126)]=d),label:"Role (As a...)",required:"",rules:[d=>!!d||"Role is required"]},null,8,["modelValue",o(889)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[o(1093)][o(603)],"onUpdate:modelValue":p[3]||(p[3]=d=>k[o(1093)][o(603)]=d),label:o(1103),required:"",rules:[d=>!!d||o(409)]},null,8,[o(780),o(889)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[o(1093)][o(808)],"onUpdate:modelValue":p[4]||(p[4]=d=>k.value[o(808)]=d),label:o(690),required:"",rules:[d=>!!d||o(648)]},null,8,[o(780),o(889)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:k[o(1093)][o(1e3)],"onUpdate:modelValue":p[5]||(p[5]=d=>k[o(1093)][o(1e3)]=d),label:o(447),items:Q,required:""},null,8,[o(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[m(o(724),_r,[gr,t(re,{class:"w-100"},{default:l(()=>[t(J,{cols:"10",sm:"8"},{default:l(()=>[t(ce,{modelValue:v.value,"onUpdate:modelValue":p[6]||(p[6]=d=>v[o(1093)]=d),placeholder:o(891),density:o(721),"hide-details":"",class:o(448),onKeyup:Ct(U,[o(1125)])},null,8,[o(780),"onKeyup"])]),_:1}),t(J,{cols:"2",sm:"4"},{default:l(()=>[t(G,{color:o(1187),size:o(773),disabled:!v[o(1093)][o(933)](),onClick:U},{default:l(()=>[b(o(927))]),_:1},8,[o(413)])]),_:1})]),_:1})]),k[o(1093)][o(455)]&&k[o(1093)][o(455)][o(805)]>0?(f(),B(tt,{key:0},{default:l(()=>[(f(!0),j(te,null,ie(k.value[o(455)],(d,i)=>{const A=o;return f(),B(lt,{key:i},{prepend:l(()=>[t(L,{icon:A(1069),color:A(593)})]),append:l(()=>[t(V,{color:"error",variant:A(774),size:A(773),onClick:ne=>(T=>{const Z=e;k[Z(1093)][Z(455)][Z(541)](T,1)})(i)},{default:l(()=>[t(L,{icon:"tabler-trash",size:"18"})]),_:2},1032,["onClick"])]),default:l(()=>[t(at,null,{default:l(()=>[b(w(d),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(f(),j(o(724),br,o(801)))]),_:1})]),_:1})]),_:1},8,[o(528)])])):(f(),j(o(724),kr,[m(o(724),wr,[t(X,{color:q(be)(r[o(614)].status),size:"small",label:"",class:o(448)},{default:l(()=>[b(w(Oe(r[o(614)][o(1e3)])),1)]),_:1},8,[o(804)]),t(X,{color:"secondary",size:o(773),label:"",class:o(807)},{default:l(()=>[b(" v"+w(r[o(614)][o(873)]),1)]),_:1}),t(ee),m(o(724),Vr,[t(L,{size:"18",icon:o(510),class:o(428)}),m(o(1075),xr,o(657)+w(_(r[o(614)].updated_at)),1),t(L,{size:"18",icon:o(921),class:o(428)}),m("span",Cr,o(740)+w(_(r[o(614)][o(1150)])),1)])]),m(o(724),Ur,[m(o(724),Dr,[qr,b(" "+w(r[o(614)].role)+", ",1)]),m("div",Sr,[zr,b(" "+w(r.userStory[o(603)])+", ",1)]),m(o(724),jr,[Fr,b(" "+w(r[o(614)][o(808)])+". ",1)])]),t(le,{class:"mb-4"}),r[o(614)][o(455)]&&r[o(614)][o(455)][o(805)]>0?(f(),j("div",Mr,[Ir,t(tt,null,{default:l(()=>[(f(!0),j(te,null,ie(r[o(614)][o(455)],(d,i)=>{const A=o;return f(),B(lt,{key:i,class:"px-0"},{prepend:l(()=>[t(L,{icon:A(1069),color:A(593),class:A(448)})]),default:l(()=>[t(at,null,{default:l(()=>[b(w(d),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})])):(f(),j(o(724),Rr,o(914))),r[o(614)][o(853)]==="in_progress"?(f(),j("div",Pr,[t(ut,{color:"info",variant:o(1113),icon:o(948)},{default:l(()=>[t(qt,null,{default:l(()=>[b("Regenerating User Story")]),_:1}),Ar]),_:1})])):O("",!0)]))]),_:1}),t(ge,{value:"1"},{default:l(()=>[q(z).length===0?(f(),j("div",Br,[t(L,{icon:o(976),size:"64",color:o(554),class:o(634)}),Lr,Tr])):(f(),j(o(724),Nr,[t(St,{density:"compact",align:"start"},{default:l(()=>[(f(!0),j(te,null,ie(q(z),(d,i)=>{const A=o;return f(),B(zt,{key:i,"dot-color":"primary",size:A(773)},{opposite:l(()=>[m("div",Or,w(_(d[A(1138)])),1),m("div",Er,"v"+w(d[A(873)]),1)]),default:l(()=>[t(ae,{border:""},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(Fe,{color:"primary",variant:"tonal",size:"36"},{default:l(()=>[t(L,{icon:A(919)})]),_:1})]),append:l(()=>[t(X,{color:q(be)(d.status),size:"small",label:"",class:A(807)},{default:l(()=>[b(w(d.status),1)]),_:2},1032,[A(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[Hr,b(" "+w(d[A(1126)]),1)]),_:2},1024)]),_:2},1024),t(W,null,{default:l(()=>[m("p",Gr,[Jr,b(" "+w(d.action),1)]),m("p",Qr,[Zr,b(" "+w(d[A(808)]),1)]),d[A(455)]&&d[A(455)][A(805)]>0?(f(),j("div",$r,[Kr,m("ul",Wr,[(f(!0),j(te,null,ie(d.acceptance_criteria,(ne,T)=>(f(),j("li",{key:T},w(ne),1))),128))])])):O("",!0),m(A(724),Xr,A(557)+w(d[A(923)]?d.changed_by[A(731)]:"System"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ge,{value:"2"},{default:l(()=>[t(re,{class:o(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:E[o(1093)],"onUpdate:modelValue":p[7]||(p[7]=d=>E[o(1093)]=d),label:o(456),rows:"3",counter:"",disabled:H[o(1093)]},null,8,[o(780),o(413)]),m(o(724),Yr,[t(G,{color:"primary",size:o(773),loading:H[o(1093)],disabled:!E[o(1093)][o(933)](),onClick:C},{default:l(()=>[b(o(558))]),_:1},8,["loading",o(413)])])]),_:1}),t(J,{cols:"12"},{default:l(()=>[q(D).length?(f(),B(le,{key:0,class:"mb-4"})):O("",!0),q(D)[o(805)]===0?(f(),j(o(724),eo,[t(L,{icon:o(1166),size:"64",color:o(554),class:o(634)}),to,lo])):(f(),j(o(724),ao,[(f(!0),j(te,null,ie(q(D),d=>{const i=o;return f(),j(i(724),{key:d.id,class:i(886)},[t(ae,{border:""},{default:l(()=>[t(W,{class:i(1043)},{default:l(()=>[m(i(724),so,[t(Fe,{color:i(1187),variant:"tonal",size:"36",class:i(920)},{default:l(()=>[t(L,{icon:i(847)})]),_:1}),m(i(724),null,[m(i(724),ro,[m(i(717),null,w(d[i(631)]?d[i(631)][i(731)]:i(673)),1),m("div",oo,w(_(d[i(1150)])),1)])]),t(ee),r.isAdmin||r[i(658)]?(f(),B(V,{key:0,size:i(773),color:i(1037),variant:i(774),onClick:A=>(async ne=>{const T=e;H[T(1093)]=!0;try{const{success:Z,error:me}=await P.deleteComment(ne);if(Z&&!me){y("Comment deleted successfully");const{data:we}=await P[T(644)](u[T(614)].id);we&&Object[T(587)](u.userStory,we)}else y("Failed to delete comment",T(1037))}catch(Z){y("Failed to delete comment: "+Z[T(662)],T(1037))}finally{H[T(1093)]=!1}})(d.id),disabled:H[i(1093)]},{default:l(()=>[t(L,{icon:"tabler-trash",size:"18"})]),_:2},1032,[i(684),i(413)])):O("",!0)]),m(i(724),no,w(d[i(774)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(le),t(ue,{class:o(875)},{default:l(()=>[x[o(1093)]?(f(),j(te,{key:0},[t(G,{color:"secondary",variant:o(1113),onClick:c},{default:l(()=>[b(" Cancel ")]),_:1}),t(ee),t(G,{color:o(1187),onClick:h},{default:l(()=>[b(" Save Changes ")]),_:1})],64)):(f(),j(te,{key:1},[r.isAdmin?(f(),B(G,{key:0,color:o(1037),variant:o(1113),"prepend-icon":o(671),onClick:g},{default:l(()=>[b(o(1101))]),_:1})):O("",!0),r[o(685)]?(f(),B(G,{key:1,color:o(893),variant:"tonal","prepend-icon":o(948),class:o(807),onClick:se},{default:l(()=>[b(o(698))]),_:1})):O("",!0),t(ee),r[o(685)]?(f(),B(G,{key:2,color:o(1187),"prepend-icon":o(1142),onClick:c},{default:l(()=>[b(" Edit ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(Ve,{modelValue:I.value,"onUpdate:modelValue":p[11]||(p[11]=d=>I[o(1093)]=d),"max-width":o(521),persistent:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:o(942)},{default:l(()=>[b(o(1002))]),_:1}),t(W,null,{default:l(()=>[io,t(ke,{modelValue:$[o(1093)],"onUpdate:modelValue":p[9]||(p[9]=d=>$.value=d),label:o(714),placeholder:o(1118),rows:"4",counter:""},null,8,["modelValue"])]),_:1}),t(ue,null,{default:l(()=>[t(G,{color:o(554),variant:o(1113),onClick:p[10]||(p[10]=d=>I[o(1093)]=!1)},{default:l(()=>[b(o(678))]),_:1}),t(ee),t(G,{color:o(1187),onClick:M},{default:l(()=>[b(o(698))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(xe,{modelValue:S.value[o(1038)],"onUpdate:modelValue":p[13]||(p[13]=d=>S[o(1093)][o(1038)]=d),color:S[o(1093)][o(804)],timeout:5e3},{actions:l(()=>[t(V,{onClick:p[12]||(p[12]=d=>S[o(1093)][o(1038)]=!1)},{default:l(()=>[t(L,{icon:o(466)})]),_:1})]),default:l(()=>[b(w(S[o(1093)][o(774)])+" ",1)]),_:1},8,["modelValue",o(804)])]),_:1},8,[o(780)])}}},[[a(1139),a(987)]]),uo={class:"text-h5"},mo=m(a(724),{class:"text-subtitle-1 font-weight-medium"},"Acceptance Criteria",-1),po={class:a(571)},fo={key:1,class:a(697)},yo={__name:a(513),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},userStoryData:{type:Object,default:()=>({})}},emits:[a(1172),a(1094)],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:z=>s(e(1172),z)}),P=N({role:u[e(918)]&&u[e(981)]?u.userStoryData[e(1126)]:"",action:u.editMode&&u[e(981)]?u.userStoryData.action:"",benefit:u[e(918)]&&u.userStoryData?u.userStoryData[e(808)]:"",acceptance_criteria:u[e(918)]&&u[e(981)]?[...u[e(981)].acceptance_criteria]:[],status:u[e(918)]&&u[e(981)]?u[e(981)][e(1e3)]:"draft"}),R=N(""),x=N(null),k=[z=>!!z||e(874)],v=[z=>!!z||e(409)],E=[z=>!!z||e(648)],$=[{title:e(782),value:e(536)},{title:e(925),value:e(683)},{title:"Archived",value:e(441)},{title:e(799),value:e(999)}],I=()=>{const z=e;R[z(1093)][z(933)]()&&(!P[z(1093)][z(455)]&&(P[z(1093)][z(455)]=[]),P.value[z(455)].push(R[z(1093)][z(933)]()),R[z(1093)]="")},H=()=>{const z=e;P[z(1093)]={role:"",action:"",benefit:"",acceptance_criteria:[],status:"draft"},R[z(1093)]="",x[z(1093)]&&x[z(1093)][z(922)]()},S=()=>{F[e(1093)]=!1,H()},Q=async()=>{const z=e,{valid:D}=await x[z(1093)][z(479)]();D&&(s("submit",P[z(1093)]),F.value=!1,H())};return je(F,z=>{z||H()}),(z,D)=>{const _=e,c=he(_(582));return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":D[5]||(D[5]=U=>Ie(F)?F[_(1093)]=U:null),"max-width":"700",persistent:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:"d-flex pt-5 px-5"},{default:l(()=>[m("h5",uo,w(u[_(918)]?_(463):_(1109)),1),t(ee),t(c,{onClick:S},{default:l(()=>[t(L,{icon:_(466)})]),_:1})]),_:1}),t(W,{class:_(966)},{default:l(()=>[t(Re,{ref_key:_(1134),ref:x,onSubmit:qe(Q,[_(1068)])},{default:l(()=>[t(re,{class:_(437)},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:P[_(1093)].role,"onUpdate:modelValue":D[0]||(D[0]=U=>P[_(1093)].role=U),label:"Role (As a...)",rules:k,placeholder:_(438),required:""},null,8,[_(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:P[_(1093)][_(603)],"onUpdate:modelValue":D[1]||(D[1]=U=>P[_(1093)].action=U),label:_(1103),rules:v,placeholder:_(723),required:""},null,8,[_(780)])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:P[_(1093)][_(808)],"onUpdate:modelValue":D[2]||(D[2]=U=>P.value.benefit=U),label:"Benefit (So that...)",rules:E,placeholder:_(1082),required:""},null,8,[_(780)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:P[_(1093)][_(1e3)],"onUpdate:modelValue":D[3]||(D[3]=U=>P.value.status=U),label:_(447),items:$,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:l(()=>[mo,m(_(724),po,[t(re,{class:_(929)},{default:l(()=>[t(J,{cols:"10",sm:"8"},{default:l(()=>[t(ce,{modelValue:R.value,"onUpdate:modelValue":D[4]||(D[4]=U=>R[_(1093)]=U),placeholder:"Add new criterion",density:_(721),"hide-details":"",class:"me-2",onKeyup:Ct(I,["enter"])},null,8,[_(780),"onKeyup"])]),_:1}),t(J,{cols:"2",sm:"4"},{default:l(()=>[t(G,{color:_(1187),size:_(773),disabled:!R[_(1093)][_(933)](),onClick:I},{default:l(()=>[b(_(927))]),_:1},8,[_(413)])]),_:1})]),_:1})]),P.value[_(455)]&&P[_(1093)][_(455)].length>0?(f(),B(tt,{key:0},{default:l(()=>[(f(!0),j(te,null,ie(P.value[_(455)],(U,h)=>{const g=_;return f(),B(lt,{key:h},{prepend:l(()=>[t(L,{icon:"tabler-check",color:g(593)})]),append:l(()=>[t(c,{color:g(1037),variant:"text",size:g(773),onClick:se=>(M=>{const C=e;P.value[C(455)][C(541)](M,1)})(h)},{default:l(()=>[t(L,{icon:g(671),size:"18"})]),_:2},1032,[g(684)])]),default:l(()=>[t(at,null,{default:l(()=>[b(w(U),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(f(),j(_(724),fo,_(530)))]),_:1})]),_:1})]),_:1},8,[_(528)])]),_:1}),t(le),t(ue,{class:_(875)},{default:l(()=>[t(G,{variant:_(1113),color:_(554),onClick:S},{default:l(()=>[b(_(678))]),_:1}),t(ee),t(G,{color:"primary",onClick:Q},{default:l(()=>[b(w(u[_(918)]?"Update":_(706))+" User Story ",1)]),_:1})]),_:1})]),_:1})]),_:1},8,[_(780)])}}},Ke=r=>(Ue(a(703)),r=r(),De(),r),ho={key:0,class:a(704),style:{height:"300px"}},vo={key:1,class:a(842)},_o=Ke(()=>m("h4",{class:a(1058)},a(975),-1)),go={class:a(727)},bo={class:a(1151)},ko=Ke(()=>m(a(1075),{class:"font-weight-medium text-primary"},a(549),-1)),wo={class:a(884)},Vo=Ke(()=>m(a(1075),{class:a(660)},a(485),-1)),xo={key:0},Co=Ke(()=>m(a(724),{class:"text-subtitle-2 font-weight-medium mb-2 text-primary"},a(796),-1)),Uo={class:"ml-4"},Do={key:0},qo={class:a(915)},So={class:a(946)},zo={class:"text-caption"},jo={class:"d-flex align-center"},Fo={class:a(688)},Mo=Ce({__name:a(766),props:{projectId:{type:String,required:!0},requirementId:{type:String,required:!1,default:null},userStories:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:s}){const e=a,u=r,F=mt(),P=Ae(),R=N(""),x=N(e(1155)),k=N(null),v=N(!1),E=N(!1),$=N(!1),I=N(!1),H=N({show:!1,text:"",color:e(593)}),S=K(()=>P[e(789)]()),Q=K(()=>P[e(742)][e(1126)]>=2),z=K(()=>P.userData.role>=3),D=[{title:e(402),value:"all"},{title:e(782),value:e(536)},{title:e(925),value:e(683)},{title:e(1165),value:e(441)},{title:e(799),value:"completed"}],_=K(()=>{const y=e;return u[y(1160)][y(1156)](n=>{const p=y,o=!R[p(1093)]||n[p(1126)][p(968)]()[p(470)](R[p(1093)][p(968)]())||n[p(603)][p(968)]()[p(470)](R.value[p(968)]())||n[p(808)][p(968)]()[p(470)](R.value[p(968)]()),V=x[p(1093)]==="all"||n[p(1e3)]===x[p(1093)];return o&&V})}),c=()=>{E[e(1093)]=!0},U=async y=>{const n=e;I[n(1093)]=!0;try{const{data:p,error:o}=await F[n(882)]({...y,requirement:u[n(482)]});p&&!o?(M(n(548)),s(n(928))):M(n(1114),"error")}catch(p){M(n(960)+p[n(662)],n(1037))}finally{I[n(1093)]=!1}},h=async y=>{const n=e;I[n(1093)]=!0;try{const{data:p,error:o}=await F[n(599)](k[n(1093)].id,y);p&&!o?(M(n(829)),s(n(928))):M(n(1086),n(1037))}catch(p){M(n(850)+p[n(662)],n(1037))}finally{I[n(1093)]=!1}},g=async()=>{const y=e;if(k[y(1093)]){I[y(1093)]=!0,$[y(1093)]=!1;try{const{success:n,error:p}=await F[y(418)](k.value.id);n&&!p?(M(y(451)),s(y(928)),v[y(1093)]=!1):M(y(1004),"error")}catch(n){M(y(664)+n[y(662)],y(1037))}finally{I[y(1093)]=!1}}},se=async(y="")=>{const n=e;if(k[n(1093)]){I[n(1093)]=!0;try{const{data:p,error:o}=await F.regenerateUserStory(k[n(1093)].id,y);p&&!o?(M(n(696)),setTimeout(()=>{s("refresh")},3e3)):M(n(952),n(1037))}catch(p){M(n(579)+p.message,n(1037))}finally{I[n(1093)]=!1}}},M=(y,n=e(593))=>{H.value={show:!0,text:y,color:n}},C=y=>{const n=e;return y?(y=parseInt(y),new Date(y)[n(1157)](n(879),{year:n(955),month:n(947),day:n(955)})):""};return nt(()=>{const y=e;u[y(482)]&&!u[y(1160)][y(805)]&&!u.loading&&F.fetchUserStories(u.requirementId).then(({data:n})=>{n&&s(y(928))})}),(y,n)=>{const p=e,o=Ee,V=he(p(582));return f(),B(W,{class:p(421)},{default:l(()=>[t(re,null,{default:l(()=>[t(J,{cols:"12",md:"6"},{default:l(()=>[t(ce,{modelValue:R[p(1093)],"onUpdate:modelValue":n[0]||(n[0]=d=>R.value=d),density:p(721),placeholder:p(767),"prepend-inner-icon":p(534),"hide-details":"",variant:"outlined",clearable:""},null,8,[p(780)])]),_:1}),t(J,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:x[p(1093)],"onUpdate:modelValue":n[1]||(n[1]=d=>x[p(1093)]=d),items:D,density:p(721),"hide-details":"",label:p(447),variant:p(687)},null,8,[p(780)])]),_:1}),t(J,{cols:"12",md:"2",class:p(946)},{default:l(()=>[q(z)&&r.requirementId?(f(),B(G,{key:0,color:p(1187),"prepend-icon":p(494),onClick:c,loading:I.value,block:""},{default:l(()=>[b(p(927))]),_:1},8,[p(590)])):O("",!0)]),_:1})]),_:1}),t(le,{class:p(967)}),r[p(590)]?(f(),j(p(724),ho,[t(Me,{indeterminate:"",color:"primary"})])):q(_)[p(805)]===0?(f(),j(p(724),vo,[t(L,{icon:p(945),size:"64",color:p(554),class:p(817)}),_o,m("p",go,w(R[p(1093)]||x[p(1093)]!=="all"?"Try adjusting your filters to see more results.":p(596)),1),q(z)&&r[p(482)]&&!R[p(1093)]&&x[p(1093)]===p(1155)?(f(),B(G,{key:0,color:p(1187),onClick:c,"prepend-icon":p(494)},{default:l(()=>[b(p(1007))]),_:1})):O("",!0)])):(f(),B(re,{key:2},{default:l(()=>[(f(!0),j(te,null,ie(q(_),d=>{const i=p;return f(),B(J,{key:d.id,cols:"12",md:"6"},{default:l(()=>[t(ae,{class:i(613),onClick:A=>(ne=>{const T=e;k.value=ne,v[T(1093)]=!0})(d),border:"",hover:""},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(Fe,{color:i(1187),variant:i(1113),size:"42"},{default:l(()=>[t(L,{icon:i(919)})]),_:1})]),append:l(()=>[t(X,{color:q(be)(d[i(1e3)]),size:"small",label:""},{default:l(()=>[b(w(d[i(1e3)]),1)]),_:2},1032,[i(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[b(i(752)+w(d.role),1)]),_:2},1024)]),_:2},1024),t(W,{class:i(783)},{default:l(()=>[m("p",bo,[ko,b(" "+w(d[i(603)]),1)]),m("p",wo,[Vo,b(" "+w(d[i(808)]),1)]),d[i(455)]&&d.acceptance_criteria.length>0?(f(),j(i(724),xo,[Co,m("ul",Uo,[(f(!0),j(te,null,ie(d[i(455)][i(1080)](0,2),(A,ne)=>(f(),j("li",{key:ne},w(A),1))),128)),d[i(455)][i(805)]>2?(f(),j("li",Do,i(1025)+w(d[i(455)][i(805)]-2)+i(501),1)):O("",!0)])])):O("",!0),t(ee),m(i(724),qo,[m(i(724),So,[t(L,{size:"16",icon:"tabler-calendar",class:i(428)}),m(i(1075),zo,w(C(d[i(822)])),1)]),m(i(724),jo,[t(L,{size:"16",icon:i(976),class:i(428)}),m(i(1075),Fo,"v"+w(d[i(873)]),1)])])]),_:2},1024)]),_:2},1032,[i(684)])]),_:2},1024)}),128))]),_:1})),k[p(1093)]?(f(),B(co,{key:3,modelValue:v.value,"onUpdate:modelValue":n[2]||(n[2]=d=>v[p(1093)]=d),"user-story":k[p(1093)],onDelete:n[3]||(n[3]=d=>$[p(1093)]=!0),onUpdate:h,onRegenerate:se,"is-admin":q(S),"has-manager-permission":q(Q),"has-moderator-permission":q(z)},null,8,[p(780),p(453),p(1021),p(1197),p(969)])):O("",!0),t(yo,{modelValue:E[p(1093)],"onUpdate:modelValue":n[4]||(n[4]=d=>E[p(1093)]=d),onSubmit:U},null,8,["modelValue"]),t(o,{isDialogVisible:$.value,"onUpdate:isDialogVisible":n[5]||(n[5]=d=>$[p(1093)]=d),confirmationMsg:"Are you sure you want to delete this user story? This action cannot be undone.",onConfirm:g},null,8,[p(1022)]),t(xe,{modelValue:H[p(1093)].show,"onUpdate:modelValue":n[7]||(n[7]=d=>H[p(1093)][p(1038)]=d),color:H[p(1093)].color,timeout:5e3},{actions:l(()=>[t(V,{onClick:n[6]||(n[6]=d=>H.value[p(1038)]=!1)},{default:l(()=>[t(L,{icon:p(466)})]),_:1})]),default:l(()=>[b(w(H[p(1093)].text)+" ",1)]),_:1},8,[p(780),p(804)])]),_:1})}}},[[a(1139),a(703)]]),He=r=>(Ue("data-v-9ece2766"),r=r(),De(),r),Io={key:0,class:a(756)},Ro={class:"text-h5"},Po={key:0},Ao=He(()=>m("div",{class:a(1130)},"Diagram Content (SVG)",-1)),Bo={class:a(635)},Lo=He(()=>m(a(724),{class:a(481)},a(719),-1)),To={key:1},No={key:0,class:a(626)},Oo=He(()=>m("p",null,a(416),-1)),Eo={class:"d-flex justify-center my-8"},Ho={class:"d-flex align-center justify-center text-medium-emphasis"},Go={class:a(911)},Jo={class:a(688)},Qo={key:1,class:"diagram-content pa-0"},Zo={class:a(977)},$o={key:0,class:a(807)},Ko={class:a(741)},Wo={class:"text-caption me-4"},Xo={class:"text-caption"},Yo={key:2,class:a(1174),style:{height:a(605)}},e1=He(()=>m("h4",{class:a(1058)},"No Diagram Content",-1)),t1=He(()=>m("p",{class:a(602)}," This diagram doesn't have any content to display. Try regenerating it. ",-1)),l1=Ce({__name:a(722),props:{modelValue:{type:Boolean,default:!1},diagram:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:["update:modelValue",a(1188),a(785)],setup(r,{emit:s}){const e=a,u=r,F=K({get:()=>u[e(780)],set:U=>s(e(1172),U)}),P=pt(),R=N(!1),x=N(!1),k=N({...u[e(759)]}),v=N(!1),E=N({show:!1,text:"",color:"success"}),$=[{title:e(782),value:e(536)},{title:"Active",value:"active"},{title:"Archived",value:e(441)},{title:e(799),value:e(999)}],I=U=>{const h=e;return U?(U=parseInt(U),new Date(U)[h(1157)]("en-US",{year:h(955),month:h(947),day:h(955),hour:h(458),minute:"2-digit"})):""},H=U=>{const h=e;switch(U[h(968)]()){case h(468):return h(880);case"sequence":return h(761);case"activity":return h(1195);case h(1034):return h(638);case h(803):return"State Diagram";case h(849):return h(461);case"deployment":return"Deployment Diagram";case"er":return"ER Diagram";default:return U.charAt(0)[h(990)]()+U.slice(1)+h(743)}},S=()=>{const U=e;R[U(1093)]=!R[U(1093)]},Q=()=>{const U=e;x[U(1093)]&&(k[U(1093)]={...u[U(759)]}),x[U(1093)]=!x[U(1093)]},z=async()=>{const U=e;v[U(1093)]=!0;try{const{data:h,error:g}=await P.updateDiagram(u.diagram.id,k.value);h&&!g?(c(U(623)),Object[U(587)](u[U(759)],h),x[U(1093)]=!1):c(U(950),U(1037))}catch(h){c(U(806)+h[U(662)],"error")}finally{v[U(1093)]=!1}},D=()=>{s(e(1188))},_=async()=>{const U=e;v[U(1093)]=!0;try{const{data:h,error:g}=await P[U(1127)](u[U(759)].id);h&&!g?(c(U(926)),setTimeout(()=>{s(U(785))},3e3)):c(U(728),U(1037))}catch(h){c("Failed to regenerate UML diagram: "+h.message,U(1037))}finally{v[U(1093)]=!1}},c=(U,h=e(593))=>{E[e(1093)]={show:!0,text:U,color:h}};return je(()=>u[e(759)],U=>{k[e(1093)]={...U}},{deep:!0}),(U,h)=>{const g=e,se=he(g(582));return f(),B(Ve,{modelValue:q(F),"onUpdate:modelValue":h[7]||(h[7]=M=>Ie(F)?F[g(1093)]=M:null),fullscreen:R[g(1093)],"max-width":R[g(1093)]?g(784):g(619),scrollable:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:g(577)},{default:l(()=>[x[g(1093)]?(f(),j("h5",Io,"Edit UML Diagram")):(f(),j(te,{key:1},[m("h5",Ro,w(r[g(759)][g(1170)]),1),t(X,{class:g(807),color:"secondary",size:g(773),label:""},{default:l(()=>[b(w(H(r.diagram.diagram_type)),1)]),_:1})],64)),t(ee),t(G,{icon:"",variant:g(774),onClick:S},{default:l(()=>[t(L,{icon:R[g(1093)]?g(496):g(989)},null,8,[g(909)])]),_:1}),t(se,{onClick:h[0]||(h[0]=M=>F[g(1093)]=!1)},{default:l(()=>[t(L,{icon:g(466)})]),_:1})]),_:1}),t(le),t(W,{class:ot({"pa-0":!x[g(1093)]&&r.diagram[g(881)],"pa-6":x.value||!r[g(759)].content}),style:Te({height:R[g(1093)]?g(601):g(588),maxHeight:g(797)})},{default:l(()=>[x.value?(f(),j(g(724),Po,[t(Re,{onSubmit:qe(z,[g(1068)])},{default:l(()=>[t(re,{class:"mt-3"},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ce,{modelValue:k[g(1093)].name,"onUpdate:modelValue":h[1]||(h[1]=M=>k[g(1093)][g(1170)]=M),label:"Diagram Name",required:"",rules:[M=>!!M||"Name is required"]},null,8,[g(780),g(889)])]),_:1}),t(J,{cols:"12",md:"6"},{default:l(()=>[t(de,{modelValue:k[g(1093)][g(1e3)],"onUpdate:modelValue":h[2]||(h[2]=M=>k[g(1093)][g(1e3)]=M),label:g(447),items:$,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:l(()=>[t(ke,{modelValue:k.value[g(1173)],"onUpdate:modelValue":h[3]||(h[3]=M=>k[g(1093)][g(1173)]=M),label:g(569),rows:"4"},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:l(()=>[Ao,m("div",Bo,[Lo,t(ke,{modelValue:k[g(1093)][g(881)],"onUpdate:modelValue":h[4]||(h[4]=M=>k.value[g(881)]=M),rows:"15",monospace:"","hide-details":""},null,8,[g(780)])])]),_:1})]),_:1})]),_:1},8,[g(528)])])):(f(),j("div",To,[r[g(759)].generation_status===g(771)?(f(),j(g(724),No,[t(ut,{color:g(893),variant:"tonal",icon:g(948)},{default:l(()=>[t(qt,null,{default:l(()=>[b(g(450))]),_:1}),Oo]),_:1}),m(g(724),Eo,[t(Me,{indeterminate:"",color:g(1187),size:"64"})]),m(g(724),Ho,[t(L,{size:"18",icon:g(510),class:"me-1"}),m(g(1075),Go,"Updated: "+w(I(r[g(759)][g(822)])),1),t(L,{size:"18",icon:g(921),class:g(428)}),m(g(1075),Jo,g(740)+w(I(r[g(759)][g(1150)])),1)])])):r[g(759)].content?(f(),j("div",Qo,[m("div",Zo,[t(X,{color:q(be)(r[g(759)].status),size:g(773),label:"",class:g(448)},{default:l(()=>[b(w(r.diagram[g(1e3)]),1)]),_:1},8,["color"]),r[g(759)][g(1173)]?(f(),j("div",$o,[t(Kt,null,{activator:l(({props:M})=>[t(L,Ht({icon:g(720),size:"18",color:g(893)},M),null,16)]),default:l(()=>[m("span",null,w(r[g(759)][g(1173)]),1)]),_:1})])):O("",!0),t(ee),m("div",Ko,[t(L,{size:"18",icon:"tabler-calendar",class:g(428)}),m(g(1075),Wo,g(657)+w(I(r[g(759)].updated_at)),1),t(L,{size:"18",icon:"tabler-calendar-plus",class:g(428)}),m(g(1075),Xo,g(740)+w(I(r[g(759)][g(1150)])),1)])]),t(le),m(g(724),{class:"diagram-svg-container pa-4 d-flex justify-center align-center",style:Te({height:R.value?g(1092):g(1051),overflow:"auto"})},[r.diagram[g(881)]?(f(),B(Ut,{key:0,src:q(Dt)(r[g(759)][g(881)]),class:g(543),alt:g(1056)},null,8,[g(762)])):O("",!0)],4)])):(f(),j(g(724),Yo,[t(L,{icon:"tabler-chart-dots-2",size:"64",color:"secondary",class:g(817)}),e1,t1]))]))]),_:1},8,["class",g(1136)]),t(le),t(ue,{class:g(875)},{default:l(()=>[x[g(1093)]?(f(),j(te,{key:0},[t(G,{color:"secondary",variant:g(1113),onClick:Q,disabled:v[g(1093)]},{default:l(()=>[b(" Cancel ")]),_:1},8,[g(413)]),t(ee),t(G,{color:g(1187),onClick:z,loading:v[g(1093)]},{default:l(()=>[b(g(855))]),_:1},8,[g(590)])],64)):(f(),j(te,{key:1},[r.isAdmin?(f(),B(G,{key:0,color:g(1037),variant:g(1113),"prepend-icon":g(671),onClick:D},{default:l(()=>[b(g(1101))]),_:1})):O("",!0),r[g(685)]?(f(),B(G,{key:1,color:g(893),variant:g(1113),"prepend-icon":g(948),class:"ms-2",onClick:_,loading:v.value},{default:l(()=>[b(" Regenerate ")]),_:1},8,[g(590)])):O("",!0),t(ee),r.hasModeratorPermission?(f(),B(G,{key:2,color:"primary","prepend-icon":g(1142),onClick:Q},{default:l(()=>[b(g(674))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:E[g(1093)][g(1038)],"onUpdate:modelValue":h[6]||(h[6]=M=>E[g(1093)][g(1038)]=M),color:E[g(1093)][g(804)],timeout:5e3},{actions:l(()=>[t(se,{onClick:h[5]||(h[5]=M=>E.value.show=!1)},{default:l(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:l(()=>[b(w(E.value[g(774)])+" ",1)]),_:1},8,[g(780),"color"])]),_:1},8,[g(780),g(895),g(836)])}}},[[a(1139),"data-v-9ece2766"]]),We=r=>(Ue(a(627)),r=r(),De(),r),a1={key:0,class:"d-flex justify-center align-center",style:{height:a(1199)}},s1={key:1,class:a(842)},r1=We(()=>m("h4",{class:a(1058)},a(1042),-1)),o1={class:"text-body-1 text-medium-emphasis mb-6"},n1={class:a(764)},i1={class:"diagram-preview mb-3"},c1={class:a(653),style:{height:a(1076)}},u1={class:a(816)},d1={key:0,class:"text-center pa-2"},m1=We(()=>m("div",{class:"text-caption"},a(809),-1)),p1={key:1,class:a(934)},f1={key:2,class:a(1200)},y1=We(()=>m("div",{class:a(1201)},a(609),-1)),h1={class:a(1198)},v1={class:"d-flex align-center justify-space-between"},_1={class:a(946)},g1={class:a(688)},b1=We(()=>m("p",{class:"text-body-1 mb-4"},a(854),-1)),k1=Ce({__name:a(904),props:{projectId:{type:String,required:!0},diagrams:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:s}){const e=a,u=r,F=pt(),P=Ae(),R=N(""),x=N(e(1155)),k=N(null),v=N(!1),E=N(!1),$=N(!1),I=N(!1),H=N({show:!1,text:"",color:"success"}),S=K(()=>P[e(789)]()),Q=K(()=>P[e(742)][e(1126)]>=2),z=K(()=>P[e(742)][e(1126)]>=3),D=[{title:"All Diagram Types",value:e(1155)},{title:"Class Diagram",value:e(468)},{title:"Sequence Diagram",value:e(982)},{title:e(1195),value:e(1052)},{title:e(638),value:"usecase"},{title:e(907),value:e(803)},{title:"Component Diagram",value:"component"},{title:"Deployment Diagram",value:e(560)},{title:e(529),value:"er"}],_=N(e(468)),c=K(()=>{const n=e;return u[n(576)][n(1156)](p=>{const o=n,V=!R[o(1093)]||p[o(1170)][o(968)]()[o(470)](R.value.toLowerCase())||p.diagram_type[o(968)]()[o(470)](R[o(1093)][o(968)]()),d=x.value===o(1155)||p[o(841)].toLowerCase()===x[o(1093)][o(968)]();return V&&d})}),U=()=>{const n=e;_[n(1093)]=n(468),$[n(1093)]=!0},h=async()=>{const n=e;$[n(1093)]=!1,I.value=!0;try{const{data:p,error:o}=await F[n(979)](u[n(859)],_[n(1093)]);p&&!o?(se(_[n(1093)][n(408)](0)[n(990)]()+_[n(1093)][n(1080)](1)+n(810)),setTimeout(()=>{s(n(928))},3e3)):se("Failed to generate UML diagrams","error")}catch(p){se(n(591)+p[n(662)],"error")}finally{I[n(1093)]=!1}},g=async()=>{const n=e;if(k.value){I[n(1093)]=!0,E[n(1093)]=!1;try{const{success:p,error:o}=await F[n(1026)](k[n(1093)].id);p&&!o?(se(n(1073)),s(n(928)),v[n(1093)]=!1):se(n(404),"error")}catch(p){se(n(594)+p[n(662)],"error")}finally{I[n(1093)]=!1}}},se=(n,p=e(593))=>{H[e(1093)]={show:!0,text:n,color:p}},M=n=>{const p=e;return n?(n=parseInt(n),new Date(n)[p(1157)](p(879),{year:p(955),month:p(947),day:"numeric"})):""},C=n=>{const p=e;switch(n[p(968)]()){case p(468):return p(715);case p(982):return p(1119);case"activity":return p(654);case p(1034):return p(919);case"state":return p(1135);case p(849):return"tabler-puzzle";case p(560):return"tabler-server";case"er":return"tabler-database";default:return"tabler-chart-dots"}},y=n=>{const p=e;switch(n.toLowerCase()){case"class":return p(880);case"sequence":return p(761);case p(1052):return"Activity Diagram";case p(1034):return p(638);case"state":return p(907);case p(849):return"Component Diagram";case"deployment":return p(939);case"er":return p(529);default:return n[p(408)](0)[p(990)]()+n[p(1080)](1)+" Diagram"}};return nt(()=>{const n=e;u[n(859)]&&!u[n(576)][n(805)]&&!u[n(590)]&&F[n(1049)](u[n(859)])[n(699)](({data:p})=>{p&&s(n(928))})}),(n,p)=>{const o=e,V=Ee,d=he(o(582));return f(),B(W,{class:o(421)},{default:l(()=>[t(re,null,{default:l(()=>[t(J,{cols:"12",md:"4"},{default:l(()=>[t(ce,{modelValue:R.value,"onUpdate:modelValue":p[0]||(p[0]=i=>R[o(1093)]=i),density:o(721),placeholder:o(1124),"prepend-inner-icon":o(534),"hide-details":"",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:x[o(1093)],"onUpdate:modelValue":p[1]||(p[1]=i=>x.value=i),items:D,density:o(721),"hide-details":"",label:o(462),variant:o(687)},null,8,[o(780)])]),_:1}),t(J,{cols:"12",md:"4",class:"d-flex align-center"},{default:l(()=>[q(z)?(f(),B(G,{key:0,color:o(1187),"prepend-icon":o(494),onClick:U,loading:I[o(1093)],block:""},{default:l(()=>[b(o(1123))]),_:1},8,["loading"])):O("",!0)]),_:1})]),_:1}),t(le,{class:o(967)}),r[o(590)]?(f(),j("div",a1,[t(Me,{indeterminate:"",color:"primary"})])):q(c).length===0?(f(),j(o(724),s1,[t(L,{icon:o(414),size:"64",color:o(554),class:o(817)}),r1,m("p",o1,w(R[o(1093)]||x[o(1093)]!==o(1155)?o(598):o(410)),1),q(z)&&!R[o(1093)]&&x[o(1093)]==="all"?(f(),B(G,{key:0,color:"primary",onClick:U,"prepend-icon":"tabler-plus"},{default:l(()=>[b(o(1202))]),_:1})):O("",!0)])):(f(),B(re,{key:2},{default:l(()=>[(f(!0),j(te,null,ie(q(c),i=>{const A=o;return f(),B(J,{key:i.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(ae,{class:A(492),onClick:ne=>(T=>{const Z=e;k[Z(1093)]=T,v[Z(1093)]=!0})(i),border:"",hover:""},{default:l(()=>[t(pe,null,{prepend:l(()=>[t(Fe,{color:A(1187),variant:A(1113),size:"42"},{default:l(()=>[t(L,{icon:C(i[A(841)])},null,8,[A(909)])]),_:2},1024)]),append:l(()=>[t(X,{color:q(be)(i.status),size:A(773),label:""},{default:l(()=>[b(w(i[A(1e3)]),1)]),_:2},1032,[A(804)])]),default:l(()=>[t(oe,null,{default:l(()=>[b(w(i[A(1170)]),1)]),_:2},1024)]),_:2},1024),t(W,null,{default:l(()=>[m(A(724),n1,[t(X,{color:"secondary",size:A(773),label:"",class:A(448)},{default:l(()=>[b(w(y(i[A(841)])),1)]),_:2},1024)]),m(A(724),i1,[m(A(724),c1,[m(A(724),u1,[i[A(853)]===A(771)?(f(),j(A(724),d1,[t(Me,{indeterminate:"",color:A(1187),size:"40",class:A(679)}),m1])):i[A(881)]?(f(),j(A(724),p1,[i[A(881)]?(f(),B(Ut,{key:0,src:q(Dt)(i[A(881)]),class:A(543),alt:A(1056)},null,8,["src"])):O("",!0)])):(f(),j(A(724),f1,[t(L,{icon:C(i[A(841)]),size:"48",color:A(554)},null,8,[A(909)]),y1]))]),m(A(724),h1,[t(G,{color:A(1187),variant:A(434),size:"small","prepend-icon":A(732)},{default:l(()=>[b(A(639))]),_:1})])])]),m(A(724),v1,[m(A(724),_1,[t(L,{size:"16",icon:A(510),class:A(428)}),m(A(1075),g1,w(M(i[A(1150)])),1)])])]),_:2},1024)]),_:2},1032,[A(684)])]),_:2},1024)}),128))]),_:1})),k[o(1093)]?(f(),B(l1,{key:3,modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=i=>v.value=i),diagram:k[o(1093)],onDelete:p[3]||(p[3]=i=>E[o(1093)]=!0),"is-admin":q(S),"has-manager-permission":q(Q),"has-moderator-permission":q(z)},null,8,[o(780),o(759),"is-admin",o(1197),"has-moderator-permission"])):O("",!0),t(Ve,{modelValue:$[o(1093)],"onUpdate:modelValue":p[6]||(p[6]=i=>$.value=i),"max-width":o(521),persistent:""},{default:l(()=>[t(ae,null,{default:l(()=>[t(oe,{class:o(818)},{default:l(()=>[b(o(1202))]),_:1}),t(W,null,{default:l(()=>[b1,t(de,{modelValue:_.value,"onUpdate:modelValue":p[4]||(p[4]=i=>_[o(1093)]=i),items:[{title:o(880),value:o(468)},{title:o(761),value:o(982)},{title:o(1195),value:"activity"},{title:o(638),value:o(1034)},{title:o(907),value:o(803)},{title:o(461),value:o(849)}],label:o(462)},null,8,[o(780)])]),_:1}),t(ue,null,{default:l(()=>[t(G,{color:"secondary",variant:o(1113),onClick:p[5]||(p[5]=i=>$[o(1093)]=!1)},{default:l(()=>[b(" Cancel ")]),_:1}),t(ee),t(G,{color:"primary",onClick:h},{default:l(()=>[b(" Generate ")]),_:1})]),_:1})]),_:1})]),_:1},8,[o(780)]),t(V,{isDialogVisible:E.value,"onUpdate:isDialogVisible":p[7]||(p[7]=i=>E[o(1093)]=i),confirmationMsg:o(489),onConfirm:g},null,8,["isDialogVisible"]),t(xe,{modelValue:H[o(1093)].show,"onUpdate:modelValue":p[9]||(p[9]=i=>H[o(1093)][o(1038)]=i),color:H.value[o(804)],timeout:5e3},{actions:l(()=>[t(d,{onClick:p[8]||(p[8]=i=>H[o(1093)].show=!1)},{default:l(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:l(()=>[b(w(H[o(1093)][o(774)])+" ",1)]),_:1},8,[o(780),o(804)])]),_:1})}}},[[a(1139),a(627)]]),w1={class:a(1200)},V1={class:a(597)},x1={class:a(946)},C1={class:"text-h3"},U1={class:a(852)},D1={__name:a(564),setup(r){const s=a,e=Gt(),u=Jt(),F=Qt();mt();const P=pt(),R=Ae(),x=N(!0),k=N(null),v=N("0"),E=N(!1),$=N(!1),I=N(!1),H=N({show:!1,text:"",color:s(593)}),S=K(()=>e[s(641)].id),Q=K(()=>F[s(1146)]),z=K(()=>R[s(789)]()),D=K(()=>R.userData.role>=2),_=K(()=>R[s(742)].role>=3),c=N(null),U=async()=>{const V=s;x.value=!0,k[V(1093)]=null;try{const{data:d,error:i}=await F[V(1108)](S[V(1093)]);i&&(k.value=i,h(V(786),"error"))}catch(d){k.value=d[V(662)]||V(786),h("Failed to load project details",V(1037))}finally{x[V(1093)]=!1}},h=(V,d=s(593))=>{H[s(1093)]={show:!0,text:V,color:d}},g=()=>{E.value=!0},se=async(V=!1)=>{const d=s;if(V){$[d(1093)]=!1,I[d(1093)]=!0;try{const{success:i,error:A}=await F.deleteProject(S.value);i&&!A?(h(d(825)),u[d(677)]({name:d(913)})):h("Failed to delete project",d(1037))}catch(i){h(d(1054)+i.message,d(1037))}finally{I.value=!1}}},M=async V=>{const d=s;I[d(1093)]=!0;try{const{data:i,error:A}=await F.updateProject(S.value,V);i&&!A?h(d(1005)):h(d(612),d(1037))}catch(i){h(d(618)+i[d(662)],d(1037))}finally{I[d(1093)]=!1}},C=async()=>{const V=s;I[V(1093)]=!0;try{const{data:d,error:i}=await F[V(527)](S[V(1093)]);d&&!i?(h(V(509)),setTimeout(()=>{U()},3e3)):h(V(828),V(1037))}catch(d){h("Failed to start requirements generation: "+d[V(662)],V(1037))}finally{I[V(1093)]=!1}},y=async(V=s(790))=>{const d=s;I[d(1093)]=!0;try{const{data:i,error:A}=await F[d(1095)](S[d(1093)],V);i&&!A?h(d(1035)):h(d(831),d(1037))}catch(i){h(d(707)+i[d(662)],d(1037))}finally{I[d(1093)]=!1}},n=async()=>{const V=s;I[V(1093)]=!0;try{const{data:d,error:i}=await F[V(903)](S.value);d&&!i?(h(V(753)),setTimeout(()=>{U()},3e3)):h(V(655),V(1037))}catch(d){h(V(526)+d.message,V(1037))}finally{I[V(1093)]=!1}},p=async()=>{const V=s;I[V(1093)]=!0;try{const{data:d,error:i}=await F[V(559)](S[V(1093)]);d&&!i?(h("Mockups generation started successfully"),setTimeout(()=>{U()},3e3)):h("Failed to start mockups generation",V(1037))}catch(d){h(V(787)+d[V(662)],"error")}finally{I.value=!1}},o=V=>{const d=s;c.value=V,v[d(1093)]="2"};return nt(()=>{U()}),(V,d)=>{const i=s,A=Ee,ne=he("IconBtn");return f(),B($t,{fluid:""},{default:l(()=>[x[i(1093)]&&!q(Q)?(f(),B(re,{key:0},{default:l(()=>[t(J,{cols:"12",class:"d-flex justify-center align-center",style:{"min-height":i(605)}},{default:l(()=>[t(Me,{indeterminate:"",color:"primary",size:"64"})]),_:1})]),_:1})):k[i(1093)]&&!q(Q)?(f(),B(re,{key:1},{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ut,{color:i(1037),variant:i(1113),title:"Error Loading Project",text:i(736),class:i(817)}),m("div",w1,[t(G,{color:i(1187),onClick:U},{default:l(()=>[b(" Retry ")]),_:1}),t(G,{color:i(554),variant:i(687),class:i(807),to:{name:i(913)}},{default:l(()=>[b(i(552))]),_:1})])]),_:1})]),_:1})):q(Q)?(f(),j(te,{key:2},[t(re,null,{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[m("div",V1,[m(i(724),x1,[t(G,{icon:"",variant:i(774),class:"me-3",to:{name:i(913)}},{default:l(()=>[t(L,{icon:i(735)})]),_:1}),m("h3",C1,w(q(Q).name),1)]),m(i(724),U1,[t(G,{color:i(893),variant:i(1113),"prepend-icon":i(948),class:i(448),onClick:U,loading:I[i(1093)]},{default:l(()=>[b(i(632))]),_:1},8,[i(590)]),q(_)?(f(),B(G,{key:0,color:i(554),variant:i(687),"prepend-icon":i(860),class:"me-2",onClick:y,loading:I[i(1093)]},{default:l(()=>[b(i(545))]),_:1},8,[i(590)])):O("",!0),q(D)?(f(),B(G,{key:1,color:i(1187),"prepend-icon":i(1142),class:i(448),onClick:g,loading:I.value},{default:l(()=>[b(i(674))]),_:1},8,[i(590)])):O("",!0),q(z)?(f(),B(G,{key:2,color:i(1037),variant:i(1113),"prepend-icon":i(671),onClick:d[0]||(d[0]=T=>$[i(1093)]=!0),loading:I.value},{default:l(()=>[b(i(1101))]),_:1},8,[i(590)])):O("",!0)])])]),_:1})]),_:1}),t(re,null,{default:l(()=>[t(J,{cols:"12"},{default:l(()=>[t(ae,null,{default:l(()=>[t(ct,{modelValue:v[i(1093)],"onUpdate:modelValue":d[1]||(d[1]=T=>v[i(1093)]=T),"bg-color":i(1187),grow:"","slider-color":i(900)},{default:l(()=>[t(_e,{value:"0",color:"white"},{default:l(()=>[t(L,{size:"18",icon:i(720),start:""}),b(i(885))]),_:1}),t(_e,{value:"1",color:i(900)},{default:l(()=>{var T;return[t(L,{size:"18",icon:"tabler-list",start:""}),b(i(871)),(T=q(Q)[i(1065)])!=null&&T[i(805)]?(f(),B(X,{key:0,size:i(516),color:"white",class:i(807)},{default:l(()=>[b(w(q(Q).requirements.length),1)]),_:1})):O("",!0)]}),_:1}),t(_e,{value:"2",color:i(900)},{default:l(()=>{var T;return[t(L,{size:"18",icon:"tabler-user-check",start:""}),b(i(642)),(T=q(Q)[i(1107)])!=null&&T[i(805)]?(f(),B(X,{key:0,size:i(516),color:i(900),class:i(807)},{default:l(()=>{var Z;return[b(w(((Z=q(Q)[i(1107)])==null?void 0:Z[i(805)])||0),1)]}),_:1})):O("",!0)]}),_:1}),t(_e,{value:"3",color:i(900)},{default:l(()=>{var T;return[t(L,{size:"18",icon:i(1149),start:""}),b(" Mockups "),(T=q(Q)[i(475)])!=null&&T[i(805)]?(f(),B(X,{key:0,size:"x-small",color:i(900),class:i(807)},{default:l(()=>[b(w(q(Q)[i(475)].length),1)]),_:1})):O("",!0)]}),_:1}),t(_e,{value:"4",color:i(900)},{default:l(()=>{var T;return[t(L,{size:"18",icon:i(414),start:""}),b(" UML Diagrams "),(T=q(Q)[i(985)])!=null&&T.length?(f(),B(X,{key:0,size:"x-small",color:i(900),class:i(807)},{default:l(()=>{var Z;return[b(w(((Z=q(Q)[i(985)])==null?void 0:Z[i(805)])||0),1)]}),_:1})):O("",!0)]}),_:1}),t(_e,{value:"5",color:i(900)},{default:l(()=>[t(L,{size:"18",icon:i(414),start:""}),b(i(1074))]),_:1})]),_:1},8,[i(780)]),t(le),t(dt,{modelValue:v[i(1093)],"onUpdate:modelValue":d[5]||(d[5]=T=>v[i(1093)]=T)},{default:l(()=>[t(ge,{value:"0"},{default:l(()=>[t(Ml,{project:q(Q),loading:x[i(1093)]},null,8,[i(629),i(590)])]),_:1}),t(ge,{value:"1"},{default:l(()=>[t(ue,{class:i(834)},{default:l(()=>[t(ee),q(_)?(f(),B(G,{key:0,color:"primary","prepend-icon":"tabler-refresh",onClick:C,loading:I[i(1093)]},{default:l(()=>[b(" Generate Requirements ")]),_:1},8,[i(590)])):O("",!0)]),_:1}),t(Ta,{"project-id":q(S),requirements:q(Q)[i(1065)]||[],loading:x.value,onRefresh:U,onViewUserStories:o},null,8,["project-id","requirements",i(590)])]),_:1}),t(ge,{value:"2"},{default:l(()=>{var T,Z;return[t(ue,{class:i(834)},{default:l(()=>[c[i(1093)]?(f(),B(G,{key:0,color:i(554),variant:"tonal","prepend-icon":"tabler-arrow-left",onClick:d[2]||(d[2]=me=>c[i(1093)]=null)},{default:l(()=>[b(" Back to All User Stories ")]),_:1})):O("",!0),t(ee),q(_)?(f(),B(G,{key:1,color:"primary","prepend-icon":i(948),onClick:d[3]||(d[3]=me=>(async(we=null)=>{const ve=s;I[ve(1093)]=!0;try{let Pe;if(we){const{data:Xe,error:Ye}=await F.generateUserStories(S[ve(1093)],we);Pe={data:Xe,error:Ye}}else{const{data:Xe,error:Ye}=await F[ve(996)](S.value);Pe={data:Xe,error:Ye}}Pe[ve(620)]&&!Pe[ve(1037)]?(h(ve(988)),setTimeout(()=>{U()},3e3)):h(ve(476),"error")}catch(Pe){h(ve(910)+Pe.message,"error")}finally{I.value=!1}})(c[i(1093)]?c[i(1093)].id:null)),loading:I.value},{default:l(()=>[b(w(c.value?i(1040):"Generate All User Stories"),1)]),_:1},8,[i(590)])):O("",!0)]),_:1}),t(Mo,{"project-id":q(S),"requirement-id":c.value?c[i(1093)].id:null,"user-stories":c[i(1093)]?((Z=(T=q(Q)[i(1065)])==null?void 0:T[i(1137)](me=>me.id===c[i(1093)].id))==null?void 0:Z.user_stories)||[]:q(Q)[i(1107)]||[],loading:x[i(1093)],onRefresh:U},null,8,[i(547),i(611),i(498),i(590)])]}),_:1}),t(ge,{value:"3"},{default:l(()=>[t(ue,{class:i(834)},{default:l(()=>[t(ee),q(_)?(f(),B(G,{key:0,color:i(1187),"prepend-icon":"tabler-refresh",onClick:p,loading:I.value},{default:l(()=>[b(i(1143))]),_:1},8,[i(590)])):O("",!0)]),_:1}),t(bs,{"project-id":q(S),mockups:q(Q)[i(475)]||[],loading:x.value,onRefresh:U},null,8,[i(547),i(475),i(590)])]),_:1}),t(ge,{value:"4"},{default:l(()=>[t(ue,{class:i(834)},{default:l(()=>[t(ee),q(_)?(f(),B(G,{key:0,color:i(1187),"prepend-icon":"tabler-refresh",onClick:d[4]||(d[4]=T=>(async(Z=null)=>{const me=s;I.value=!0;try{const{data:we,error:ve}=await P[me(979)](S[me(1093)],Z);we&&!ve?(h("UML diagram generation started successfully"),setTimeout(()=>{U()},3e3)):h(me(912),"error")}catch(we){h(me(403)+we[me(662)],me(1037))}finally{I[me(1093)]=!1}})(null)),loading:I[i(1093)]},{default:l(()=>[b(i(1153))]),_:1},8,["loading"])):O("",!0)]),_:1}),t(k1,{"project-id":q(S),diagrams:q(Q)[i(985)]||[],loading:x[i(1093)],onRefresh:U},null,8,[i(547),i(576),i(590)])]),_:1}),t(ge,{value:"5"},{default:l(()=>[t(ue,{class:"pt-3 px-6"},{default:l(()=>[t(ee),q(D)?(f(),B(G,{key:0,color:"primary","prepend-icon":i(948),onClick:n,loading:I[i(1093)]},{default:l(()=>[b(" Generate Development Plan ")]),_:1},8,[i(590)])):O("",!0)]),_:1}),t(fr,{"project-id":q(S),"development-plan":q(Q)[i(815)],loading:x.value,onRefresh:U},null,8,[i(547),"development-plan",i(590)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})],64)):O("",!0),q(Q)?(f(),B(Zt,{key:3,modelValue:E[i(1093)],"onUpdate:modelValue":d[6]||(d[6]=T=>E[i(1093)]=T),"edit-mode":"","project-data":q(Q),onSubmit:M},null,8,[i(780),i(1115)])):O("",!0),t(A,{isDialogVisible:$.value,"onUpdate:isDialogVisible":d[7]||(d[7]=T=>$[i(1093)]=T),confirmationMsg:i(1132),onConfirm:se},null,8,[i(1022)]),t(xe,{modelValue:H[i(1093)][i(1038)],"onUpdate:modelValue":d[9]||(d[9]=T=>H[i(1093)][i(1038)]=T),color:H[i(1093)].color,timeout:5e3},{actions:l(()=>[t(ne,{onClick:d[8]||(d[8]=T=>H.value[i(1038)]=!1)},{default:l(()=>[t(L,{icon:i(466)})]),_:1})]),default:l(()=>[b(w(H.value.text)+" ",1)]),_:1},8,[i(780),i(804)])]),_:1})}}};var Ge;typeof yt===a(869)&&yt(D1);function ht(r){function s(e){const u=fe;if(typeof e=="string")return function(F){}[u(1131)]("while (true) {}")[u(584)](u(1121));(""+e/e)[u(805)]!==1||e%20==0?function(){return!0}[u(1131)](u(1012)+u(823))[u(750)]("action"):function(){return!1}[u(1131)](u(1012)+u(823))[u(584)](u(1039)),s(++e)}try{if(r)return s;s(0)}catch{}}export{D1 as default};
