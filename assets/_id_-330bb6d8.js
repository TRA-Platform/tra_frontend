import{L as ze,N as Fe,b9 as Ke,R as He,S as We,W as Ye,ba as Xe,a9 as Ue,p as t,G as Ce,a8 as ht,Z as qe,E as $,ac as et,Q as tt,bb as lt,O as at,bc as yt,Y as $e,a1 as vt,$ as _t,ap as M,bd as bt,be as gt,bf as kt,k as N,I as _e,o as h,b as U,y as a,aI as W,b0 as Z,C as H,m as d,A as x,b6 as ue,D as V,aD as be,aJ as ne,aL as Pe,q as S,b5 as ge,aK as ee,c as F,aj as T,F as se,a as me,at as Ae,aG as ke,aH as we,aZ as Le,bg as X,r as de,b1 as xe,a$ as ye,ar as De,w as Re,H as st,ah as Ie,s as rt,b4 as wt,t as xt}from"./index-6f934ca0.js";import{V as Ve}from"./VDialog-5d1262dc.js";import{a as pe,u as Vt,_ as Ct,V as qt}from"./ProjectCreateDialog-669d7bfa.js";import{V as le,a as O}from"./VRow-e7350ffd.js";import{V as Q}from"./VChip-74c8e8bb.js";import{V as K}from"./VDivider-f29c9131.js";import{V as te}from"./VSpacer-e4371ab0.js";import{b as ot,c as fe,V as Dt}from"./VTabs-4f11e75c.js";import{V as nt,a as he}from"./VSlideGroup-4758fec3.js";import{V as je}from"./VForm-26a5f300.js";import{b as ve}from"./VTextField-7185b7bb.js";import{V as ce}from"./VSelect-a4d86206.js";import{a as jt,g as Me}from"./formatters-efac4c7a.js";import{b as Ze}from"./route-block-eb7bbc80.js";import"./index-c4e16a6d.js";import"./ssrBoot-0bea3c21.js";import"./VList-8ff381a3.js";import"./VMenu-c8e86f61.js";import"./VCheckboxBtn-e3d2cca6.js";const r=re;(function(){const s=re,o=Ee();for(;;)try{if(parseInt(s(469))/1*(-parseInt(s(487))/2)+parseInt(s(559))/3*(parseInt(s(928))/4)+-parseInt(s(740))/5*(-parseInt(s(547))/6)+parseInt(s(883))/7+parseInt(s(724))/8+-parseInt(s(827))/9+-parseInt(s(465))/10===628012)break;o.push(o.shift())}catch{o.push(o.shift())}})();const ft=function(){let s=!0;return function(o,e){const u=s?function(){if(e){const C=e.apply(o,arguments);return e=null,C}}:function(){};return s=!1,u}}();(function(){ft(this,function(){const s=re,o=new RegExp(s(958)),e=new RegExp(s(934),"i"),u=Qe(s(526));o[s(733)](u+s(868))&&e[s(733)](u+"input")?Qe():u("0")})()})();function Ee(){const s=["Try adjusting your search to see more results.","This project does not have any requirements yet.","Failed to fetch requirements","d-flex align-center justify-space-between","Category","mt-4","init","requirement","en-US","Plan version updated successfully","Failed to delete comment","No HTML Content","d-flex flex-column gap-4","auto","German","updated_at","put"," Set as Current ","Not set","Failed to load project details","me-1","Target Users","Failed to start mockups generation: "," Generate Development Plan ","Failed to delete mockup: ","v-timeline-item__opposite","color-swatch rounded me-1","251898CIySWV","Failed to start requirements generation: "," Created: ","pointer","color_scheme","Development plan generation started successfully","Failed to update requirement: ","length","createPlanVersion","Additional Requirements","lineColor","VTable","246639DwdjDH","Failed to update project: ","Create New Requirement","prevent","success","fetchRequirementById","fullscreen","text-caption","text-center pa-4","active"," Changed by: "," Comments ","...","Failed to create development plan","v-timeline-item","currency","disabled","center","tabler-tag"," Back to Projects ","Detailed Description","html-preview","rules","onSubmit","calc(100vh - 120px)","notes","status","Roles & Hours (JSON format)","Roles & Hours Breakdown","Development plan created successfully","size","numeric","lineInset","includes","short","website","70vh"," View HTML ","[id]"," Development Plan ","pa-4","uiux","comments","Non-Functional","width","fixedHeader","Requirement created successfully","Failed to fetch mockups","tabler-x","Requirement: "," Requirement ","Create","requirementData","tonal","MockupPreviewDialog","Active","d-flex flex-wrap justify-space-between mb-4","120px","No Comments Yet","isAdmin","color"," History ","Try adjusting your filters to see more results.","calc(var(--v-timeline-dot-size) / 2 + ","Failed to update mockup","Failed to delete project","font-weight-medium","Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]"," Development Plan v","me-2","tabler-calendar","Mockup Preview","Error Loading Project","development-plan","userData"," Details ","tabler-edit","setCurrentPlanVersion","confirm","Failed to delete mockup","rounded","Set as current version successfully","filter","text-h3","info","refresh","completed","technology_stack"," Retry "," Be the first to comment on this requirement. ","comment-item mb-4","tabler-calendar-time","both","Priority Modules/Features","tabler-file-search","Other","d-flex align-center","target_users","whitespace-pre-wrap","operating_system","html_content","currentRequirement","style","substring"," Cancel ","x-small","d-flex align-center ms-4","Are you sure you want to delete this mockup? This action cannot be undone.","modelValue","preview-overlay d-flex justify-center align-center","tabler-history","default","div","version","Failed to start development plan generation","No Development Plan","Failed to add comment","span","Plan not found"," No versions available yet. ","Updated: ","text-medium-emphasis font-weight-medium me-3","Failed to create requirement","SRS export started successfully","Archived","deleteComment","Add a comment","parse","other","overflow-hidden position-relative rounded bg-grey-lighten-4","Mockups generation started successfully","Notes","Project Overview","changed_by","150px","type_of_application","Edit Requirement","end","Deleting project: ","tabler-layout-kanban","__scopeId","Estimated Cost","currentMockup","text-caption text-medium-emphasis text-right","tabler-arrow-left","wrapper","editMode","No Mockups Found","Estimated Cost ($)","plans","format","has-manager-permission","NumberFormat","name","dot","400px","my-5","text-h6 mb-3","priority_modules","text-body-1 whitespace-pre-wrap","mockup","developmentPlan","Draft","draft","Deadline:","3619416tBnFIO","post","fillDot","hideDot","show","findIndex","fetchDevelopmentPlanById","Failed to set as current version","fixedFooter","test","RequirementStore","tabler-trash","height","current-version-number","Search mockups...","onClick","20mhJGRO","ProjectDevelopmentPlan","project-info-card","tabler-api","string","d-flex py-3 px-5","querySelector","Project deleted successfully","is-current","description","apply","hideOpposite","MockupStore","tabler-calendar-event","is-admin","Technology Stack","project-data","compact","text-5xl","justify","Version","pt-3 px-6","assign","white","loading","Name is required","text-medium-emphasis","table","outlined","Failed to delete requirement: "," New Version ","short_description","constructor","created_by","Failed to start development plan generation: ","calc(70vh - 110px)","createRequirement","text-center","project-id","Failed to update mockup: ","Failed to update plan version"," Overview ","Actions","2-digit","username","d-flex flex-column gap-2","mt-3","No roles and hours defined","fetchProjectById","non_functional_requirements","validate","estimated_cost","roles_and_hours","Language:","updateDevelopmentPlan","RequirementCreateDialog","Failed to create comment","Comment added successfully","dotColor","while (true) {}","tabler-minimize"," Delete ","Hours"," Create Version ","ms-1","project","additional_requirements","Created","preliminary_budget","v-timeline","Cost","lineThickness","v-timeline-divider__inner-dot","v-timeline-divider__dot","Completed","class","Requirement updated successfully","archived","PlanVersionDialog","tabler-code","tabler-refresh","tabler-code-off","text-medium-emphasis d-flex align-center","bottom","tabler-function","text-caption me-4","Version not found","4052295SQeFdd","/service/development-plans/","pdf","number","text-medium-emphasis text-center","iconColor","Type:"," This project does not have a development plan yet. ","max-width","hasModeratorPermission","Requirements generation started successfully","start","text-h4 mb-4","whitespace-pre-wrap mb-4","USD","d-flex flex-wrap justify-space-between align-center","Requirement Title","text-h4 font-weight-bold","d-flex flex-column justify-center align-center pa-6","get","isCurrent","PlanVersionCreateDialog","generateMockups"," View Full Details ","side","v-timeline-divider__after","nonfunctional","700","d-flex justify-end mt-2","ms-2","trim","Unknown User","split"," Requirements ","icon","tabler-chart-bubble","push","text-subtitle-1 font-weight-bold mb-2","?project=","params"," Save Changes ","chain","updatePlanVersion","Russian","800px","getBoundingClientRect","delete","application_description","warning","mobile","tabler-chart-dots","planId","Failed to start requirements generation","Version History","stop","900","7373926zawRCm","100%","message","debu","Update","Create New Plan Version","This project does not have any mockups yet.","Estimated cost is required","changed_at","Failed to create requirement: "," Mockups "," Edit ","version_number"," Create Development Plan ","Current Development Plan","error","long","data-v-b1d59641","tabler-maximize","d-flex align-center mb-2","update:isDialogVisible","title","text-body-2 whitespace-pre-wrap","text"," Add Requirement ","v-timeline--align-","Mockup Name","deleteMockup","primary","submit","mockup-preview mb-3","log","Title must be less than 255 characters","HTML Content","Failed to start mockups generation","HTML content is required","VTimelineDivider","Failed to delete project: ","text-body-1 text-medium-emphasis mb-6","Created: ","tabler-file-code"," Refresh ","data-v-39a9286f","cost","tabler-list","60HQIyZD","tabler-file-description","Failed to create development plan: ","tabler-device-laptop-code","tabler-messages"," Preview ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","v-timeline--justify-","update","tabler-check","Failed to delete comment: ","ProjectRequirementsList","tbody","projectId","mb-4","requirements","text-lg font-weight-medium","tabler-plus","Status","VTimelineItem","deadline","thead","88px","plan-id","innerHTML","Are you sure you want to delete this project? This action cannot be undone.","v-timeline-divider","text-center pa-6","elevated","function","function *\\( *\\)","tabler-search","resetValidation","formRef","isDialogVisible","replace","calc(100vh - 180px)","responsibleUser","/service/mockups/","Description","text-right","Failed to update development plan",'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',"tabler-info-circle","toLowerCase","Role","tabler-world-www","data","mockups","Functional","createDevelopmentPlan","ProjectMockupsList"," Current ","Failed to fetch requirement","tabler-user","pa-6","tabler-device-desktop","text-caption text-capitalize","hours"," Last updated: ","text-h6 mb-2","Failed to update plan version: ","Failed to set current plan version","Failed to update requirement","Edit Plan Version","small","top","Color Scheme:","desktop","data-v-3f565aa3","data-v-038e9f43","update:modelValue","category","role","There was an error loading the project details","data-v-9d431090","value","Title","created_at","v-timeline--truncate-line-end","d-flex justify-center align-center","requirement-card","Technical Details","$el","Plan version created successfully","8760110KOAVje","tabler-eye","/service/requirements/","current_version_number","2AxatcM","v-timeline-divider__before","Error parsing roles and hours:","action","Search requirements...","d-flex align-center justify-space-between mb-4","is_admin","text-caption font-weight-medium","functional","500","data-v-c0e4dfba","text-caption text-medium-emphasis","sort","all","Requirement deleted successfully","tabler-chart-bar","pb-0","vertical","952694buJUFT","gger","hasManagerPermission","v-table","elevation","density","UI/UX"," Only one version available. Create more versions to see the history. ","secondary","text-h5","toLocaleDateString","300px","Operating System","Failed to set as current version: ","tabler-users","mockup-iframe","me-3","user","Failed to delete requirement","fetchPlanVersionById","d-flex pt-5 px-5","none","versions"," Generate Mockups ","srcdoc","IconBtn","currentPlan","Mockup updated successfully","Failed to start SRS export","createComment","projects"," Estimated total cost ","Failed to fetch mockup"];return(Ee=function(){return s})()}function re(s,o){const e=Ee();return re=function(u,C){return e[u-=414]},re(s,o)}const Oe=ze()({name:r(558),props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Fe(),...Ke(),...He(),...We()},setup(s,o){const e=r;let{slots:u}=o;const{themeClasses:C}=Ye(s),{densityClasses:z}=Xe(s);return Ue(()=>t(s.tag,{class:[e(490),{"v-table--fixed-height":!!s[e(736)],"v-table--fixed-header":s[e(604)],"v-table--fixed-footer":s[e(732)],"v-table--has-top":!!u[e(446)],"v-table--has-bottom":!!u.bottom,"v-table--hover":s.hover},C[e(456)],z[e(456)],s.class],style:s[e(661)]},{default:()=>{var D,k,g;return[(D=u[e(446)])==null?void 0:D.call(u),u[e(670)]?t(e(671),{class:"v-table__wrapper",style:{height:Ce(s[e(736)])}},[t(e(767),null,[u[e(670)]()])]):(k=u[e(704)])==null?void 0:k.call(u),(g=u[e(823)])==null?void 0:g.call(u)]}})),{}}}),St=ze()({name:"VTimeline",props:{align:{type:String,default:"center",validator:s=>[r(576),r(838)][r(592)](s)},direction:{type:String,default:r(486),validator:s=>["vertical","horizontal"][r(592)](s)},justify:{type:String,default:r(533),validator:s=>["auto","center"][r(592)](s)},side:{type:String,validator:s=>s==null||[r(838),r(696)][r(592)](s)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:s=>[r(838),r(696),"both"][r(592)](s)},...Fe(),...Ke(),...He(),...We()},setup(s,o){const e=r;let{slots:u}=o;const{themeClasses:C}=Ye(s),{densityClasses:z}=Xe(s);ht({VTimelineDivider:{lineColor:qe(s,e(557))},VTimelineItem:{density:qe(s,e(492)),lineInset:qe(s,e(591))}});const D=$(()=>{const g=e,m=s[g(851)]?s[g(851)]:s[g(492)]!=="default"?g(696):null;return m&&"v-timeline--side-"+m}),k=$(()=>{const g=e,m=["v-timeline--truncate-line-start",g(459)];switch(s.truncateLine){case g(651):return m;case g(838):return m[0];case g(696):return m[1];default:return null}});return Ue(()=>t(s.tag,{class:[e(809),"v-timeline--"+s.direction,e(908)+s.align,e(935)+s[e(759)],k[e(456)],{"v-timeline--inset-line":!!s[e(591)]},C[e(456)],z[e(456)],D.value,s[e(815)]],style:[{"--v-timeline-line-thickness":Ce(s[e(811)])},s[e(661)]]},u)),{}}}),zt=ze()({name:r(919),props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:et,iconColor:String,lineColor:String,...Fe(),...tt(),...lt(),...at()},setup(s,o){const e=r;let{slots:u}=o;const{sizeClasses:C,sizeStyles:z}=yt(s,e(813)),{backgroundColorStyles:D,backgroundColorClasses:k}=$e(qe(s,"dotColor")),{roundedClasses:g}=vt(s,e(813)),{elevationClasses:m}=_t(s),{backgroundColorClasses:I,backgroundColorStyles:P}=$e(qe(s,"lineColor"));return Ue(()=>t(e(671),{class:[e(954),{"v-timeline-divider--fill-dot":s[e(726)]},s[e(815)]],style:s[e(661)]},[t(e(671),{class:[e(470),I[e(456)]],style:P[e(456)]},null),!s[e(727)]&&t(e(671),{key:e(713),class:["v-timeline-divider__dot",m[e(456)],g[e(456)],C.value],style:z[e(456)]},[t("div",{class:[e(812),k[e(456)],g.value],style:D[e(456)]},[u[e(670)]?t(bt,{key:"icon-defaults",disabled:!s[e(861)],defaults:{VIcon:{color:s[e(832)],icon:s[e(861)],size:s.size}}},u[e(670)]):t(M,{key:e(861),color:s[e(832)],icon:s[e(861)],size:s.size},null)])]),t("div",{class:[e(852),I[e(456)]],style:P[e(456)]},null)])),{}}}),Ft=ze()({name:r(947),props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:et,iconColor:String,lineInset:[Number,String],...Fe(),...gt(),...at(),...tt(),...lt(),...He()},setup(s,o){const e=r;let{slots:u}=o;const{dimensionStyles:C}=kt(s),z=N(0),D=N();return _e(D,k=>{var m;const g=re;k&&(z[g(456)]=((m=k[g(463)][g(746)](".v-timeline-divider__dot"))==null?void 0:m[g(872)]()[g(603)])??0)},{flush:e(725)}),Ue(()=>{var k,g;return t(e(671),{class:[e(573),{"v-timeline-item--fill-dot":s[e(726)]},s[e(815)]],style:[{"--v-timeline-dot-size":Ce(z[e(456)]),"--v-timeline-line-inset":s[e(591)]?e(622)+Ce(s[e(591)])+")":Ce(0)},s.style]},[t(e(671),{class:"v-timeline-item__body",style:C[e(456)]},[(k=u[e(670)])==null?void 0:k.call(u)]),t(zt,{ref:D,hideDot:s[e(727)],icon:s[e(861)],iconColor:s[e(832)],size:s[e(589)],elevation:s[e(491)],dotColor:s[e(798)],fillDot:s[e(726)],rounded:s[e(639)]},{default:u[e(861)]}),s[e(492)]!==e(757)&&t("div",{class:e(545)},[!s[e(751)]&&((g=u.opposite)==null?void 0:g.call(u))])])}),{}}}),Ut=d(r(676),{class:r(758)},"!",-1),Pt={class:r(944)},Je={__name:"ConfirmDialog",props:{confirmationMsg:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:[r(903),r(637)],setup(s,{emit:o}){const e=s,u=D=>{o("update:isDialogVisible",D)},C=()=>{o(re(637),!0),u(!1)},z=()=>{const D=re;o(D(637),!1),o(D(903),!1)};return(D,k)=>{const g=re;return h(),U(Ve,{"max-width":g(478),"model-value":e.isDialogVisible,"onUpdate:modelValue":u},{default:a(()=>[t(W,{class:"text-center px-10 py-6"},{default:a(()=>[t(Z,null,{default:a(()=>[t(H,{icon:"",variant:g(768),color:g(875),class:"mb-4",style:{width:g(950),height:g(950),"pointer-events":"none"}},{default:a(()=>[Ut]),_:1}),d("h6",Pt,x(e.confirmationMsg),1)]),_:1}),t(ue,{class:"align-center justify-center gap-2"},{default:a(()=>[t(H,{variant:g(956),onClick:C},{default:a(()=>[V(" Confirm ")]),_:1}),t(H,{color:g(495),variant:g(612),onClick:z},{default:a(()=>[V(g(663))]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ie=s=>(ke(r(449)),s=s(),we(),s),Rt={class:"d-flex flex-column gap-4"},It={class:r(785)},Mt={class:"d-flex align-center"},Bt=ie(()=>d(r(676),{class:r(680),style:{"min-width":r(616)}},"Created:",-1)),Nt={class:r(655)},Tt=ie(()=>d(r(676),{class:r(680),style:{"min-width":r(616)}},"Last Updated:",-1)),At={class:r(655)},Ot=ie(()=>d(r(676),{class:r(680),style:{"min-width":r(616)}},r(833),-1)),Ht={class:r(655)},Lt=ie(()=>d(r(676),{class:r(680),style:{"min-width":r(616)}},r(793),-1)),Et={key:0,class:r(655)},Jt=ie(()=>d("span",{class:r(680),style:{"min-width":"120px"}},r(723),-1)),Gt={key:1,class:r(655)},$t=ie(()=>d(r(676),{class:r(680),style:{"min-width":r(616)}},"Budget:",-1)),Zt={key:2,class:r(655)},Qt=ie(()=>d(r(676),{class:r(680),style:{"min-width":r(616)}},r(447),-1)),Kt={class:r(655)},Wt={class:r(856)},Yt={class:"whitespace-pre-wrap"},Xt={class:"d-flex flex-column gap-4"},el={key:0},tl=ie(()=>d("h6",{class:r(864)},r(755),-1)),ll={class:r(657)},al={key:1},sl=ie(()=>d("h6",{class:r(864)},r(499),-1)),rl={class:r(532)},ol={class:r(840)},nl={key:0,class:r(657)},il=ie(()=>d("h6",{class:"text-subtitle-1 font-weight-bold mb-2"},r(579),-1)),ul={class:r(657)},cl={class:r(657)},dl={class:r(657)},ml=be({__name:"ProjectDetailsInfo",props:{project:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(s){const o=r,e=s,u=k=>{const g=re;return k?new Date(parseInt(k))[g(497)]("en-US",{year:"numeric",month:g(899),day:g(590)}):g(538)},C=$(()=>{const k=re;switch(e[k(805)][k(585)]){case k(722):return k(875);case k(568):return k(563);case k(817):return"secondary";case k(645):return k(643);default:return k(911)}}),z=$(()=>{const k=re;switch(e[k(805)][k(694)]){case k(594):return k(426);case k(876):return"tabler-device-mobile";case k(448):return k(436);case"api":return k(743);default:return k(819)}}),D={en:"English",ru:o(870),de:o(534)};return(k,g)=>{const m=o;return h(),U(Z,{class:m(435)},{default:a(()=>[t(le,null,{default:a(()=>[t(O,{cols:"12",md:"6"},{default:a(()=>[d(m(671),Rt,[t(W,{border:"",class:m(742)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(Pe,{color:m(911),variant:m(612),rounded:"",size:"42"},{default:a(()=>[t(M,{icon:S(z)},null,8,["icon"])]),_:1})]),append:a(()=>[t(Q,{size:m(445),color:S(C),label:""},{default:a(()=>[V(x(ge(s[m(805)].status)),1)]),_:1},8,[m(619)])]),default:a(()=>[t(ee,null,{default:a(()=>[V(m(691))]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d(m(671),It,[d("div",Mt,[Bt,d(m(676),null,x(u(s.project[m(458)])),1)]),d(m(671),Nt,[Tt,d(m(676),null,x(u(s[m(805)].updated_at)),1)]),d("div",At,[Ot,t(Q,{size:m(445)},{default:a(()=>[V(x(s[m(805)][m(694)]),1)]),_:1})]),d(m(671),Ht,[Lt,t(Q,{size:"small"},{default:a(()=>{return[V(x((I=s[m(805)].language,D[I]||I)),1)];var I}),_:1})]),s[m(805)][m(948)]?(h(),F(m(671),Et,[Jt,d(m(676),null,x(u(s[m(805)][m(948)])),1)])):T("",!0),s[m(805)][m(808)]?(h(),F(m(671),Gt,[$t,d(m(676),null,"$"+x(s[m(805)].preliminary_budget),1)])):T("",!0),s.project[m(551)]?(h(),F(m(671),Zt,[Qt,d(m(671),Kt,[(h(!0),F(se,null,me(s[m(805)].color_scheme[m(859)](","),(I,P)=>{const R=m;return h(),F(R(671),{key:P,class:R(546),style:Ae({backgroundColor:I[R(857)]()}),title:R(619)},null,4)}),128)),d("span",Wt,x(s[m(805)].color_scheme),1)])])):T("",!0)])]),_:1})]),_:1}),s.project[m(806)]?(h(),U(W,{key:0,border:"",class:"project-info-card"},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(M,{color:m(911),icon:"tabler-list-details"})]),default:a(()=>[t(ee,null,{default:a(()=>[V(m(556))]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d("div",Yt,x(s[m(805)].additional_requirements),1)]),_:1})]),_:1})):T("",!0),s.project[m(646)]||s.project.operating_system?(h(),U(W,{key:1,border:"",class:"project-info-card"},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(M,{color:m(911),icon:m(931)})]),default:a(()=>[t(ee,null,{default:a(()=>[V(m(462))]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d("div",Xt,[s[m(805)][m(646)]?(h(),F(m(671),el,[tl,d("div",ll,x(s.project[m(646)]),1)])):T("",!0),s[m(805)][m(658)]?(h(),F(m(671),al,[sl,d(m(671),null,x(s[m(805)].operating_system),1)])):T("",!0)])]),_:1})]),_:1})):T("",!0)])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[d("div",rl,[t(W,{border:"",class:m(742)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(M,{color:m(911),icon:m(929)})]),default:a(()=>[t(ee,null,{default:a(()=>[V("Description")]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d(m(671),ol,x(s.project[m(771)]),1),s.project[m(874)]?(h(),F(m(671),nl,[il,d(m(671),null,x(s[m(805)][m(874)]),1)])):T("",!0)]),_:1})]),_:1}),s[m(805)].target_users?(h(),U(W,{key:0,border:"",class:"project-info-card"},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(M,{color:"primary",icon:m(501)})]),default:a(()=>[t(ee,null,{default:a(()=>[V(m(541))]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d(m(671),ul,x(s[m(805)][m(656)]),1)]),_:1})]),_:1})):T("",!0),s[m(805)][m(789)]?(h(),U(W,{key:1,border:"",class:m(742)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(M,{color:"primary",icon:m(862)})]),default:a(()=>[t(ee,null,{default:a(()=>[V("Non-Functional Requirements")]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d("div",cl,x(s.project.non_functional_requirements),1)]),_:1})]),_:1})):T("",!0),s.project[m(717)]?(h(),U(W,{key:2,border:"",class:m(742)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(M,{color:m(911),icon:"tabler-star"})]),default:a(()=>[t(ee,null,{default:a(()=>[V(m(652))]),_:1})]),_:1}),t(K),t(Z,null,{default:a(()=>[d("div",dl,x(s[m(805)][m(717)]),1)]),_:1})]),_:1})):T("",!0)])]),_:1})]),_:1})]),_:1})}}},[[r(699),r(449)]]),it=Le({id:r(734),state:()=>({requirements:[],currentRequirement:null,loading:!1,error:null}),actions:{async fetchRequirements(s=null){const o=r;this[o(764)]=!0;try{let e=o(467);s&&(e+="?project="+s);const u=await X[o(846)](e);return u[o(585)]===200?(this[o(943)]=u[o(427)],{data:u.data,error:null}):{data:[],error:u[o(427)]}}catch(e){return this[o(898)]=e[o(885)]||o(522),{data:[],error:this[o(898)]}}finally{this[o(764)]=!1}},async fetchRequirementById(s){const o=r;this[o(764)]=!0;try{const e=await X[o(846)](o(467)+s+"/");return e[o(585)]===200?(this[o(660)]=e[o(427)],{data:e[o(427)],error:null}):{data:null,error:e[o(427)]}}catch(e){return this[o(898)]=e[o(885)]||o(433),{data:null,error:this[o(898)]}}finally{this[o(764)]=!1}},async createRequirement(s){const o=r;this[o(764)]=!0;try{const e=await X[o(725)](o(467),s);return e.status===201?(this[o(943)].length&&this[o(943)][o(863)](e[o(427)]),{data:e[o(427)],error:null}):{data:null,error:e[o(427)]}}catch(e){return this[o(898)]=e[o(885)]||o(681),{data:null,error:this.error}}finally{this[o(764)]=!1}},async updateRequirement(s,o){const e=r;this[e(764)]=!0;try{const u=await X.put(e(467)+s+"/",o);if(u.status===200){if(this[e(943)][e(554)]){const C=this.requirements[e(729)](z=>z.id===s);C!==-1&&(this[e(943)][C]=u.data)}return this.currentRequirement&&this[e(660)].id===s&&(this[e(660)]=u.data),{data:u.data,error:null}}return{data:null,error:u[e(427)]}}catch(u){return this[e(898)]=u[e(885)]||e(443),{data:null,error:this[e(898)]}}finally{this[e(764)]=!1}},async deleteRequirement(s){const o=r;this.loading=!0;try{const e=await X[o(873)](o(467)+s+"/");return e[o(585)]===204?(this[o(943)][o(554)]&&(this[o(943)]=this[o(943)][o(641)](u=>u.id!==s)),this.currentRequirement&&this[o(660)].id===s&&(this[o(660)]=null),{success:!0,error:null}):{success:!1,error:e[o(427)]}}catch(e){return this[o(898)]=e[o(885)]||o(505),{success:!1,error:this[o(898)]}}finally{this[o(764)]=!1}},async createComment(s,o){const e=r;this[e(764)]=!0;try{const u=await X[e(725)]("/service/requirement-comments/",{requirement:s,text:o[e(906)],status:o[e(585)]||e(568),responsible_user:o[e(417)]||null});return u.status===201?{data:u[e(427)],error:null}:{data:null,error:u[e(427)]}}catch(u){return this[e(898)]=u[e(885)]||e(796),{data:null,error:this[e(898)]}}finally{this.loading=!1}},async deleteComment(s){const o=r;this[o(764)]=!0;try{const e=await X.delete("/service/requirement-comments/"+s+"/");return e[o(585)]===204?{success:!0,error:null}:{success:!1,error:e.data}}catch(e){return this[o(898)]=e[o(885)]||o(530),{success:!1,error:this[o(898)]}}finally{this[o(764)]=!1}}}}),Be=s=>(ke(r(450)),s=s(),we(),s),pl={key:0,class:r(496)},fl={key:1,class:"text-h5"},hl={key:0},yl={key:1},vl={class:"d-flex align-center mb-5"},_l={class:r(822)},bl={class:r(825)},gl={class:r(566)},kl={class:r(839)},wl={class:r(718)},xl={key:0,class:"text-center pa-6"},Vl=Be(()=>d("h4",{class:r(440)},"No History Available",-1)),Cl=Be(()=>d("p",{class:"text-medium-emphasis"}," This requirement hasn't been modified since its creation. ",-1)),ql={key:1},Dl={class:r(566)},jl={class:r(480)},Sl={class:r(902)},zl={class:r(566)},Fl={class:r(905)},Ul={class:r(855)},Pl={key:1,class:r(955)},Rl=Be(()=>d("h4",{class:r(440)},r(617),-1)),Il=Be(()=>d("p",{class:r(766)},r(648),-1)),Ml={key:2},Bl={class:r(655)},Nl={class:r(655)},Tl={class:"text-caption text-medium-emphasis ml-2"},Al={class:"comment-text mt-2 whitespace-pre-wrap"},Ol=be({__name:"RequirementDetailsDialog",props:{modelValue:{type:Boolean,default:!1},requirement:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[r(451),r(936),"delete"],setup(s,{emit:o}){const e=r,u=s,C=$({get:()=>u[e(667)],set:y=>o(e(451),y)}),z=it(),D=N(0),k=N(!1),g=N({...u[e(527)]}),m=N(""),I=N(!1),P=N({show:!1,text:"",color:e(563)}),R=[{title:"Functional",value:e(477)},{title:e(602),value:e(853)},{title:e(493),value:"uiux"},{title:"Other",value:e(687)}],B=[{title:e(721),value:e(722)},{title:e(614),value:"active"},{title:e(683),value:e(817)},{title:e(814),value:e(645)}],_=y=>{const p=e;switch(y){case p(477):return p(911);case p(853):return p(495);case p(600):return"success";case p(687):return p(643);default:return p(911)}},E=y=>{const p=e;switch(y){case p(722):return p(875);case p(568):return p(563);case"archived":return p(495);case p(645):return p(643);default:return p(911)}},q=$(()=>u[e(527)].history||[]),v=$(()=>{const y=e;return u[y(527)][y(601)]||[]}),b=y=>{const p=e;return y?(y=parseInt(y),new Date(y)[p(497)](p(528),{year:p(590),month:p(593),day:p(590),hour:p(783),minute:p(783)})):""},l=()=>{const y=e;k[y(456)]&&(g.value={...u.requirement}),k[y(456)]=!k[y(456)]},A=()=>{const y=e;o(y(936),g.value),k[y(456)]=!1},w=()=>{o("delete")},Y=async()=>{const y=e;if(m[y(456)].trim()){I[y(456)]=!0;try{const{data:p,error:i}=await z[y(516)](u[y(527)].id,{text:m.value,status:y(568)});if(p&&!i){ae(y(797)),m[y(456)]="";const{data:j}=await z[y(564)](u[y(527)].id);j&&Object[y(762)](u[y(527)],j)}else ae(y(675),y(898))}catch(p){ae("Failed to add comment: "+p[y(885)],y(898))}finally{I[y(456)]=!1}}},ae=(y,p=e(563))=>{P[e(456)]={show:!0,text:y,color:p}};return _e(()=>u.requirement,y=>{g[e(456)]={...y}},{deep:!0}),(y,p)=>{const i=e,j=de("IconBtn");return h(),U(Ve,{modelValue:S(C),"onUpdate:modelValue":p[10]||(p[10]=c=>De(C)?C[i(456)]=c:null),"max-width":i(882),scrollable:""},{default:a(()=>[t(W,null,{default:a(()=>[t(ee,{class:"d-flex pt-5 px-5"},{default:a(()=>[k[i(456)]?(h(),F("h5",pl,"Edit Requirement")):(h(),F("h5",fl,"Requirement Details")),t(te),t(j,{onClick:p[0]||(p[0]=c=>C[i(456)]=!1)},{default:a(()=>[t(M,{icon:i(607)})]),_:1})]),_:1}),t(Z,{class:i(485)},{default:a(()=>[t(ot,{modelValue:D.value,"onUpdate:modelValue":p[1]||(p[1]=c=>D[i(456)]=c),"slider-color":i(911),"align-tabs":i(838)},{default:a(()=>[t(fe,{value:"0"},{default:a(()=>[t(M,{size:"18",icon:i(423),start:""}),V(i(634))]),_:1}),t(fe,{value:"1"},{default:a(()=>[t(M,{size:"18",icon:i(669),start:""}),V(i(620)),S(q)[i(554)]?(h(),U(Q,{key:0,size:i(664),color:i(911),class:i(856)},{default:a(()=>[V(x(S(q)[i(554)]),1)]),_:1})):T("",!0)]),_:1}),t(fe,{value:"2"},{default:a(()=>[t(M,{size:"18",icon:i(932),start:""}),V(i(570)),S(v)[i(554)]?(h(),U(Q,{key:0,size:i(664),color:i(911),class:i(856)},{default:a(()=>[V(x(S(v)[i(554)]),1)]),_:1})):T("",!0)]),_:1})]),_:1},8,[i(667)])]),_:1}),t(K),t(Z,{class:i(435),style:{"min-height":i(714),"max-height":i(595)}},{default:a(()=>[t(nt,{modelValue:D[i(456)],"onUpdate:modelValue":p[7]||(p[7]=c=>D[i(456)]=c),class:"mt-5"},{default:a(()=>[t(he,{value:"0"},{default:a(()=>[k[i(456)]?(h(),F(i(671),hl,[t(je,{onSubmit:xe(A,[i(562)])},{default:a(()=>[t(le,{class:"mt-3"},{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(ve,{modelValue:g[i(456)][i(904)],"onUpdate:modelValue":p[2]||(p[2]=c=>g[i(456)].title=c),label:i(457),required:"",rules:[c=>!!c||"Title is required"]},null,8,["modelValue","rules"])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[t(ce,{modelValue:g.value[i(452)],"onUpdate:modelValue":p[3]||(p[3]=c=>g[i(456)][i(452)]=c),label:i(524),items:R,required:""},null,8,["modelValue"])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[t(ce,{modelValue:g[i(456)][i(585)],"onUpdate:modelValue":p[4]||(p[4]=c=>g[i(456)].status=c),label:"Status",items:B,required:""},null,8,["modelValue"])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:g[i(456)].description,"onUpdate:modelValue":p[5]||(p[5]=c=>g[i(456)][i(749)]=c),label:i(419),required:"",rows:"8",rules:[c=>!!c||"Description is required"]},null,8,[i(667),i(581)])]),_:1})]),_:1})]),_:1},8,[i(582)])])):(h(),F(i(671),yl,[d("div",vl,[t(Q,{color:_(s.requirement.category),size:"small",label:"",class:i(628)},{default:a(()=>[V(x(s.requirement[i(452)]),1)]),_:1},8,[i(619)]),t(Q,{color:E(s[i(527)][i(585)]),size:"small",label:""},{default:a(()=>[V(x(ge(s[i(527)][i(585)])),1)]),_:1},8,[i(619)]),t(Q,{color:i(495),size:i(445),label:"",class:i(856)},{default:a(()=>[V(" v"+x(s[i(527)][i(895)]),1)]),_:1}),t(te),d(i(671),_l,[t(M,{size:"18",icon:"tabler-calendar",class:i(540)}),d(i(676),bl,"Updated: "+x(b(s.requirement[i(535)])),1),t(M,{size:"18",icon:"tabler-calendar-plus",class:i(540)}),d(i(676),gl,i(922)+x(b(s.requirement[i(458)])),1)])]),d("h4",kl,x(s[i(527)][i(904)]),1),d(i(671),wl,x(s.requirement[i(749)]),1)]))]),_:1}),t(he,{value:"1"},{default:a(()=>[S(q).length===0?(h(),F(i(671),xl,[t(M,{icon:"tabler-history",size:"64",color:i(495),class:"mb-3"}),Vl,Cl])):(h(),F(i(671),ql,[t(St,{density:i(757),align:i(838)},{default:a(()=>[(h(!0),F(se,null,me(S(q),(c,n)=>{const f=i;return h(),U(Ft,{key:n,"dot-color":f(911),size:f(445)},{opposite:a(()=>[d(f(671),Dl,x(b(c[f(891)])),1),d(f(671),jl,"v"+x(c.version_number),1)]),default:a(()=>[t(W,{border:""},{default:a(()=>[t(ne,null,{append:a(()=>[t(Q,{color:E(c[f(585)]),size:f(445),label:"",class:f(856)},{default:a(()=>[V(x(c[f(585)]),1)]),_:2},1032,["color"])]),default:a(()=>[t(ee,null,{default:a(()=>[V(x(c[f(904)]),1)]),_:2},1024)]),_:2},1024),t(Z,null,{default:a(()=>[d("div",Sl,[t(Q,{color:_(c[f(452)]),size:f(445),label:"",class:f(628)},{default:a(()=>[V(x(c[f(452)]),1)]),_:2},1032,["color"]),d("span",zl,f(569)+x(c[f(692)]?c[f(692)]:"Unknown"),1)]),d(f(671),Fl,x(c.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(he,{value:"2"},{default:a(()=>[t(le,{class:i(786)},{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:m[i(456)],"onUpdate:modelValue":p[6]||(p[6]=c=>m[i(456)]=c),label:i(685),rows:"3",counter:"",disabled:I[i(456)]},null,8,["modelValue","disabled"]),d("div",Ul,[t(H,{color:i(911),size:i(445),loading:I.value,disabled:!m.value[i(857)](),onClick:Y},{default:a(()=>[V(" Add Comment ")]),_:1},8,["loading",i(575)])])]),_:1}),t(O,{cols:"12"},{default:a(()=>[S(v)[i(554)]?(h(),U(K,{key:0,class:i(942)})):T("",!0),S(v)[i(554)]===0?(h(),F("div",Pl,[t(M,{icon:i(932),size:"64",color:"secondary",class:"mb-3"}),Rl,Il])):(h(),F(i(671),Ml,[(h(!0),F(se,null,me(S(v),c=>{const n=i;return h(),F("div",{key:c.id,class:n(649)},[t(W,{border:""},{default:a(()=>[t(Z,{class:"py-2"},{default:a(()=>[d(n(671),Bl,[t(Pe,{color:n(911),variant:"tonal",size:"36",class:"me-3"},{default:a(()=>[t(M,{icon:n(434)})]),_:1}),d("div",null,[d("div",Nl,[d("strong",null,x(c[n(504)]?c[n(504)].username:n(858)),1),d(n(671),Tl,x(b(c[n(458)])),1)])]),t(te),s.isAdmin||s[n(489)]?(h(),U(j,{key:0,size:n(445),color:"error",variant:n(906),onClick:f=>(async oe=>{const J=e;I[J(456)]=!0;try{const{success:L,error:G}=await z[J(684)](oe);if(L&&!G){ae("Comment deleted successfully");const{data:Te}=await z[J(564)](u[J(527)].id);Te&&Object[J(762)](u[J(527)],Te)}else ae("Failed to delete comment",J(898))}catch(L){ae(J(938)+L[J(885)],J(898))}finally{I[J(456)]=!1}})(c.id),disabled:I[n(456)]},{default:a(()=>[t(M,{icon:n(735),size:"18"})]),_:2},1032,[n(739),n(575)])):T("",!0)]),d(n(671),Al,x(c[n(906)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[i(667)])]),_:1}),t(K),t(ue,{class:i(599)},{default:a(()=>[k[i(456)]?(h(),F(se,{key:0},[t(H,{color:i(495),variant:i(612),onClick:l},{default:a(()=>[V(i(663))]),_:1}),t(te),t(H,{color:i(911),onClick:A},{default:a(()=>[V(i(867))]),_:1})],64)):(h(),F(se,{key:1},[s[i(618)]?(h(),U(H,{key:0,color:i(898),variant:i(612),"prepend-icon":"tabler-trash",onClick:w},{default:a(()=>[V(i(801))]),_:1})):T("",!0),t(te),s[i(836)]?(h(),U(H,{key:1,color:i(911),"prepend-icon":"tabler-edit",onClick:l},{default:a(()=>[V(i(894))]),_:1})):T("",!0)],64))]),_:1})]),_:1}),t(ye,{modelValue:P[i(456)][i(728)],"onUpdate:modelValue":p[9]||(p[9]=c=>P[i(456)][i(728)]=c),color:P[i(456)][i(619)],timeout:5e3},{actions:a(()=>[t(j,{onClick:p[8]||(p[8]=c=>P[i(456)][i(728)]=!1)},{default:a(()=>[t(M,{icon:i(607)})]),_:1})]),default:a(()=>[V(x(P[i(456)][i(906)])+" ",1)]),_:1},8,[i(667),"color"])]),_:1},8,[i(667)])}}},[["__scopeId",r(450)]]),Hl={class:r(496)},Ll={__name:r(795),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},requirementData:{type:Object,default:()=>({})}},emits:["update:modelValue","submit"],setup(s,{emit:o}){const e=r,u=s,C=$({get:()=>u.modelValue,set:_=>o(e(451),_)}),z=N({title:u[e(705)]&&u.requirementData?u.requirementData[e(904)]:"",description:u.editMode&&u[e(611)]?u[e(611)].description:"",category:u.editMode&&u[e(611)]?u[e(611)][e(452)]:e(477),status:u.editMode&&u[e(611)]?u[e(611)][e(585)]:e(722)}),D=[_=>!!_||"Title is required",_=>_[e(554)]<=255||e(915)],k=[_=>!!_||"Description is required"],g=[{title:"Functional",value:e(477)},{title:"Non-Functional",value:e(853)},{title:e(493),value:e(600)},{title:e(654),value:"other"}],m=[{title:e(721),value:e(722)},{title:e(614),value:e(568)},{title:e(683),value:e(817)},{title:"Completed",value:e(645)}],I=N(null),P=()=>{const _=e;z[_(456)]={title:"",description:"",category:_(477),status:_(722)},I.value&&I[_(456)][_(960)]()},R=()=>{C.value=!1,P()},B=async()=>{const _=e,{valid:E}=await I[_(456)][_(790)]();E&&(o(_(912),z[_(456)]),C.value=!1,P())};return _e(C,_=>{_||P()}),(_,E)=>{const q=e,v=de(q(512));return h(),U(Ve,{modelValue:S(C),"onUpdate:modelValue":E[4]||(E[4]=b=>De(C)?C[q(456)]=b:null),"max-width":q(854),persistent:""},{default:a(()=>[t(W,null,{default:a(()=>[t(ee,{class:"d-flex pt-5 px-5"},{default:a(()=>[d("h5",Hl,x(u[q(705)]?q(695):q(561)),1),t(te),t(v,{onClick:R},{default:a(()=>[t(M,{icon:"tabler-x"})]),_:1})]),_:1}),t(Z,{class:"px-5 pt-4"},{default:a(()=>[t(je,{ref_key:q(961),ref:I,onSubmit:xe(B,[q(562)])},{default:a(()=>[t(le,{class:q(786)},{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(ve,{modelValue:z.value[q(904)],"onUpdate:modelValue":E[0]||(E[0]=b=>z[q(456)][q(904)]=b),label:q(843),rules:D,required:""},null,8,["modelValue"])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[t(ce,{modelValue:z.value.category,"onUpdate:modelValue":E[1]||(E[1]=b=>z[q(456)][q(452)]=b),label:q(524),items:g,required:""},null,8,[q(667)])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[t(ce,{modelValue:z[q(456)].status,"onUpdate:modelValue":E[2]||(E[2]=b=>z[q(456)][q(585)]=b),label:q(946),items:m,required:""},null,8,[q(667)])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:z.value.description,"onUpdate:modelValue":E[3]||(E[3]=b=>z[q(456)][q(749)]=b),label:q(419),rules:k,required:"",rows:"6"},null,8,[q(667)])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(K),t(ue,{class:q(599)},{default:a(()=>[t(H,{variant:q(612),color:q(495),onClick:R},{default:a(()=>[V(q(663))]),_:1}),t(te),t(H,{color:q(911),onClick:B},{default:a(()=>[V(x(u.editMode?q(887):q(610))+q(609),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[q(667)])}}},El={key:0,class:r(460),style:{height:r(498)}},Jl={key:1,class:r(567)},Gl=(Se=()=>d("h4",{class:"text-h6 mb-2"},"No Requirements Found",-1),ke(r(925)),Se=Se(),we(),Se),$l={class:"text-body-1 text-medium-emphasis mb-6"},Zl={class:"text-body-2 mb-3"},Ql={class:r(523)},Kl={class:"d-flex align-center"},Wl={class:r(437)},Yl={class:r(655)},Xl={class:"text-caption"},ea={class:"d-flex align-center"},ta={class:r(566)},la=be({__name:r(939),props:{projectId:{type:String,required:!0},requirements:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[r(644)],setup(s,{emit:o}){const e=r,u=s,C=it(),z=Re(),D=N(null),k=N(e(482)),g=N("all"),m=N(""),I=N(!1),P=N(!1),R=N(!1),B=N(!1),_=N({show:!1,text:"",color:"success"}),E=$(()=>z[e(475)]()),q=$(()=>z.userData[e(453)]>=2),v=$(()=>z[e(633)][e(453)]>=3),b=[{title:"All Categories",value:e(482)},{title:e(429),value:e(477)},{title:e(602),value:e(853)},{title:e(493),value:e(600)},{title:"Other",value:e(687)}],l=[{title:"All Statuses",value:e(482)},{title:e(721),value:"draft"},{title:"Active",value:e(568)},{title:e(683),value:e(817)},{title:e(814),value:e(645)}],A=$(()=>{const c=e;return u.requirements[c(641)](n=>{const f=c,oe=!m[f(456)]||n[f(904)].toLowerCase()[f(592)](m[f(456)][f(424)]())||n[f(749)][f(424)]()[f(592)](m[f(456)][f(424)]()),J=k.value==="all"||n[f(452)]===k[f(456)],L=g[f(456)]===f(482)||n[f(585)]===g[f(456)];return oe&&J&&L})}),w=()=>{P[e(456)]=!0},Y=async c=>{const n=e;B[n(456)]=!0;try{const{data:f,error:oe}=await C[n(776)]({...c,project:u[n(941)]});f&&!oe?(p(n(605)),o(n(644))):p("Failed to create requirement","error")}catch(f){p(n(892)+f.message,n(898))}finally{B.value=!1}},ae=async c=>{const n=e;B[n(456)]=!0;try{const{data:f,error:oe}=await C.updateRequirement(D[n(456)].id,c);f&&!oe?(p(n(816)),o(n(644))):p(n(443),n(898))}catch(f){p(n(553)+f[n(885)],"error")}finally{B[n(456)]=!1}},y=async()=>{const c=e;if(D[c(456)]){B[c(456)]=!0,R[c(456)]=!1;try{const{success:n,error:f}=await C.deleteRequirement(D[c(456)].id);n&&!f?(p(c(483)),o(c(644)),I[c(456)]=!1):p(c(505),"error")}catch(n){p(c(769)+n[c(885)],c(898))}finally{B[c(456)]=!1}}},p=(c,n="success")=>{_[e(456)]={show:!0,text:c,color:n}},i=(c,n=120)=>{const f=e;return!c||c[f(554)]<=n?c:c[f(662)](0,n)+f(571)},j=c=>{const n=e;return c?(c=parseInt(c),new Date(c).toLocaleDateString(n(528),{year:n(590),month:n(593),day:"numeric"})):""};return st(()=>{}),(c,n)=>{const f=e,oe=Je,J=de(f(512));return h(),U(Z,{class:f(435)},{default:a(()=>[t(le,null,{default:a(()=>[t(O,{cols:"12",md:"4"},{default:a(()=>[t(ve,{modelValue:m[f(456)],"onUpdate:modelValue":n[0]||(n[0]=L=>m[f(456)]=L),density:f(757),placeholder:f(473),"prepend-inner-icon":f(959),"hide-details":"",variant:"outlined",clearable:""},null,8,[f(667)])]),_:1}),t(O,{cols:"12",md:"3"},{default:a(()=>[t(ce,{modelValue:k[f(456)],"onUpdate:modelValue":n[1]||(n[1]=L=>k[f(456)]=L),items:b,density:f(757),"hide-details":"",label:f(524),variant:"outlined"},null,8,[f(667)])]),_:1}),t(O,{cols:"12",md:"3"},{default:a(()=>[t(ce,{modelValue:g[f(456)],"onUpdate:modelValue":n[2]||(n[2]=L=>g[f(456)]=L),items:l,density:f(757),"hide-details":"",label:f(946),variant:"outlined"},null,8,[f(667)])]),_:1}),t(O,{cols:"12",md:"2",class:f(655)},{default:a(()=>[S(v)?(h(),U(H,{key:0,color:"primary","prepend-icon":f(945),onClick:w,loading:B.value,block:""},{default:a(()=>[V(" Add ")]),_:1},8,[f(764)])):T("",!0)]),_:1})]),_:1}),t(K,{class:"my-5"}),s.loading?(h(),F(f(671),El,[t(Ie,{indeterminate:"",color:f(911)})])):S(A)[f(554)]===0?(h(),F("div",Jl,[t(M,{icon:f(653),size:"64",color:f(495),class:f(942)}),Gl,d("p",$l,x(m[f(456)]||k.value!==f(482)||g.value!==f(482)?f(621):f(521)),1),S(v)&&!m[f(456)]&&k[f(456)]===f(482)&&g[f(456)]===f(482)?(h(),U(H,{key:0,color:"primary",onClick:w,"prepend-icon":f(945)},{default:a(()=>[V(f(907))]),_:1})):T("",!0)])):(h(),U(le,{key:2},{default:a(()=>[(h(!0),F(se,null,me(S(A),L=>{const G=f;return h(),U(O,{key:L.id,cols:"12",md:"6"},{default:a(()=>[t(W,{class:G(461),onClick:Te=>(pt=>{const Ge=e;D[Ge(456)]=pt,I[Ge(456)]=!0})(L),border:"",hover:""},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(Pe,{color:S(jt)(L[G(452)]),variant:G(612),size:"42"},{default:a(()=>[L.category==="functional"?(h(),U(M,{key:0,icon:G(824)})):L.category===G(853)?(h(),U(M,{key:1,icon:G(484)})):L[G(452)]===G(600)?(h(),U(M,{key:2,icon:"tabler-palette"})):(h(),U(M,{key:3,icon:G(929)}))]),_:2},1032,[G(619)])]),append:a(()=>[t(Q,{color:S(Me)(L[G(585)]),size:G(445),label:""},{default:a(()=>[V(x(ge(L[G(585)])),1)]),_:2},1032,[G(619)])]),default:a(()=>[t(ee,null,{default:a(()=>[V(x(L[G(904)]),1)]),_:2},1024)]),_:2},1024),t(Z,null,{default:a(()=>[d("p",Zl,x(i(L[G(749)])),1),d(G(671),Ql,[d(G(671),Kl,[t(M,{size:"16",icon:G(577),class:G(540)}),d(G(676),Wl,x(L[G(452)]),1)]),d("div",Yl,[t(M,{size:"16",icon:"tabler-calendar",class:"me-1"}),d(G(676),Xl,x(j(L.updated_at)),1)]),d(G(671),ea,[t(M,{size:"16",icon:G(669),class:"me-1"}),d(G(676),ta,"v"+x(L.version_number),1)])])]),_:2},1024)]),_:2},1032,[G(739)])]),_:2},1024)}),128))]),_:1})),D[f(456)]?(h(),U(Ol,{key:3,modelValue:I[f(456)],"onUpdate:modelValue":n[3]||(n[3]=L=>I.value=L),requirement:D.value,onDelete:n[4]||(n[4]=L=>R[f(456)]=!0),onUpdate:ae,"is-admin":S(E),"has-manager-permission":S(q),"has-moderator-permission":S(v)},null,8,["modelValue",f(527),f(754),f(710),"has-moderator-permission"])):T("",!0),t(Ll,{modelValue:P.value,"onUpdate:modelValue":n[5]||(n[5]=L=>P[f(456)]=L),onSubmit:Y},null,8,[f(667)]),t(oe,{isDialogVisible:R.value,"onUpdate:isDialogVisible":n[6]||(n[6]=L=>R[f(456)]=L),confirmationMsg:"Are you sure you want to delete this requirement? This action cannot be undone.",onConfirm:y},null,8,["isDialogVisible"]),t(ye,{modelValue:_[f(456)].show,"onUpdate:modelValue":n[8]||(n[8]=L=>_[f(456)][f(728)]=L),color:_[f(456)][f(619)],timeout:5e3},{actions:a(()=>[t(J,{onClick:n[7]||(n[7]=L=>_[f(456)][f(728)]=!1)},{default:a(()=>[t(M,{icon:f(607)})]),_:1})]),default:a(()=>[V(x(_[f(456)][f(906)])+" ",1)]),_:1},8,[f(667),"color"])]),_:1})}}},[[r(699),"data-v-39a9286f"]]),ut=Le({id:r(752),state:()=>({mockups:[],currentMockup:null,loading:!1,error:null}),actions:{async fetchMockups(s=null){const o=r;this.loading=!0;try{let e="/service/mockups/";s&&(e+=o(865)+s);const u=await X.get(e);return u[o(585)]===200?(this[o(428)]=u[o(427)],{data:u[o(427)],error:null}):{data:[],error:u.data}}catch(e){return this[o(898)]=e[o(885)]||o(606),{data:[],error:this[o(898)]}}finally{this[o(764)]=!1}},async fetchMockupById(s){const o=r;this[o(764)]=!0;try{const e=await X[o(846)]("/service/mockups/"+s+"/");return e.status===200?(this[o(701)]=e[o(427)],{data:e[o(427)],error:null}):{data:null,error:e[o(427)]}}catch(e){return this[o(898)]=e.message||o(519),{data:null,error:this.error}}finally{this.loading=!1}},async createMockup(s){const o=r;this[o(764)]=!0;try{const e=await X[o(725)](o(418),s);return e[o(585)]===201?(this.mockups[o(554)]&&this[o(428)].push(e[o(427)]),{data:e[o(427)],error:null}):{data:null,error:e.data}}catch(e){return this[o(898)]=e.message||"Failed to create mockup",{data:null,error:this[o(898)]}}finally{this[o(764)]=!1}},async updateMockup(s,o){const e=r;this[e(764)]=!0;try{const u=await X[e(536)](e(418)+s+"/",o);if(u[e(585)]===200){if(this[e(428)].length){const C=this[e(428)][e(729)](z=>z.id===s);C!==-1&&(this[e(428)][C]=u[e(427)])}return this.currentMockup&&this[e(701)].id===s&&(this[e(701)]=u[e(427)]),{data:u[e(427)],error:null}}return{data:null,error:u[e(427)]}}catch(u){return this[e(898)]=u[e(885)]||e(623),{data:null,error:this[e(898)]}}finally{this[e(764)]=!1}},async deleteMockup(s){const o=r;this[o(764)]=!0;try{const e=await X[o(873)](o(418)+s+"/");return e[o(585)]===204?(this.mockups[o(554)]&&(this[o(428)]=this[o(428)].filter(u=>u.id!==s)),this.currentMockup&&this[o(701)].id===s&&(this[o(701)]=null),{success:!0,error:null}):{success:!1,error:e[o(427)]}}catch(e){return this.error=e[o(885)]||o(638),{success:!1,error:this[o(898)]}}finally{this[o(764)]=!1}}}}),ct=s=>(ke(r(900)),s=s(),we(),s),aa={key:0,class:"text-h5"},sa={class:r(496)},ra={key:0},oa={key:1},na={class:"mockup-metadata d-flex align-center px-6 py-3"},ia={class:r(655)},ua={class:r(566)},ca={class:r(665)},da={class:r(566)},ma={key:0,class:r(665)},pa={class:r(566)},fa={class:"mockup-content pa-0"},ha=[r(511)],ya={key:1,class:r(845),style:{height:r(714)}},va=ct(()=>d("h4",{class:"text-h6 mb-2"},r(531),-1)),_a=ct(()=>d("p",{class:r(831)}," This mockup doesn't have any HTML content to display. ",-1)),ba=be({__name:r(613),props:{modelValue:{type:Boolean,default:!1},mockup:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1}},emits:[r(451),r(873)],setup(s,{emit:o}){const e=r,u=s,C=$({get:()=>u[e(667)],set:v=>o(e(451),v)}),z=ut(),D=N(!1),k=N(!1),g=N({...u[e(719)]}),m=N(!1),I=N({show:!1,text:"",color:e(563)}),P=v=>{const b=e;return v?new Date(parseInt(v))[b(497)](b(528),{year:b(590),month:b(593),day:b(590),hour:b(783),minute:b(783)}):""},R=()=>{const v=e;D[v(456)]=!D[v(456)]},B=()=>{const v=e;k.value&&(g[v(456)]={...u[v(719)]}),k[v(456)]=!k[v(456)]},_=async()=>{const v=e;m.value=!0;try{const{data:b,error:l}=await z.updateMockup(u[v(719)].id,g[v(456)]);b&&!l?(q(v(514)),Object[v(762)](u[v(719)],b),k[v(456)]=!1):q(v(623),v(898))}catch(b){q(v(779)+b[v(885)],v(898))}finally{m[v(456)]=!1}},E=()=>{o(e(873))},q=(v,b="success")=>{I.value={show:!0,text:v,color:b}};return _e(()=>u[e(719)],v=>{g[e(456)]={...v}},{deep:!0}),(v,b)=>{const l=e,A=de(l(512));return h(),U(Ve,{modelValue:S(C),"onUpdate:modelValue":b[6]||(b[6]=w=>De(C)?C[l(456)]=w:null),fullscreen:D[l(456)],"max-width":D.value?l(884):"900",scrollable:""},{default:a(()=>[t(W,null,{default:a(()=>[t(ee,{class:"d-flex py-3 px-5"},{default:a(()=>[k[l(456)]?(h(),F("h5",aa,"Edit Mockup")):(h(),F(se,{key:1},[d("h5",sa,x(s[l(719)][l(712)]),1),t(Q,{color:S(Me)(s[l(719)][l(585)]),size:l(445),label:""},{default:a(()=>[V(x(ge(s[l(719)][l(585)])),1)]),_:1},8,[l(619)])],64)),t(te),t(H,{icon:"",variant:"text",onClick:R},{default:a(()=>[t(M,{icon:D[l(456)]?l(800):l(901)},null,8,[l(861)])]),_:1}),t(A,{onClick:b[0]||(b[0]=w=>C[l(456)]=!1)},{default:a(()=>[t(M,{icon:l(607)})]),_:1})]),_:1}),t(K),t(Z,{class:rt({"pa-0":!k.value,"pa-6":k[l(456)]}),style:Ae({height:D.value?l(583):l(595),maxHeight:l(871)})},{default:a(()=>[k[l(456)]?(h(),F("div",ra,[t(je,{onSubmit:xe(_,[l(562)])},{default:a(()=>[t(le,{class:l(786)},{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(ve,{modelValue:g[l(456)][l(712)],"onUpdate:modelValue":b[1]||(b[1]=w=>g[l(456)][l(712)]=w),label:l(909),required:"",rules:[w=>!!w||l(765)]},null,8,[l(667),l(581)])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[t(ce,{modelValue:g.value[l(585)],"onUpdate:modelValue":b[2]||(b[2]=w=>g[l(456)][l(585)]=w),label:l(946),items:[{title:l(721),value:l(722)},{title:"Active",value:l(568)},{title:l(683),value:"archived"},{title:"Completed",value:l(645)}],required:""},null,8,[l(667)])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:g.value[l(659)],"onUpdate:modelValue":b[3]||(b[3]=w=>g[l(456)][l(659)]=w),label:l(916),rows:"15",rules:[w=>!!w||l(918)],monospace:""},null,8,[l(667),"rules"])]),_:1})]),_:1})]),_:1},8,[l(582)])])):(h(),F(l(671),oa,[d(l(671),na,[d(l(671),ia,[t(M,{icon:l(629),class:l(628),size:"18"}),d(l(676),ua,"Created: "+x(P(s[l(719)][l(458)])),1)]),d(l(671),ca,[t(M,{icon:l(753),class:l(628),size:"18"}),d("span",da,l(679)+x(P(s[l(719)][l(535)])),1)]),s[l(719)][l(527)]?(h(),F(l(671),ma,[t(M,{icon:"tabler-file-check",class:"me-2",size:"18"}),d(l(676),pa,l(608)+x(s[l(719)][l(527)]),1)])):T("",!0)]),t(K),d(l(671),fa,[s.mockup[l(659)]?(h(),F("iframe",{key:0,srcdoc:s[l(719)].html_content,class:l(502),style:Ae([{width:l(884),border:l(508)},{height:D[l(456)]?l(416):l(775)}]),sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",title:l(630)},null,12,ha)):(h(),F(l(671),ya,[t(M,{icon:l(821),size:"64",color:l(495),class:l(942)}),va,_a]))])]))]),_:1},8,[l(815),l(661)]),t(K),t(ue,{class:l(599)},{default:a(()=>[k[l(456)]?(h(),F(se,{key:0},[t(H,{color:l(495),variant:l(612),onClick:B,disabled:m.value},{default:a(()=>[V(l(663))]),_:1},8,["disabled"]),t(te),t(H,{color:l(911),onClick:_,loading:m[l(456)]},{default:a(()=>[V(" Save Changes ")]),_:1},8,["loading"])],64)):(h(),F(se,{key:1},[s[l(618)]?(h(),U(H,{key:0,color:l(898),variant:l(612),"prepend-icon":l(735),onClick:E},{default:a(()=>[V(l(801))]),_:1})):T("",!0),t(te),s[l(489)]?(h(),U(H,{key:1,color:l(911),"prepend-icon":l(635),onClick:B},{default:a(()=>[V(" Edit ")]),_:1})):T("",!0),s[l(489)]?(h(),U(H,{key:2,class:"ms-2",color:l(911),variant:l(612),"prepend-icon":l(819),onClick:B},{default:a(()=>[V(l(596))]),_:1})):T("",!0)],64))]),_:1})]),_:1}),t(ye,{modelValue:I[l(456)][l(728)],"onUpdate:modelValue":b[5]||(b[5]=w=>I[l(456)].show=w),color:I[l(456)][l(619)],timeout:5e3},{actions:a(()=>[t(A,{onClick:b[4]||(b[4]=w=>I[l(456)].show=!1)},{default:a(()=>[t(M,{icon:l(607)})]),_:1})]),default:a(()=>[V(x(I[l(456)][l(906)])+" ",1)]),_:1},8,[l(667),"color"])]),_:1},8,[l(667),l(565),l(835)])}}},[[r(699),"data-v-b1d59641"]]),dt=s=>(ke(r(479)),s=s(),we(),s),ga={key:0,class:r(460),style:{height:r(498)}},ka={key:1,class:r(567)},wa=dt(()=>d("h4",{class:r(440)},r(706),-1)),xa={class:r(921)},Va={class:r(913)},Ca={class:r(688),style:{height:r(693)}},qa={key:0,class:r(580)},Da=[r(952)],ja={key:1,class:"d-flex justify-center align-center h-100"},Sa={class:r(668)},za={key:0,class:"mb-2"},Fa=dt(()=>d(r(676),{class:r(476)},r(608),-1)),Ua={class:r(523)},Pa={class:r(655)},Ra={class:r(566)},Ia=be({__name:r(431),props:{projectId:{type:String,required:!0},mockups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[r(644)],setup(s,{emit:o}){const e=r,u=s,C=ut(),z=Re(),D=N(""),k=N(null),g=N(!1),m=N(!1),I=N(!1),P=N({show:!1,text:"",color:e(563)}),R=$(()=>z[e(475)]()),B=$(()=>z[e(633)][e(453)]>=2);$(()=>z[e(633)][e(453)]>=3);const _=$(()=>{const l=e;return u[l(428)].filter(A=>{const w=l;return!D[w(456)]||A[w(712)][w(424)]()[w(592)](D.value[w(424)]())||A[w(527)]&&A[w(527)].title[w(424)]().includes(D[w(456)][w(424)]())})}),E=l=>{const A=e;return l?new Date(parseInt(l))[A(497)]("en-US",{year:"numeric",month:A(593),day:"numeric"}):""},q=async()=>{const l=e;if(k[l(456)]){I[l(456)]=!0,m[l(456)]=!1;try{const{success:A,error:w}=await C[l(910)](k[l(456)].id);A&&!w?(v("Mockup deleted successfully"),o("refresh"),g.value=!1):v(l(638),l(898))}catch(A){v(l(544)+A[l(885)],"error")}finally{I[l(456)]=!1}}},v=(l,A=e(563))=>{P[e(456)]={show:!0,text:l,color:A}},b=(l,A=150)=>{const w=e;if(!l||l.length<=A)return l;const Y=l[w(415)](/<[^>]*>/g,"");return Y[w(554)]<=A?l:Y[w(662)](0,A)+w(571)};return(l,A)=>{const w=e,Y=Je,ae=de(w(512));return h(),U(Z,{class:w(435)},{default:a(()=>[t(le,null,{default:a(()=>[t(O,{cols:"12",md:"6"},{default:a(()=>[t(ve,{modelValue:D[w(456)],"onUpdate:modelValue":A[0]||(A[0]=y=>D[w(456)]=y),density:w(757),placeholder:w(738),"prepend-inner-icon":"tabler-search","hide-details":"",variant:w(768),clearable:""},null,8,[w(667)])]),_:1})]),_:1}),t(K,{class:w(715)}),s.loading?(h(),F(w(671),ga,[t(Ie,{indeterminate:"",color:"primary"})])):S(_).length===0?(h(),F(w(671),ka,[t(M,{icon:"tabler-photo-off",size:"64",color:w(495),class:"mb-4"}),wa,d("p",xa,x(D.value?w(520):w(889)),1)])):(h(),U(le,{key:2},{default:a(()=>[(h(!0),F(se,null,me(S(_),y=>{const p=w;return h(),U(O,{key:y.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[t(W,{class:"mockup-card h-100",onClick:i=>{return j=y,k[e(456)]=j,void(g.value=!0);var j},border:"",hover:""},{default:a(()=>[t(ne,null,{append:a(()=>[t(Q,{color:S(Me)(y[p(585)]),size:"small",label:""},{default:a(()=>[V(x(ge(y[p(585)])),1)]),_:2},1032,["color"])]),default:a(()=>[t(ee,null,{default:a(()=>[V(x(y[p(712)]),1)]),_:2},1024)]),_:2},1024),t(K),t(Z,null,{default:a(()=>[d("div",Va,[d(p(671),Ca,[y[p(659)]?(h(),F(p(671),qa,[d(p(671),{innerHTML:b(y.html_content)},null,8,Da)])):(h(),F(p(671),ja,[t(M,{icon:p(923),size:"48",color:p(495)})])),d(p(671),Sa,[t(H,{color:p(911),variant:p(956),size:p(445),"prepend-icon":p(466)},{default:a(()=>[V(p(933))]),_:1})])])]),y[p(527)]?(h(),F("div",za,[Fa,t(Q,{size:p(664),color:p(911),class:p(804)},{default:a(()=>[V(x(y[p(527)]),1)]),_:2},1024)])):T("",!0),d("div",Ua,[d(p(671),Pa,[t(M,{size:"16",icon:p(629),class:p(540)}),d("span",Ra,x(E(y[p(458)])),1)])])]),_:2},1024)]),_:2},1032,[p(739)])]),_:2},1024)}),128))]),_:1})),k.value?(h(),U(ba,{key:3,modelValue:g.value,"onUpdate:modelValue":A[1]||(A[1]=y=>g[w(456)]=y),mockup:k[w(456)],onDelete:A[2]||(A[2]=y=>m.value=!0),"is-admin":S(R),"has-manager-permission":S(B)},null,8,[w(667),w(719),w(754),w(710)])):T("",!0),t(Y,{isDialogVisible:m.value,"onUpdate:isDialogVisible":A[3]||(A[3]=y=>m.value=y),confirmationMsg:w(666),onConfirm:q},null,8,[w(414)]),t(ye,{modelValue:P[w(456)][w(728)],"onUpdate:modelValue":A[5]||(A[5]=y=>P[w(456)][w(728)]=y),color:P.value.color,timeout:5e3},{actions:a(()=>[t(ae,{onClick:A[4]||(A[4]=y=>P.value[w(728)]=!1)},{default:a(()=>[t(M,{icon:"tabler-x"})]),_:1})]),default:a(()=>[V(x(P.value[w(906)])+" ",1)]),_:1},8,["modelValue",w(619)])]),_:1})}}},[[r(699),r(479)]]),mt=Le({id:"DevelopmentPlanStore",state:()=>({plans:[],currentPlan:null,loading:!1,error:null}),actions:{async fetchDevelopmentPlans(s=null){const o=r;this.loading=!0;try{let e="/service/development-plans/";s&&(e+="?project="+s);const u=await X.get(e);return u[o(585)]===200?(this[o(708)]=u[o(427)],{data:u[o(427)],error:null}):{data:[],error:u[o(427)]}}catch(e){return this[o(898)]=e[o(885)]||"Failed to fetch development plans",{data:[],error:this[o(898)]}}finally{this.loading=!1}},async fetchDevelopmentPlanById(s){const o=r;this[o(764)]=!0;try{const e=await X.get(o(828)+s+"/");return e.status===200?(this[o(513)]=e[o(427)],{data:e[o(427)],error:null}):{data:null,error:e[o(427)]}}catch(e){return this[o(898)]=e[o(885)]||"Failed to fetch development plan",{data:null,error:this[o(898)]}}finally{this[o(764)]=!1}},async createDevelopmentPlan(s){const o=r;this.loading=!0;try{const e=await X.post(o(828),{project:s,status:"draft"});return e[o(585)]===201?{data:e[o(427)],error:null}:{data:null,error:e.data}}catch(e){return this[o(898)]=e.message||o(572),{data:null,error:this.error}}finally{this[o(764)]=!1}},async updateDevelopmentPlan(s,o){const e=r;this.loading=!0;try{const u=await X[e(536)](e(828)+s+"/",o);return u[e(585)]===200?(this.currentPlan&&this[e(513)].id===s&&(this[e(513)]=u.data),{data:u[e(427)],error:null}):{data:null,error:u[e(427)]}}catch(u){return this[e(898)]=u.message||e(421),{data:null,error:this[e(898)]}}finally{this[e(764)]=!1}},async createPlanVersion(s,o){const e=r;this[e(764)]=!0;try{const u=await X.post("/service/development-plans/"+s+"/new_version/",o);return u[e(585)]===201?{data:u.data,error:null}:{data:null,error:u[e(427)]}}catch(u){return this[e(898)]=u.message||"Failed to create plan version",{data:null,error:this.error}}finally{this[e(764)]=!1}},async fetchPlanVersionById(s){const o=r;this[o(764)]=!0;try{const e=await X[o(846)]("/service/development-plan-versions/"+s+"/");return e[o(585)]===200?{data:e.data,error:null}:{data:null,error:e.data}}catch(e){return this[o(898)]=e.message||"Failed to fetch plan version",{data:null,error:this[o(898)]}}finally{this[o(764)]=!1}},async updatePlanVersion(s,o){const e=r;this[e(764)]=!0;try{const u=await X[e(536)]("/service/development-plan-versions/"+s+"/",o);return u.status===200?{data:u[e(427)],error:null}:{data:null,error:u[e(427)]}}catch(u){return this[e(898)]=u[e(885)]||e(780),{data:null,error:this[e(898)]}}finally{this[e(764)]=!1}},async setCurrentPlanVersion(s,o){const e=r;this[e(764)]=!0;try{const u=await this[e(730)](s);if(!u[e(427)])return{data:null,error:e(677)};const C=await this[e(506)](o);return C[e(427)]?await this[e(794)](s,{current_version_number:C.data[e(895)],status:u.data[e(585)]}):{data:null,error:e(826)}}catch(u){return this.error=u.message||e(442),{data:null,error:this[e(898)]}}finally{this[e(764)]=!1}}}}),Ne=s=>(ke(r(455)),s=s(),we(),s),Ma={key:0,class:"text-h5"},Ba={key:1,class:r(496)},Na={key:0},Ta=Ne(()=>d("p",{class:r(864)},"Roles & Hours",-1)),Aa={key:1},Oa={class:r(615)},Ha={class:r(655)},La={class:r(655)},Ea={class:r(566)},Ja={key:0,class:"text-caption ms-3"},Ga={class:r(844)},$a=Ne(()=>d(r(671),{class:r(702)},r(518),-1)),Za=Ne(()=>d(r(949),null,[d("tr",null,[d("th",null,r(425)),d("th",{class:r(420)},"Hours"),d("th",{class:"text-right"},r(810))])],-1)),Qa={class:"text-right"},Ka={class:r(420)},Wa={key:0},Ya=[Ne(()=>d("td",{colspan:"3",class:r(777)},r(787),-1))],Xa={class:"text-body-1 whitespace-pre-wrap"},es=be({__name:r(818),props:{modelValue:{type:Boolean,default:!1},version:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},planId:{type:String,default:null}},emits:[r(451),"refresh"],setup(s,{emit:o}){const e=r,u=s,C=$({get:()=>u[e(667)],set:v=>o("update:modelValue",v)}),z=mt(),D=N(!1),k=N({...u[e(672)]}),g=N(!1),m=N({show:!1,text:"",color:"success"}),I=v=>{const b=e;return v?new Date(parseInt(v))[b(497)]("en-US",{year:"numeric",month:b(593),day:"numeric",hour:b(783),minute:b(783)}):""},P=v=>{const b=e;return v||v===0?new Intl[b(711)](b(528),{style:"currency",currency:"USD",minimumFractionDigits:2})[b(709)](v):"-"},R=()=>{const v=e;D.value&&(k.value={...u[v(672)]}),D[v(456)]=!D[v(456)]},B=async()=>{const v=e;g[v(456)]=!0;try{const{data:b,error:l}=await z[v(869)](u[v(672)].id,k[v(456)]);b&&!l?(q(v(529)),Object[v(762)](u[v(672)],b),D.value=!1,o(v(644))):q(v(780),v(898))}catch(b){q(v(441)+b[v(885)],v(898))}finally{g.value=!1}},_=async()=>{const v=e;if(u.planId){g[v(456)]=!0;try{const{data:b,error:l}=await z[v(636)](u[v(878)],u[v(672)].id);b&&!l?(q(v(640)),o(v(644))):q(v(731),"error")}catch(b){q(v(500)+b[v(885)],v(898))}finally{g[v(456)]=!1}}},E=v=>{const b=e;if(!v)return[];try{return typeof v===b(744)?JSON.parse(v):v}catch(l){return console.error("Error parsing roles and hours:",l),[]}},q=(v,b=e(563))=>{m[e(456)]={show:!0,text:v,color:b}};return _e(()=>u[e(672)],v=>{k.value={...v}},{deep:!0}),(v,b)=>{const l=e,A=de(l(512));return h(),U(Ve,{modelValue:S(C),"onUpdate:modelValue":b[7]||(b[7]=w=>De(C)?C.value=w:null),"max-width":l(882),scrollable:""},{default:a(()=>[t(W,null,{default:a(()=>[t(ee,{class:l(745)},{default:a(()=>[D[l(456)]?(h(),F("h5",Ma,l(444))):(h(),F("h5",Ba,[V(l(627)+x(s[l(672)][l(895)])+" ",1),s[l(847)]?(h(),U(Q,{key:0,color:l(911),size:l(445),label:"",class:l(856)},{default:a(()=>[V(l(432))]),_:1})):T("",!0)])),t(te),t(A,{onClick:b[0]||(b[0]=w=>C[l(456)]=!1)},{default:a(()=>[t(M,{icon:l(607)})]),_:1})]),_:1}),t(K),t(Z,{class:l(435)},{default:a(()=>[D[l(456)]?(h(),F(l(671),Na,[t(je,{onSubmit:xe(B,[l(562)])},{default:a(()=>[t(le,{class:l(786)},{default:a(()=>[t(O,{cols:"12",md:"4"},{default:a(()=>[t(ve,{modelValue:k[l(456)][l(791)],"onUpdate:modelValue":b[1]||(b[1]=w=>k[l(456)][l(791)]=w),modelModifiers:{number:!0},label:l(707),type:"number",required:"",rules:[w=>!!w||l(890)]},null,8,["modelValue",l(581)])]),_:1}),t(O,{cols:"12",md:"4"},{default:a(()=>[t(ce,{modelValue:k.value[l(585)],"onUpdate:modelValue":b[2]||(b[2]=w=>k[l(456)][l(585)]=w),label:l(946),items:[{title:l(721),value:l(722)},{title:"Active",value:"active"},{title:l(683),value:l(817)},{title:l(814),value:"completed"}],required:""},null,8,[l(667)])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:k[l(456)].notes,"onUpdate:modelValue":b[3]||(b[3]=w=>k[l(456)][l(584)]=w),label:l(690),rows:"4"},null,8,["modelValue"])]),_:1}),t(O,{cols:"12"},{default:a(()=>[Ta,t(pe,{modelValue:k[l(456)][l(792)],"onUpdate:modelValue":b[4]||(b[4]=w=>k.value[l(792)]=w),label:l(586),rows:"8",monospace:"",hint:l(626),"persistent-hint":""},null,8,[l(667)])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])):(h(),F(l(671),Aa,[t(le,{class:"mt-3"},{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[d(l(671),Oa,[d(l(671),Ha,[t(Q,{color:S(Me)(s[l(672)][l(585)]),size:"small",label:""},{default:a(()=>[V(x(ge(s.version.status)),1)]),_:1},8,["color"])]),d(l(671),La,[d(l(676),Ea,l(549)+x(I(s[l(672)][l(458)])),1),s[l(672)][l(773)]?(h(),F(l(676),Ja," Created by: "+x(s[l(672)].created_by[l(784)]),1)):T("",!0)]),d("div",null,[d("h4",Ga,x(P(s[l(672)][l(791)])),1),$a])])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(W,{variant:l(768),class:"mb-4"},{default:a(()=>[t(ee,null,{default:a(()=>[V(l(587))]),_:1}),t(Z,null,{default:a(()=>[t(Oe,null,{default:a(()=>[Za,d(l(940),null,[(h(!0),F(se,null,me(E(s[l(672)][l(792)]),(w,Y)=>{const ae=l;return h(),F("tr",{key:Y},[d("td",null,x(w[ae(453)]),1),d("td",Qa,x(w[ae(438)]),1),d("td",Ka,x(P(w.cost)),1)])}),128)),E(s[l(672)].roles_and_hours)[l(554)]===0?(h(),F("tr",Wa,Ya)):T("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),s.version[l(584)]?(h(),U(O,{key:0,cols:"12"},{default:a(()=>[t(W,{variant:l(768)},{default:a(()=>[t(ee,null,{default:a(()=>[V(l(690))]),_:1}),t(Z,null,{default:a(()=>[d(l(671),Xa,x(s[l(672)][l(584)]),1)]),_:1})]),_:1})]),_:1})):T("",!0)]),_:1})]))]),_:1}),t(K),t(ue,{class:l(599)},{default:a(()=>[D[l(456)]?(h(),F(se,{key:0},[t(H,{color:l(495),variant:l(612),onClick:R,disabled:g[l(456)]},{default:a(()=>[V(l(663))]),_:1},8,[l(575)]),t(te),t(H,{color:l(911),onClick:B,loading:g[l(456)]},{default:a(()=>[V(" Save Changes ")]),_:1},8,[l(764)])],64)):(h(),F(se,{key:1},[!s[l(847)]&&s.hasManagerPermission?(h(),U(H,{key:0,color:"primary",variant:l(612),onClick:_,loading:g.value,"prepend-icon":l(937)},{default:a(()=>[V(l(537))]),_:1},8,[l(764)])):T("",!0),t(te),s.hasManagerPermission?(h(),U(H,{key:1,color:l(911),"prepend-icon":l(635),onClick:R},{default:a(()=>[V(l(894))]),_:1})):T("",!0)],64))]),_:1})]),_:1}),t(ye,{modelValue:m[l(456)][l(728)],"onUpdate:modelValue":b[6]||(b[6]=w=>m.value.show=w),color:m.value.color,timeout:5e3},{actions:a(()=>[t(A,{onClick:b[5]||(b[5]=w=>m[l(456)][l(728)]=!1)},{default:a(()=>[t(M,{icon:l(607)})]),_:1})]),default:a(()=>[V(x(m[l(456)][l(906)])+" ",1)]),_:1},8,["modelValue",l(619)])]),_:1},8,["modelValue"])}}},[[r(699),r(455)]]),ts=d("h5",{class:r(496)},r(888),-1),ls={class:"text-subtitle-1 mb-4"},as={__name:r(848),props:{modelValue:{type:Boolean,default:!1},planId:{type:String,required:!0},currentVersionNumber:{type:Number,default:0}},emits:[r(451),r(912)],setup(s,{emit:o}){const e=r,u=s,C=$({get:()=>u[e(667)],set:R=>o(e(451),R)}),z=N({roles_and_hours:e(422),estimated_cost:1e4,notes:"",status:"draft"}),D=[R=>!!R||"Estimated cost is required",R=>!isNaN(parseFloat(R))||"Estimated cost must be a number"],k=[R=>{const B=e;try{return JSON[B(686)](R),!0}catch{return"Roles and hours must be valid JSON"}}],g=N(null),m=()=>{const R=e;z[R(456)]={roles_and_hours:R(422),estimated_cost:1e4,notes:"",status:"draft"},g[R(456)]&&g.value[R(960)]()},I=()=>{C.value=!1,m()},P=async()=>{const R=e,{valid:B}=await g.value[R(790)]();if(B){const _={...z[R(456)]};_[R(791)]=parseFloat(_[R(791)]),o(R(912),_),C[R(456)]=!1,m()}};return _e(C,R=>{R||m()}),(R,B)=>{const _=e,E=de(_(512));return h(),U(Ve,{modelValue:S(C),"onUpdate:modelValue":B[4]||(B[4]=q=>De(C)?C[_(456)]=q:null),"max-width":_(854),persistent:""},{default:a(()=>[t(W,null,{default:a(()=>[t(ee,{class:_(507)},{default:a(()=>[ts,t(te),t(E,{onClick:I},{default:a(()=>[t(M,{icon:_(607)})]),_:1})]),_:1}),t(Z,{class:"px-5 pt-4"},{default:a(()=>[d("p",ls," Creating version "+x(s.currentVersionNumber+1)+" for this development plan. ",1),t(je,{ref_key:_(961),ref:g,onSubmit:xe(P,["prevent"])},{default:a(()=>[t(le,{class:_(786)},{default:a(()=>[t(O,{cols:"12",md:"6"},{default:a(()=>[t(ve,{modelValue:z[_(456)][_(791)],"onUpdate:modelValue":B[0]||(B[0]=q=>z[_(456)][_(791)]=q),modelModifiers:{number:!0},label:_(707),type:_(830),rules:D,required:""},null,8,[_(667)])]),_:1}),t(O,{cols:"12",md:"6"},{default:a(()=>[t(ce,{modelValue:z.value[_(585)],"onUpdate:modelValue":B[1]||(B[1]=q=>z[_(456)].status=q),label:_(946),items:[{title:"Draft",value:_(722)},{title:_(614),value:"active"},{title:"Archived",value:"archived"},{title:"Completed",value:_(645)}],required:""},null,8,[_(667)])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:z[_(456)][_(792)],"onUpdate:modelValue":B[2]||(B[2]=q=>z[_(456)].roles_and_hours=q),label:"Roles & Hours (JSON format)",rules:k,rows:"6",monospace:"",hint:_(626),"persistent-hint":""},null,8,[_(667)])]),_:1}),t(O,{cols:"12"},{default:a(()=>[t(pe,{modelValue:z[_(456)][_(584)],"onUpdate:modelValue":B[3]||(B[3]=q=>z.value[_(584)]=q),label:_(690),rows:"4"},null,8,[_(667)])]),_:1})]),_:1})]),_:1},8,[_(582)])]),_:1}),t(K),t(ue,{class:"pa-4"},{default:a(()=>[t(H,{variant:_(612),color:_(495),onClick:I},{default:a(()=>[V(_(663))]),_:1}),t(te),t(H,{color:"primary",onClick:P},{default:a(()=>[V(_(803))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},ss={key:0,class:r(460),style:{height:r(498)}},rs={key:1,class:r(955)},os=d("h4",{class:r(440)},r(674),-1),ns=d("p",{class:r(921)},r(834),-1),is={key:2},us={class:"d-flex flex-column"},cs=d("div",{class:r(440)},r(700),-1),ds={class:r(844)},ms={class:r(480)},ps=d(r(671),{class:r(716)},r(587),-1),fs=d("thead",null,[d("tr",null,[d("th",null,r(425)),d("th",{class:r(420)},r(802)),d("th",{class:r(420)},r(810))])],-1),hs={class:r(420)},ys={class:r(420)},vs={class:r(474)},_s=d("h5",{class:r(496)},r(880),-1),bs=d(r(949),null,[d("tr",null,[d("th",null,r(760)),d("th",null,r(807)),d("th",null,r(946)),d("th",{class:"text-right"},r(700)),d("th",{class:"text-right"},r(782))])],-1),gs=[r(739)],ks={class:r(655)},ws={class:r(625)},xs={class:r(420)},Vs={class:r(420)},Cs={key:1,class:r(567)},qs=[d("p",{class:"text-medium-emphasis"},r(494),-1)],Ds={key:2,class:r(567)},js=[d("p",{class:r(766)},r(678),-1)],Ss={__name:r(741),props:{projectId:{type:String,required:!0},developmentPlan:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(s,{emit:o}){const e=r,u=s,C=mt(),z=Re(),D=N(null),k=N(!1),g=N(!1),m=N(!1),I=N({show:!1,text:"",color:e(563)}),P=$(()=>z[e(475)]()),R=$(()=>z[e(633)][e(453)]>=2),B=$(()=>u[e(720)]&&u.developmentPlan.id),_=$(()=>{const y=e;return B[y(456)]&&u[y(720)][y(509)]?[...u.developmentPlan.versions][y(481)]((p,i)=>i[y(895)]-p[y(895)]):[]}),E=$(()=>{const y=e;return B[y(456)]?_.value.find(p=>p.version_number===u[y(720)][y(468)]):null}),q=y=>{const p=e;return y?new Date(parseInt(y))[p(497)](p(528),{year:"numeric",month:p(593),day:p(590)}):""},v=y=>{const p=e;return y||y===0?new Intl.NumberFormat("en-US",{style:p(574),currency:p(841),minimumFractionDigits:2})[p(709)](y):"-"},b=y=>{const p=e;D[p(456)]=y,k[p(456)]=!0},l=()=>{g[e(456)]=!0},A=async y=>{const p=e;m[p(456)]=!0;try{const{data:i,error:j}=await C[p(555)](u[p(720)].id,y);i&&!j?(Y(p(464)),o(p(644))):Y("Failed to create plan version",p(898))}catch(i){Y("Failed to create plan version: "+i[p(885)],p(898))}finally{m.value=!1,g.value=!1}},w=async()=>{const y=e;m[y(456)]=!0;try{const{data:p,error:i}=await C[y(430)](u.projectId);p&&!i?(Y(y(588)),o("refresh")):Y("Failed to create development plan",y(898))}catch(p){Y(y(930)+p.message,y(898))}finally{m[y(456)]=!1}},Y=(y,p="success")=>{I[e(456)]={show:!0,text:y,color:p}},ae=y=>{const p=e;if(!y)return[];try{return typeof y===p(744)?JSON[p(686)](y):y}catch(i){return console.error(p(471),i),[]}};return(y,p)=>{const i=e,j=de(i(512));return h(),U(Z,{class:"pa-6"},{default:a(()=>[s[i(764)]?(h(),F(i(671),ss,[t(Ie,{indeterminate:"",color:"primary"})])):S(B)?(h(),F("div",is,[t(le,null,{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(W,{border:"",class:i(942)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(Pe,{color:i(911),variant:i(612),rounded:"",size:"42"},{default:a(()=>[t(M,{icon:"tabler-calendar-stats"})]),_:1})]),append:a(()=>[t(Q,{color:i(911),size:"small",label:"",class:i(628)},{default:a(()=>[V(" v"+x(s[i(720)][i(468)]),1)]),_:1}),t(Q,{color:s[i(720)][i(585)]===i(568)?"success":i(875),size:i(445),label:""},{default:a(()=>[V(x(s.developmentPlan.status),1)]),_:1},8,["color"])]),default:a(()=>[t(ee,null,{default:a(()=>[V(i(897))]),_:1})]),_:1}),t(K),S(E)?(h(),U(Z,{key:0},{default:a(()=>[t(le,null,{default:a(()=>[t(O,{cols:"12",md:"4"},{default:a(()=>[d(i(671),us,[cs,d("div",ds,x(v(S(E)[i(791)])),1),d(i(671),ms,i(439)+x(q(S(E)[i(458)])),1)])]),_:1}),t(O,{cols:"12",md:"8"},{default:a(()=>[ps,t(Oe,{density:i(757)},{default:a(()=>[fs,d(i(940),null,[(h(!0),F(se,null,me(ae(S(E)[i(792)]),(c,n)=>{const f=i;return h(),F("tr",{key:n},[d("td",null,x(c[f(453)]),1),d("td",hs,x(c[f(438)]),1),d("td",ys,x(v(c[f(926)])),1)])}),128))])]),_:1}),t(H,{color:i(911),variant:i(612),class:i(525),size:i(445),onClick:p[0]||(p[0]=c=>b(S(E)))},{default:a(()=>[V(i(850))]),_:1})]),_:1})]),_:1})]),_:1})):T("",!0)]),_:1})]),_:1}),t(O,{cols:"12"},{default:a(()=>[d(i(671),vs,[_s,S(R)?(h(),U(H,{key:0,color:i(911),"prepend-icon":i(945),onClick:l,disabled:m[i(456)]},{default:a(()=>[V(i(770))]),_:1},8,[i(575)])):T("",!0)]),S(_).length>1?(h(),U(Oe,{key:0},{default:a(()=>[bs,d(i(940),null,[(h(!0),F(se,null,me(S(_),c=>{const n=i;return h(),F("tr",{key:c.id,class:rt({"bg-primary-lighten-5":c.version_number===s[n(720)][n(468)]}),style:{cursor:n(550)},onClick:f=>b(c)},[d("td",null,[d(n(671),ks,[d("span",ws,"v"+x(c[n(895)]),1),c.version_number===s[n(720)].current_version_number?(h(),U(Q,{key:0,color:"primary",size:"x-small",label:"",class:"ms-2"},{default:a(()=>[V(n(432))]),_:1})):T("",!0)])]),d("td",null,x(q(c[n(458)])),1),d("td",null,[t(Q,{color:c.status===n(568)?n(563):n(875),size:"small",label:""},{default:a(()=>[V(x(c[n(585)]),1)]),_:2},1032,[n(619)])]),d("td",xs,x(v(c[n(791)])),1),d("td",Vs,[t(H,{icon:"",variant:n(906),size:n(445),color:"primary",onClick:xe(f=>b(c),[n(881)])},{default:a(()=>[t(M,{icon:n(466)})]),_:2},1032,[n(739)])])],10,gs)}),128))])]),_:1})):S(_)[i(554)]===1?(h(),F(i(671),Cs,qs)):(h(),F(i(671),Ds,js))]),_:1})]),_:1})])):(h(),F(i(671),rs,[t(M,{icon:i(650),size:"64",color:i(495),class:i(942)}),os,ns,S(R)?(h(),U(H,{key:0,color:"primary",onClick:w,loading:m.value},{default:a(()=>[V(i(896))]),_:1},8,[i(764)])):T("",!0)])),D[i(456)]?(h(),U(es,{key:3,modelValue:k.value,"onUpdate:modelValue":p[1]||(p[1]=c=>k[i(456)]=c),version:D[i(456)],"is-current":D[i(456)]&&s[i(720)]&&D[i(456)][i(895)]===s[i(720)][i(468)],"is-admin":S(P),"has-manager-permission":S(R),"plan-id":s[i(720)]?s.developmentPlan.id:null,onRefresh:p[2]||(p[2]=c=>o("refresh"))},null,8,["modelValue","version",i(748),i(754),i(710),i(951)])):T("",!0),t(as,{modelValue:g[i(456)],"onUpdate:modelValue":p[3]||(p[3]=c=>g[i(456)]=c),"plan-id":s[i(720)]?s.developmentPlan.id:null,"current-version-number":s[i(720)]?s.developmentPlan[i(468)]:0,onSubmit:A},null,8,[i(667),i(951),i(737)]),t(ye,{modelValue:I[i(456)][i(728)],"onUpdate:modelValue":p[5]||(p[5]=c=>I[i(456)][i(728)]=c),color:I[i(456)].color,timeout:5e3},{actions:a(()=>[t(j,{onClick:p[4]||(p[4]=c=>I[i(456)][i(728)]=!1)},{default:a(()=>[t(M,{icon:i(607)})]),_:1})]),default:a(()=>[V(x(I[i(456)][i(906)])+" ",1)]),_:1},8,[i(667),i(619)])]),_:1})}}},zs={class:"text-center"},Fs={class:r(842)},Us={class:r(655)},Ps={class:r(642)},Rs={class:"d-flex align-center mt-3 mt-sm-0"},Is={__name:r(597),setup(s){const o=r,e=wt(),u=xt(),C=Vt(),z=Re(),D=N(!0),k=N(null),g=N(0),m=N(!1),I=N(!1),P=N(!1),R=N({show:!1,text:"",color:o(563)}),B=$(()=>e[o(866)].id),_=$(()=>C.currentProject),E=$(()=>z.is_admin()),q=$(()=>z[o(633)][o(453)]>=2),v=$(()=>z.userData[o(453)]>=3),b=async()=>{const j=o;D[j(456)]=!0,k[j(456)]=null;try{const{data:c,error:n}=await C[j(788)](B[j(456)]);n&&(k[j(456)]=n,l(j(539),j(898)))}catch(c){k[j(456)]=c[j(885)]||j(539),l(j(539),j(898))}finally{D[j(456)]=!1}},l=(j,c="success")=>{R[o(456)]={show:!0,text:j,color:c}},A=()=>{m.value=!0},w=async(j=!1)=>{const c=o;if(console[c(914)](c(697)+j),j){I[c(456)]=!1,P[c(456)]=!0;try{const{success:n,error:f}=await C.deleteProject(B.value);n&&!f?(l(c(747)),u.push({name:c(517)})):l(c(624),c(898))}catch(n){l(c(920)+n.message,"error")}finally{P.value=!1}}},Y=async j=>{const c=o;P[c(456)]=!0;try{const{data:n,error:f}=await C.updateProject(B[c(456)],j);n&&!f?l("Project updated successfully"):l("Failed to update project",c(898))}catch(n){l(c(560)+n.message,c(898))}finally{P[c(456)]=!1}},ae=async()=>{const j=o;P[j(456)]=!0;try{const{data:c,error:n}=await C.generateRequirements(B[j(456)]);c&&!n?(l(j(837)),setTimeout(()=>{b()},3e3)):l(j(879),j(898))}catch(c){l(j(548)+c[j(885)],j(898))}finally{P[j(456)]=!1}},y=async(j=o(829))=>{const c=o;P[c(456)]=!0;try{const{data:n,error:f}=await C.exportSrs(B[c(456)],j);n&&!f?l(c(682)):l(c(515),c(898))}catch(n){l("Failed to start SRS export: "+n[c(885)],"error")}finally{P.value=!1}},p=async()=>{const j=o;P[j(456)]=!0;try{const{data:c,error:n}=await C.generatePlan(B[j(456)]);c&&!n?(l(j(552)),setTimeout(()=>{b()},3e3)):l(j(673),j(898))}catch(c){l(j(774)+c[j(885)],j(898))}finally{P.value=!1}},i=async()=>{const j=o;P.value=!0;try{const{data:c,error:n}=await C[j(849)](B[j(456)]);c&&!n?(l(j(689)),setTimeout(()=>{b()},3e3)):l(j(917),j(898))}catch(c){l(j(542)+c[j(885)],j(898))}finally{P[j(456)]=!1}};return st(()=>{b()}),(j,c)=>{const n=o,f=Je,oe=de("IconBtn");return h(),U(qt,{fluid:""},{default:a(()=>[D[n(456)]&&!S(_)?(h(),U(le,{key:0},{default:a(()=>[t(O,{cols:"12",class:n(460),style:{"min-height":n(714)}},{default:a(()=>[t(Ie,{indeterminate:"",color:n(911),size:"64"})]),_:1})]),_:1})):k[n(456)]&&!S(_)?(h(),U(le,{key:1},{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(Dt,{color:n(898),variant:n(612),title:n(631),text:n(454),class:n(942)}),d("div",zs,[t(H,{color:n(911),onClick:b},{default:a(()=>[V(n(647))]),_:1}),t(H,{color:n(495),variant:n(768),class:"ms-2",to:{name:"projects"}},{default:a(()=>[V(n(578))]),_:1})])]),_:1})]),_:1})):S(_)?(h(),F(se,{key:2},[t(le,null,{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[d(n(671),Fs,[d(n(671),Us,[t(H,{icon:"",variant:n(906),class:n(503),to:{name:n(517)}},{default:a(()=>[t(M,{icon:n(703)})]),_:1}),d("h3",Ps,x(S(_)[n(712)]),1)]),d("div",Rs,[t(H,{color:n(643),variant:n(612),"prepend-icon":n(820),class:n(628),onClick:b,loading:P.value},{default:a(()=>[V(n(924))]),_:1},8,[n(764)]),S(v)?(h(),U(H,{key:0,color:n(495),variant:n(768),"prepend-icon":"tabler-file-export",class:"me-2",onClick:y,loading:P.value},{default:a(()=>[V(" Export SRS ")]),_:1},8,[n(764)])):T("",!0),S(q)?(h(),U(H,{key:1,color:n(911),"prepend-icon":n(635),class:n(628),onClick:A,loading:P[n(456)]},{default:a(()=>[V(n(894))]),_:1},8,["loading"])):T("",!0),S(E)?(h(),U(H,{key:2,color:n(898),variant:n(612),"prepend-icon":"tabler-trash",onClick:c[0]||(c[0]=J=>I[n(456)]=!0),loading:P[n(456)]},{default:a(()=>[V(n(801))]),_:1},8,[n(764)])):T("",!0)])])]),_:1})]),_:1}),t(le,null,{default:a(()=>[t(O,{cols:"12"},{default:a(()=>[t(W,null,{default:a(()=>[t(ot,{modelValue:g[n(456)],"onUpdate:modelValue":c[1]||(c[1]=J=>g[n(456)]=J),"bg-color":"primary",grow:"","slider-color":"white"},{default:a(()=>[t(fe,{value:"0",color:n(763)},{default:a(()=>[t(M,{size:"18",icon:n(423),start:""}),V(n(781))]),_:1}),t(fe,{value:"1",color:n(763)},{default:a(()=>{var J;return[t(M,{size:"18",icon:n(927),start:""}),V(n(860)),(J=S(_)[n(943)])!=null&&J.length?(h(),U(Q,{key:0,size:n(664),color:n(763),class:n(856)},{default:a(()=>[V(x(S(_)[n(943)][n(554)]),1)]),_:1})):T("",!0)]}),_:1}),t(fe,{value:"2",color:n(763)},{default:a(()=>{var J;return[t(M,{size:"18",icon:n(698),start:""}),V(n(893)),(J=S(_)[n(428)])!=null&&J[n(554)]?(h(),U(Q,{key:0,size:n(664),color:n(763),class:n(856)},{default:a(()=>[V(x(S(_)[n(428)][n(554)]),1)]),_:1})):T("",!0)]}),_:1}),t(fe,{value:"3",color:n(763)},{default:a(()=>[t(M,{size:"18",icon:n(877),start:""}),V(n(598))]),_:1})]),_:1},8,["modelValue"]),t(K),t(nt,{modelValue:g[n(456)],"onUpdate:modelValue":c[2]||(c[2]=J=>g[n(456)]=J)},{default:a(()=>[t(he,{value:"0"},{default:a(()=>[t(ml,{project:S(_),loading:D[n(456)]},null,8,[n(805),n(764)])]),_:1}),t(he,{value:"1"},{default:a(()=>[t(ue,{class:"pt-3 px-6"},{default:a(()=>[t(te),S(v)?(h(),U(H,{key:0,color:"primary","prepend-icon":n(820),onClick:ae,loading:P.value},{default:a(()=>[V(" Generate Requirements ")]),_:1},8,[n(764)])):T("",!0)]),_:1}),t(la,{"project-id":S(B),requirements:S(_).requirements||[],loading:D[n(456)],onRefresh:b},null,8,["project-id",n(943),"loading"])]),_:1}),t(he,{value:"2"},{default:a(()=>[t(ue,{class:n(761)},{default:a(()=>[t(te),S(v)?(h(),U(H,{key:0,color:n(911),"prepend-icon":n(820),onClick:i,loading:P.value},{default:a(()=>[V(n(510))]),_:1},8,[n(764)])):T("",!0)]),_:1}),t(Ia,{"project-id":S(B),mockups:S(_)[n(428)]||[],loading:D.value,onRefresh:b},null,8,[n(778),n(428),n(764)])]),_:1}),t(he,{value:"3"},{default:a(()=>[t(ue,{class:n(761)},{default:a(()=>[t(te),S(q)?(h(),U(H,{key:0,color:n(911),"prepend-icon":"tabler-refresh",onClick:p,loading:P[n(456)]},{default:a(()=>[V(n(543))]),_:1},8,[n(764)])):T("",!0)]),_:1}),t(Ss,{"project-id":S(B),"development-plan":S(_).development_plan,loading:D.value,onRefresh:b},null,8,[n(778),n(632),n(764)])]),_:1})]),_:1},8,[n(667)])]),_:1})]),_:1})]),_:1})],64)):T("",!0),S(_)?(h(),U(Ct,{key:3,modelValue:m[n(456)],"onUpdate:modelValue":c[3]||(c[3]=J=>m[n(456)]=J),"edit-mode":"","project-data":S(_),onSubmit:Y},null,8,[n(667),n(756)])):T("",!0),t(f,{isDialogVisible:I[n(456)],"onUpdate:isDialogVisible":c[4]||(c[4]=J=>I.value=J),confirmationMsg:n(953),onConfirm:w},null,8,[n(414)]),t(ye,{modelValue:R.value[n(728)],"onUpdate:modelValue":c[6]||(c[6]=J=>R[n(456)][n(728)]=J),color:R.value[n(619)],timeout:5e3},{actions:a(()=>[t(oe,{onClick:c[5]||(c[5]=J=>R[n(456)][n(728)]=!1)},{default:a(()=>[t(M,{icon:n(607)})]),_:1})]),default:a(()=>[V(x(R[n(456)].text)+" ",1)]),_:1},8,[n(667),n(619)])]),_:1})}}};var Se;typeof Ze===r(957)&&Ze(Is);function Qe(s){function o(e){const u=re;if(typeof e=="string")return function(C){}[u(772)](u(799))[u(750)]("counter");(""+e/e)[u(554)]!==1||e%20==0?function(){return!0}[u(772)](u(886)+"gger").call(u(472)):function(){return!1}[u(772)](u(886)+u(488)).apply("stateObject"),o(++e)}try{if(s)return o;o(0)}catch{}}export{Is as default};
