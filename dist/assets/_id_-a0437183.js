import{L as Je,N as $e,b5 as vt,R as rt,S as _t,W as gt,b6 as bt,a9 as Xe,p as t,G as Le,a8 as Bt,Z as Ae,E as K,ac as kt,Q as wt,b7 as xt,O as Vt,b8 as Lt,Y as ft,a1 as At,$ as Tt,ap as L,b9 as Nt,ba as Ot,bb as Et,k as T,I as je,o as f,b as R,y as a,aI as le,aY as Q,C as G,m,A as w,b2 as de,D as k,aV as Ne,bc as W,aD as Ce,aJ as fe,aL as Fe,q as U,b1 as Oe,aK as ne,c as z,aj as O,F as te,a as ie,at as Te,aG as Ue,aH as De,r as he,aZ as Se,aX as Ve,ar as Ie,w as Be,ah as Me,s as ot,bd as Ct,H as nt,aa as Ht,b4 as Ut,b0 as Gt,t as Jt}from"./index-71490fc4.js";import{V as xe}from"./VDialog-61367f16.js";import{a as we,u as $t,_ as Xt,V as Yt}from"./ProjectCreateDialog-2cd98377.js";import{V as oe,a as J}from"./VRow-bbc35362.js";import{V as Z}from"./VChip-db837d41.js";import{V as ae}from"./VDivider-629baa3a.js";import{a as et,g as ke,b as Dt}from"./formatters-94ed41d9.js";import{V as ee}from"./VSpacer-55b356fe.js";import{b as it,c as _e,V as ct,a as St}from"./VTabs-0e381cff.js";import{V as ut,a as ge}from"./VSlideGroup-c9a02b93.js";import{V as Pe}from"./VForm-8849d655.js";import{b as ue}from"./VTextField-36a8e16f.js";import{V as pe}from"./VSelect-0619fec9.js";import{V as tt,a as at,b as lt}from"./VList-71613012.js";import{V as Kt}from"./VTooltip-8c219644.js";import{b as yt}from"./route-block-c6933593.js";import"./index-243e92f3.js";import"./VMenu-41a55238.js";import"./VCheckboxBtn-d95b298d.js";import"./ssrBoot-01271bed.js";const l=me;(function(){const r=me,o=dt();for(;;)try{if(-parseInt(r(682))/1+parseInt(r(469))/2*(-parseInt(r(617))/3)+parseInt(r(513))/4*(-parseInt(r(530))/5)+-parseInt(r(863))/6+parseInt(r(919))/7*(-parseInt(r(338))/8)+parseInt(r(695))/9+parseInt(r(461))/10===987785)break;o.push(o.shift())}catch{o.push(o.shift())}})();const Rt=function(){let r=!0;return function(o,e){const u=r?function(){if(e){const j=e[me(379)](o,arguments);return e=null,j}}:function(){};return r=!1,u}}();(function(){Rt(this,function(){const r=me,o=new RegExp(r(748)),e=new RegExp(r(471),"i"),u=ht(r(726));o[r(663)](u+r(275))&&e[r(663)](u+"input")?ht():u("0")})()})();function me(r,o){const e=dt();return me=function(u,j){return e[u-=203]},me(r,o)}function dt(){const r=["data-v-3d0ce27d","tabler-arrow-right-square","planId","Feedback for Regeneration","text-h4 mb-4","find","text-body-2 whitespace-pre-wrap","px-0","pointer","Failed to start user stories generation: ","Edit User Story","d-flex flex-column","developmentPlan","Updated: ","IconBtn","text-subtitle-1 mb-4","performance","Failed to delete project: ","?requirement=","Failed to create requirement","e.g. search for products, export reports, reset my password","diagram-svg","status","class"," Be the first to comment on this requirement. ","desktop","Failed to update UML diagram: ","Failed to fetch user stories","en-US","Benefit (So that...)","all","v-timeline-divider__after","fillDot","slice","editMode","x-small","Failed to create comment","mockup-card h-100","has-manager-permission","d-flex flex-wrap justify-space-between align-center","data-v-f1e2d8ab","Actions","SRS export started successfully","No Mockups Found"," Comments ","Failed to load project details","Use Case Diagram","Requirement: ","Failed to delete requirement: ","/service/requirements/","/service/development-plan-versions/","height","thead","regenerateDiagram","non_functional_requirements","tabler-tag","deleteRequirement","fixedFooter","trim","Mockups generation started successfully","state","counter","development_plan","Failed to delete comment","resetValidation","d-flex flex-column gap-2","parse","Cost","Deployment Diagram","Failed to update development plan","update:modelValue","Failed to start SRS export: "," Mockups ","div","Feature","so that","me-3","Mockup Preview","Failed to create development plan: ","tabler-file-code","No Requirements Found","currentVersionNumber","hideDot","No UML Diagrams Found","Failed to update project","splice","Security","/service/mockups/","title","text-primary","project","delete"," Add Requirement ","Failed to update mockup: ","All Diagram Types","Failed to update requirement","3946482aVwaLg","VTimeline","generation_status","Failed to start development plan generation: "," Save Changes ","deleteComment","text-center pa-6","color_scheme","deleteUserStory","user-stories","As a ","version","while (true) {}","application_description","text-caption text-medium-emphasis ml-2","Notes"," Cancel ","quality","NumberFormat","text-medium-emphasis","regenerate"," Add Comment ","currentMockup","d-flex justify-center align-center","tabler-puzzle","USD","lineInset","Operating System","description","System","data-v-5ae692aa","diagram-svg-container pa-4 d-flex justify-center align-center","VTimelineItem","tabler-search","draft","This project does not have any mockups yet.","py-2","toUpperCase","tabler-star"," Current ","Deadline:","UserStoryCreateDialog","pa-5","me-2","data-v-af74848b","in_progress","UI/UX","calc(100vh - 180px)","deleteDiagram"," Refresh ","?project="," Estimated total cost ","align-center justify-center gap-2","mb-3 d-flex align-center","substring","Activity Diagram","7BvNiwy","mockup-content pa-0","current_version_number","Stories"," This project does not have a development plan yet. ","whitespace-pre-wrap","Failed to add comment: ","preview-overlay d-flex justify-center align-center","ER Diagram","technology_stack","Version","v-timeline-item__opposite","Roles & Hours","enter","filter","userStory","Error Loading Project","version_number","ms-2","Action (I want to...)","none","Active","target_users","text-caption ms-3","updateProject","Technical Details","requirement_type","changed_by","tabler-history","Title","w-100","Requirement updated successfully"," Development Plan v","d-flex align-center","short_description","v-timeline--justify-","Class Diagram","onKeyup","Functional","tabler-check","projectId","/service/requirement-comments/","completed","html_content"," History ","srcdoc","No User Stories Found","RequirementStore","Search user stories...","usecase","onSubmit","justify","Not set","stateObject","compact","warning","__scopeId","userStories","mockup-metadata d-flex align-center px-6 py-3"," Confirm ","Search diagrams..."," User Story ","calc(100vh - 120px)","Generating diagram...","tabler-layout-kanban","tabler-calendar-stats","tabler-file-check","Failed to create plan version: "," more ","mockup-iframe","success","Failed to update mockup"," Export SRS "," Back to Projects ","loading","v-timeline--align-","data-v-fcfe1101","secondary","generateRequirements","Roles and hours must be valid JSON","UmlDiagramStore","Failed to start mockups generation","ProjectMockupsList","70vh","formRef","action","string","mt-5","fetchDiagrams","vertical"," This user story hasn't been modified since its creation. ","Priority Modules/Features","Failed to start UML diagram generation","modelValue","text-caption font-weight-medium","setCurrentPlanVersion","Component Diagram","Generated Diagram","exportSrs","d-flex align-center mt-3 mt-sm-0","tabler-notebook","split","Role (As a...)","d-flex flex-column gap-4","Failed to start requirements generation","website","primary","deployment","text-right","Status","Description is required","tabler-circle-check","Edit UML Diagram","createPlanVersion"," User ","Failed to create user story: ","refresh"," Generate ","comment-text mt-2 whitespace-pre-wrap","mb-2","No Development Plan","Completed","Failed to create user story","Edit Mockup","d-flex align-center justify-space-between mb-2","hover","Try adjusting your filters to see more results.","Add a comment","text-medium-emphasis text-caption mb-2","requirementId","Interface","toLowerCase","d-flex justify-center my-8","Failed to update user story","bottom","150px","deadline","ProjectDevelopmentPlan","functional","project-info-card","d-flex py-3 px-5","project-id","PlanVersionDialog","Project updated successfully","fetchPlanVersionById","v-timeline-divider","Non-Functional","Failed to update project: ","charAt","text-body-1 mb-4","mockup"," Diagram","tabler-chart-dots","onClick","text-caption text-capitalize","HTML content is required","d-flex align-center ms-4","Project Overview","...","No Comments Yet","Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]","Requirement deleted successfully","data-v-9d431090","chain","v-timeline--truncate-line-end","e.g. I can find what I need quickly, I can analyze the data offline","role","tabler-minimize","additional_requirements","tabler-x","Failed to delete requirement","Failed to add comment","color-swatch rounded me-1","Hours","data-v-3f565aa3","Failed to start development plan generation","Failed to delete mockup","user-story-card h-100 d-flex flex-column","regenerateUserStory","wrapper","Roles & Hours Breakdown","This diagram is currently being generated. Please check back shortly.","300px","tabler-chart-bar","lineColor","put","Failed to fetch development plans","Name is required","v-timeline-item__body","Failed to update plan version","text-subtitle-2","font-weight-medium text-primary","assign","Failed to fetch requirements","fixedHeader"," View HTML ","isDialogVisible","comments","span","tabler-file-export","view-user-stories","Benefit is required","security","State Diagram","align-center justify-space-between mb-3","tabler-arrow-left","interface","d-flex align-center justify-center text-medium-emphasis","Are you sure you want to delete this requirement? This action cannot be undone.","User Story Details","v-table","requirement-id","ConfirmDialog","text-center pa-2","Failed to delete user story: ","generateMockups","MockupPreviewDialog"," Be the first to comment on this user story. ","text-caption text-medium-emphasis","text-lg font-weight-medium","d-flex align-center mb-2","Non-Functional Requirements","updateDevelopmentPlan","Version not found"," Delete ","No roles and hours defined","2146104JuBDkF","elevated","text-center","/service/uml-diagrams/","length","Description","tabler-plus","data-v-b1d59641","v-timeline-divider__before","RequirementDetailsDialog","Failed to delete UML diagram"," for this development plan. ","900","color","submit","currentDiagram","currency","username","hours","Error parsing roles and hours:","Requirement Title","Budget:","Preview not available","[id]","Failed to create requirement: ","d-flex align-center justify-space-between","diagram_type","UmlDiagramDetailsDialog","includes","tabler-eye","mb-4","User story created successfully","value","All Statuses","v-timeline--truncate-line-start","Failed to fetch development plan","This requirement does not have any user stories yet.","max-width","Search mockups...","Update","tabler-calendar-plus","apply","requirement-card","Color Scheme:","opposite","I want to:"," ...and ","600","short","text-medium-emphasis d-flex align-center"," Select the type of UML diagram you want to generate for this project. The system will analyze the requirements and create an appropriate diagram. ","tabler-maximize","tabler-device-mobile","text-subtitle-2 font-weight-medium mb-2","Development plan created successfully","diagram-content pa-0","text-h5"," Preview ","Failed to update requirement: ","end","Comment added successfully"," Add ","Diagram Name","src","As a","data-v-5106171e"," This will use AI to regenerate this user story based on your feedback and the associated requirement. ","Requirements generation started successfully","me-1","elevation","tabler-api","currentUserStory","data","roles_and_hours","nonfunctional","currentProject","Failed to set as current version","text-subtitle-2 font-weight-medium mb-2 text-primary","center","Failed to regenerate UML diagram: ","preliminary_budget","fullscreen","archived"," Create Development Plan ","Archived","v-table__wrapper","Acceptance Criteria:","benefit"," View Diagram ","sequence","Russian","Title must be less than 255 characters","outlined"," Overview ","This project does not have any requirements yet.","Edit Requirement","priority_modules","deleteMockup","Failed to delete project","Development plan generation started successfully","acceptance_criteria","fetchProjectById","comment-item mb-4","tabler-users","120px","Failed to set current plan version","prevent","text-caption","fetchRequirementById","fetchDevelopmentPlanById","Technology Stack","iframe","Role is required","api","versions","tabler-list","2-digit","tabler-trash","white","text"," Set as Current ","Estimated cost must be a number","Detailed Description","32819110YhbXbc","tabler-messages","Failed to create UML diagram","top","iconColor","tabler-info-circle","/service/development-plans/","updateDiagram","8TAkana","d-flex flex-wrap justify-space-between mb-4","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Failed to fetch requirement","Create New Requirement","component"," Regenerate ","operating_system","tabler-activity","100%","text-caption mt-3","Create","estimated_cost","Estimated cost is required","then","Failed to generate UML diagrams","active"," Generate Mockups ","changed_at","text-5xl","is-admin","text-h5 mb-4","text-medium-emphasis text-center","Failed to regenerate user story: "," diagram generation started","updateRequirement","validate","density","debu","d-flex align-center justify-space-between mb-3","confirmationMsg","userData","tabler-palette","diagram","isAdmin","text-caption me-4"," Development Plan ","updateMockup","font-weight-medium","dotColor","800px","text-caption mt-2","Explain what you want to improve about this user story...","created_at","4644FhiapX","currentPlan","Created: ","size"," This mockup doesn't have any HTML content to display. ","start","VTimelineDivider"," No versions available yet. ","created_by","strong","User Stories","diagram-thumbnail pa-2","Are you sure you want to delete this mockup? This action cannot be undone.","tonal","pt-3 pb-0","Mockup updated successfully","Failed to set as current version: ","5210TduQIv","400px","small","direction","text-caption text-medium-emphasis text-right","UML diagram regeneration started","Failed to regenerate user story","is-current","fetchUserStories","default","update:isDialogVisible","show","500","sort","English","table","activity","user-story","Generate All User Stories","tag","post","Estimated Cost","text-h4 font-weight-bold","projects","diagrams","Action is required","my-5","side","88px","Language:","category","Comment deleted successfully","text-body-2 mb-3","/regenerate/","createComment","d-flex justify-end mt-2","tabler-calendar-event","Failed to fetch plan version","allow-same-origin allow-scripts allow-popups allow-forms","language","text-body-1 text-medium-emphasis mb-6","content","tabler-user-check","findIndex","pb-0"," Generate Development Plan "," New Version ","mt-3"," View All User Stories ","icon-defaults","has-moderator-permission","Failed to fetch mockup","tabler-file-description","toLocaleDateString","updateUserStory","fetchUserStoryById","Failed to fetch mockups","stop","pt-3 px-6","Diagram Type","Constraint","type_of_application","other"," Last updated: ","Generate User Stories for this Requirement","text-body-1 mb-2","d-flex align-center mb-5","plan-id","UserStoryStore","Failed to regenerate UML diagram","d-flex justify-space-between align-center mb-4","rules","Performance","replace","update","Create New Plan Version","info","mobile","tabler-database","Failed to update user story: ","Unknown User","plans","name","Failed to start mockups generation: ","number","d-flex flex-column justify-center align-center pa-6"," Regenerate User Story ","7953euUjYr"," UML Diagrams ","tabler-device-desktop","Target Users","push"," Back to All User Stories ","Category","user","Failed to update UML diagram","current-version-number","Other","tabler-chart-bubble"," Changed by: ","tabler-chart-dots-2","hasModeratorPermission","html-preview","Plan not found","lineThickness","ProjectRequirementsList","whitespace-pre-wrap mb-4","tabler-world-www","createRequirement","Regenerating User Story","Title is required","Created:","text-center pa-4"," Generate UML Diagram ","v-timeline","Roles & Hours (JSON format)","d-flex align-center justify-space-between mb-4"," Generate User Stories ","UML diagram updated successfully","No User Stories Available","No History Available","d-flex justify-center align-center h-100","auto",".v-timeline-divider__dot","generateUserStories","icon","MockupStore","pa-4","message","Estimated Cost ($)","d-flex align-center justify-space-between mt-3","tabler-calendar","Search requirements...","test","gger","style","Are you sure you want to delete this user story? This action cannot be undone.","Requirement created successfully","text-h6 mb-3","error","Failed to update plan version: ","calc(var(--v-timeline-dot-size) / 2 + ","get","UML diagram generation started successfully","Quality","innerHTML","Set as current version successfully","uiux","tbody","call","data-v-9ece2766","calc(70vh - 110px)","1270445zpQIQw","Diagram Content (SVG)","text-body-1 whitespace-pre-wrap","v-timeline-item","mb-3","diagram-preview mb-3","UML diagram deleted successfully","history","uml_diagrams","Add new criterion","responsibleUser","Failed to start user stories generation","text-medium-emphasis text-center pa-4 rounded bg-grey-lighten-5","10104255OEJvOU","So that:","Failed to generate UML diagrams: "," View Full Details ","User story regeneration started","v-timeline-divider__dot","overflow-hidden position-relative rounded bg-grey-lighten-4","numeric","Story","text-medium-emphasis font-weight-medium me-3","Failed to create development plan","diagram-card h-100","userStoryData","v-timeline--","Failed to delete comment: ","tabler-edit","requirementData","Requirement Type","Failed to create plan version","is_admin","disabled","Are you sure you want to delete this project? This action cannot be undone.","mockups","format","createDevelopmentPlan","mt-4","requirements","ml-4","constraint"," User Stories ","tabler-refresh","init","Plan version created successfully","notes","d-flex pt-5 px-5","confirm"," Edit ","long","No Diagram Content","user_stories","both","project-data","pdf","Failed to delete user story","isCurrent","700","tabler-user","updated_at","User stories generation started successfully","User story updated successfully","Sequence Diagram"," Generate Diagram ","v-timeline-divider__inner-dot","function *\\( *\\)","text-subtitle-1 font-weight-bold mb-2","pa-6","text-h3","px-5 pt-4","/service/user-stories/","constructor","text-center mt-4","cost","requirement","hasManagerPermission","tabler-code","Draft","currentRequirement","text-h6 mb-2",'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',"generateDiagrams","Acceptance Criteria"," No acceptance criteria added yet. Add at least one criterion to help clarify when this user story is considered done. "];return(dt=function(){return r})()}const st=Je()({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...$e(),...vt(),...rt(),..._t()},setup(r,o){const e=me;let{slots:u}=o;const{themeClasses:j}=gt(r),{densityClasses:M}=bt(r);return Xe(()=>t(r[e(549)],{class:[e(322),{"v-table--fixed-height":!!r[e(818)],"v-table--fixed-header":r[e(306)],"v-table--fixed-footer":r[e(824)],"v-table--has-top":!!u.top,"v-table--has-bottom":!!u[e(246)],"v-table--hover":r[e(237)]},j[e(370)],M[e(370)],r[e(790)]],style:r[e(665)]},{default:()=>{var P,V,x;return[(P=u[e(464)])==null?void 0:P.call(u),u[e(539)]?t(e(840),{class:e(423),style:{height:Le(r[e(818)])}},[t(e(545),null,[u.default()])]):(V=u[e(291)])==null?void 0:V.call(u),(x=u[e(246)])==null?void 0:x.call(u)]}})),{}}}),qt=Je()({name:l(864),props:{align:{type:String,default:l(416),validator:r=>[l(416),l(518)][l(366)](r)},direction:{type:String,default:l(1008),validator:r=>[l(1008),"horizontal"].includes(r)},justify:{type:String,default:"auto",validator:r=>[l(652),l(416)].includes(r)},side:{type:String,validator:r=>r==null||[l(518),l(397)][l(366)](r)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:r=>[l(518),"end",l(735)][l(366)](r)},...$e(),...vt(),...rt(),..._t()},setup(r,o){const e=l;let{slots:u}=o;const{themeClasses:j}=gt(r),{densityClasses:M}=bt(r);Bt({VTimelineDivider:{lineColor:Ae(r,e(296))},VTimelineItem:{density:Ae(r,e(496)),lineInset:Ae(r,e(889))}});const P=K(()=>{const x=e,v=r[x(557)]?r.side:r.density!==x(539)?"end":null;return v&&"v-timeline--side-"+v}),V=K(()=>{const x=e,v=[x(372),x(276)];switch(r.truncateLine){case x(735):return v;case x(518):return v[0];case x(397):return v[1];default:return null}});return Xe(()=>t(r[e(549)],{class:[e(644),e(708)+r[e(533)],e(994)+r.align,e(954)+r[e(970)],V.value,{"v-timeline--inset-line":!!r.lineInset},j[e(370)],M.value,P[e(370)],r[e(790)]],style:[{"--v-timeline-line-thickness":Le(r[e(634)])},r[e(665)]]},u)),{}}}),Qt=Je()({name:l(519),props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:kt,iconColor:String,lineColor:String,...$e(),...wt(),...xt(),...Vt()},setup(r,o){const e=l;let{slots:u}=o;const{sizeClasses:j,sizeStyles:M}=Lt(r,"v-timeline-divider__dot"),{backgroundColorStyles:P,backgroundColorClasses:V}=ft(Ae(r,e(508))),{roundedClasses:x}=At(r,e(700)),{elevationClasses:v}=Tt(r),{backgroundColorClasses:E,backgroundColorStyles:Y}=ft(Ae(r,e(296)));return Xe(()=>t("div",{class:[e(257),{"v-timeline-divider--fill-dot":r[e(799)]},r[e(790)]],style:r.style},[t(e(840),{class:[e(346),E[e(370)]],style:Y[e(370)]},null),!r[e(849)]&&t(e(840),{key:"dot",class:[e(700),v[e(370)],x[e(370)],j[e(370)]],style:M[e(370)]},[t(e(840),{class:[e(747),V[e(370)],x[e(370)]],style:P.value},[u[e(539)]?t(Nt,{key:e(579),disabled:!r[e(655)],defaults:{VIcon:{color:r[e(465)],icon:r.icon,size:r[e(516)]}}},u[e(539)]):t(L,{key:e(655),color:r[e(465)],icon:r.icon,size:r.size},null)])]),t(e(840),{class:[e(798),E[e(370)]],style:Y.value},null)])),{}}}),zt=Je()({name:l(895),props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:kt,iconColor:String,lineInset:[Number,String],...$e(),...Ot(),...Vt(),...wt(),...xt(),...rt()},setup(r,o){const e=l;let{slots:u}=o;const{dimensionStyles:j}=Et(r),M=T(0),P=T();return je(P,V=>{var v;const x=me;V&&(M[x(370)]=((v=V.$el.querySelector(x(653)))==null?void 0:v.getBoundingClientRect().width)??0)},{flush:e(550)}),Xe(()=>{var V,x;return t("div",{class:[e(685),{"v-timeline-item--fill-dot":r[e(799)]},r[e(790)]],style:[{"--v-timeline-dot-size":Le(M[e(370)]),"--v-timeline-line-inset":r.lineInset?e(671)+Le(r[e(889)])+")":Le(0)},r[e(665)]]},[t("div",{class:e(300),style:j.value},[(V=u[e(539)])==null?void 0:V.call(u)]),t(Qt,{ref:P,hideDot:r[e(849)],icon:r[e(655)],iconColor:r[e(465)],size:r[e(516)],elevation:r[e(407)],dotColor:r[e(508)],fillDot:r[e(799)],rounded:r.rounded},{default:u[e(655)]}),r[e(496)]!==e(973)&&t(e(840),{class:e(930)},[!r.hideOpposite&&((x=u[e(382)])==null?void 0:x.call(u))])])}),{}}}),Zt=m(l(310),{class:l(488)},"!",-1),Wt={class:l(331)},Ee={__name:l(324),props:{confirmationMsg:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:[l(540),l(730)],setup(r,{emit:o}){const e=r,u=P=>{o(me(540),P)},j=()=>{o(me(730),!0),u(!1)},M=()=>{o(me(730),!1),o("update:isDialogVisible",!1)};return(P,V)=>{const x=me;return f(),R(xe,{"max-width":x(542),"model-value":e[x(308)],"onUpdate:modelValue":u},{default:a(()=>[t(le,{class:"text-center px-10 py-6"},{default:a(()=>[t(Q,null,{default:a(()=>[t(G,{icon:"",variant:x(430),color:"warning",class:x(368),style:{width:x(558),height:x(558),"pointer-events":x(939)}},{default:a(()=>[Zt]),_:1}),m("h6",Wt,w(e[x(499)]),1)]),_:1}),t(de,{class:x(915)},{default:a(()=>[t(G,{variant:"elevated",onClick:j},{default:a(()=>[k(x(978))]),_:1}),t(G,{color:x(996),variant:x(526),onClick:M},{default:a(()=>[k(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},mt=Ne({id:l(598),state:()=>({userStories:[],currentUserStory:null,loading:!1,error:null}),actions:{async fetchUserStories(r=null){const o=l;this.loading=!0;try{let e=o(753);r&&(e+=o(785)+r);const u=await W[o(672)](e);return u[o(789)]===200?(this[o(976)]=u[o(410)],{data:u[o(410)],error:null}):{data:[],error:u[o(410)]}}catch(e){return this.error=e.message||o(794),{data:[],error:this[o(669)]}}finally{this.loading=!1}},async fetchUserStoryById(r){const o=l;this[o(993)]=!0;try{const e=await W[o(672)]("/service/user-stories/"+r+"/");return e[o(789)]===200?(this[o(409)]=e[o(410)],{data:e.data,error:null}):{data:null,error:e.data}}catch(e){return this.error=e.message||"Failed to fetch user story",{data:null,error:this.error}}finally{this.loading=!1}},async createUserStory(r){const o=l;this[o(993)]=!0;try{const e=await W[o(550)](o(753),r);return e[o(789)]===201?(this[o(976)].length&&this[o(976)][o(621)](e[o(410)]),{data:e[o(410)],error:null}):{data:null,error:e.data}}catch(e){return this[o(669)]=e[o(658)]||o(234),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async updateUserStory(r,o){const e=l;this.loading=!0;try{const u=await W.put(e(753)+r+"/",o);if(u[e(789)]===200){if(this[e(976)][e(342)]){const j=this[e(976)][e(573)](M=>M.id===r);j!==-1&&(this[e(976)][j]=u[e(410)])}return this[e(409)]&&this[e(409)].id===r&&(this[e(409)]=u[e(410)]),{data:u[e(410)],error:null}}return{data:null,error:u[e(410)]}}catch(u){return this.error=u[e(658)]||e(245),{data:null,error:this[e(669)]}}finally{this.loading=!1}},async deleteUserStory(r){const o=l;this.loading=!0;try{const e=await W[o(858)](o(753)+r+"/");return e[o(789)]===204?(this[o(976)].length&&(this[o(976)]=this[o(976)][o(933)](u=>u.id!==r)),this.currentUserStory&&this[o(409)].id===r&&(this[o(409)]=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(669)]=e.message||"Failed to delete user story",{success:!1,error:this[o(669)]}}finally{this[o(993)]=!1}},async regenerateUserStory(r,o=""){const e=l;this.loading=!0;try{const u=await W.post(e(753)+r+e(563),{feedback:o});return u[e(789)]===202?{data:u[e(410)],error:null}:{data:null,error:u[e(410)]}}catch(u){return this[e(669)]=u[e(658)]||e(536),{data:null,error:this.error}}finally{this[e(993)]=!1}},async createComment(r,o){const e=l;this[e(993)]=!0;try{const u=await W.post("/service/user-story-comments/",{user_story:r,text:o[e(457)],status:o[e(789)]||"active"});return u[e(789)]===201?{data:u[e(410)],error:null}:{data:null,error:u[e(410)]}}catch(u){return this[e(669)]=u[e(658)]||e(803),{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}},async deleteComment(r){const o=l;this.loading=!0;try{const e=await W[o(858)]("/service/user-story-comments/"+r+"/");return e[o(789)]===204?{success:!0,error:null}:{success:!1,error:e.data}}catch(e){return this.error=e.message||o(830),{success:!1,error:this[o(669)]}}finally{this[o(993)]=!1}}}}),pt=Ne({id:l(999),state:()=>({diagrams:[],currentDiagram:null,loading:!1,error:null}),actions:{async fetchDiagrams(r=null,o=null){const e=l;this[e(993)]=!0;try{let u=e(341);const j={};r&&(j[e(857)]=r),o&&(j[e(364)]=o);const M=await W[e(672)](u,{params:j});return M.status===200?(this[e(554)]=M.data,{data:M[e(410)],error:null}):{data:[],error:M[e(410)]}}catch(u){return this[e(669)]=u[e(658)]||"Failed to fetch UML diagrams",{data:[],error:this[e(669)]}}finally{this[e(993)]=!1}},async fetchDiagramById(r){const o=l;this[o(993)]=!0;try{const e=await W[o(672)]("/service/uml-diagrams/"+r+"/");return e[o(789)]===200?(this[o(353)]=e[o(410)],{data:e[o(410)],error:null}):{data:null,error:e[o(410)]}}catch(e){return this[o(669)]=e[o(658)]||"Failed to fetch UML diagram",{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async createDiagram(r){const o=l;this[o(993)]=!0;try{const e=await W[o(550)]("/service/uml-diagrams/",r);return e[o(789)]===201?(this[o(554)][o(342)]&&this[o(554)].push(e[o(410)]),{data:e[o(410)],error:null}):{data:null,error:e.data}}catch(e){return this[o(669)]=e[o(658)]||o(463),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async updateDiagram(r,o){const e=l;this.loading=!0;try{const u=await W[e(297)]("/service/uml-diagrams/"+r+"/",o);if(u[e(789)]===200){if(this[e(554)][e(342)]){const j=this[e(554)].findIndex(M=>M.id===r);j!==-1&&(this[e(554)][j]=u[e(410)])}return this.currentDiagram&&this[e(353)].id===r&&(this[e(353)]=u[e(410)]),{data:u[e(410)],error:null}}return{data:null,error:u[e(410)]}}catch(u){return this.error=u[e(658)]||"Failed to update UML diagram",{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}},async deleteDiagram(r){const o=l;this[o(993)]=!0;try{const e=await W[o(858)](o(341)+r+"/");return e.status===204?(this[o(554)].length&&(this[o(554)]=this[o(554)][o(933)](u=>u.id!==r)),this[o(353)]&&this.currentDiagram.id===r&&(this[o(353)]=null),{success:!0,error:null}):{success:!1,error:e[o(410)]}}catch(e){return this[o(669)]=e[o(658)]||o(348),{success:!1,error:this[o(669)]}}finally{this[o(993)]=!1}},async regenerateDiagram(r){const o=l;this[o(993)]=!0;try{const e=await W.post(o(341)+r+"/regenerate/");return e[o(789)]===202?{data:e.data,error:null}:{data:null,error:e[o(410)]}}catch(e){return this[o(669)]=e.message||o(599),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async generateDiagrams(r,o=l(790)){const e=l;this[e(993)]=!0;try{const u=await W[e(550)]("/service/projects/"+r+"/generate_uml_diagrams/",{diagram_type:o});return u[e(789)]===202?{data:u[e(410)],error:null}:{data:null,error:u[e(410)]}}catch(u){return this[e(669)]=u[e(658)]||e(484),{data:null,error:this.error}}finally{this[e(993)]=!1}}}}),qe=r=>(Ue(l(286)),r=r(),De(),r),ea={class:l(215)},ta={class:l(832)},aa={class:l(952)},la=qe(()=>m(l(310),{class:l(704),style:{"min-width":l(442)}},l(641),-1)),sa={class:l(952)},ra=qe(()=>m(l(310),{class:l(704),style:{"min-width":l(442)}},"Last Updated:",-1)),oa={class:l(952)},na=qe(()=>m(l(310),{class:l(704),style:{"min-width":"120px"}},"Type:",-1)),ia={class:l(952)},ca=qe(()=>m("span",{class:l(704),style:{"min-width":l(442)}},l(559),-1)),ua={key:0,class:l(952)},da=qe(()=>m(l(310),{class:l(704),style:{"min-width":"120px"}},l(903),-1)),ma={key:1,class:l(952)},pa=qe(()=>m(l(310),{class:l(704),style:{"min-width":l(442)}},l(359),-1)),fa={key:2,class:l(952)},ya=qe(()=>m(l(310),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":"120px"}},l(381),-1)),ha={class:l(952)},va={class:l(937)},_a={class:"whitespace-pre-wrap"},ga={class:"d-flex flex-column gap-4"},ba={key:0},ka=qe(()=>m("h6",{class:"text-subtitle-1 font-weight-bold mb-2"},l(448),-1)),wa={class:"whitespace-pre-wrap"},xa={key:1},Va=qe(()=>m("h6",{class:l(749)},l(890),-1)),Ca={class:l(215)},Ua={class:l(636)},Da={key:0,class:l(924)},Sa=qe(()=>m("h6",{class:l(749)},l(460),-1)),qa={class:l(924)},za={class:l(924)},ja={class:l(924)},Fa={__name:"ProjectDetailsInfo",props:{project:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(r){const o=l,e=r,u=V=>{const x=me;return V?new Date(parseInt(V))[x(583)](x(795),{year:x(702),month:x(732),day:x(702)}):x(971)},j=K(()=>{const V=me;switch(e.project.status){case V(897):return V(974);case V(485):return V(989);case V(420):return V(996);case V(961):return V(606);default:return V(218)}}),M=K(()=>{const V=me;switch(e[V(857)].type_of_application){case V(217):return V(637);case V(607):return V(390);case V(792):return V(619);case V(451):return V(408);default:return V(759)}}),P={en:o(544),ru:o(428),de:"German"};return(V,x)=>{const v=o;return f(),R(Q,{class:v(750)},{default:a(()=>[t(oe,null,{default:a(()=>[t(J,{cols:"12",md:"6"},{default:a(()=>[m(v(840),ea,[t(le,{border:"",class:v(251)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(Fe,{color:v(218),variant:v(526),rounded:"",size:"42"},{default:a(()=>[t(L,{icon:U(M)},null,8,["icon"])]),_:1})]),append:a(()=>[t(Z,{size:v(532),color:U(j),label:""},{default:a(()=>[k(w(Oe(r[v(857)][v(789)])),1)]),_:1},8,["color"])]),default:a(()=>[t(ne,null,{default:a(()=>[k(v(269))]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m(v(840),ta,[m(v(840),aa,[la,m("span",null,w(u(r[v(857)][v(512)])),1)]),m("div",sa,[ra,m(v(310),null,w(u(r[v(857)][v(742)])),1)]),m(v(840),oa,[na,t(Z,{size:v(532)},{default:a(()=>[k(w(r[v(857)][v(591)]),1)]),_:1})]),m(v(840),ia,[ca,t(Z,{size:"small"},{default:a(()=>{return[k(w((E=r.project[v(569)],P[E]||E)),1)];var E}),_:1})]),r.project[v(248)]?(f(),z("div",ua,[da,m(v(310),null,w(u(r.project[v(248)])),1)])):O("",!0),r.project[v(418)]?(f(),z(v(840),ma,[pa,m(v(310),null,"$"+w(r.project[v(418)]),1)])):O("",!0),r[v(857)][v(870)]?(f(),z(v(840),fa,[ya,m(v(840),ha,[(f(!0),z(te,null,ie(r[v(857)].color_scheme[v(213)](","),(E,Y)=>{const I=v;return f(),z(I(840),{key:Y,class:I(284),style:Te({backgroundColor:E[I(825)]()}),title:I(351)},null,4)}),128)),m("span",va,w(r.project[v(870)]),1)])])):O("",!0)])]),_:1})]),_:1}),r[v(857)][v(280)]?(f(),R(le,{key:0,border:"",class:v(251)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(L,{color:v(218),icon:"tabler-list-details"})]),default:a(()=>[t(ne,null,{default:a(()=>[k("Additional Requirements")]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m("div",_a,w(r[v(857)][v(280)]),1)]),_:1})]),_:1})):O("",!0),r[v(857)][v(928)]||r[v(857)][v(476)]?(f(),R(le,{key:1,border:"",class:v(251)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(L,{color:"primary",icon:"tabler-device-laptop-code"})]),default:a(()=>[t(ne,null,{default:a(()=>[k(v(944))]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m(v(840),ga,[r[v(857)].technology_stack?(f(),z(v(840),ba,[ka,m(v(840),wa,w(r[v(857)][v(928)]),1)])):O("",!0),r[v(857)].operating_system?(f(),z(v(840),xa,[Va,m(v(840),null,w(r.project[v(476)]),1)])):O("",!0)])]),_:1})]),_:1})):O("",!0)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[m(v(840),Ca,[t(le,{border:"",class:v(251)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(L,{color:v(218),icon:v(582)})]),default:a(()=>[t(ne,null,{default:a(()=>[k("Description")]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m("div",Ua,w(r[v(857)][v(953)]),1),r[v(857)][v(876)]?(f(),z(v(840),Da,[Sa,m(v(840),null,w(r.project[v(876)]),1)])):O("",!0)]),_:1})]),_:1}),r.project[v(941)]?(f(),R(le,{key:0,border:"",class:v(251)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(L,{color:"primary",icon:v(441)})]),default:a(()=>[t(ne,null,{default:a(()=>[k(v(620))]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m(v(840),qa,w(r[v(857)][v(941)]),1)]),_:1})]),_:1})):O("",!0),r[v(857)][v(821)]?(f(),R(le,{key:1,border:"",class:"project-info-card"},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(L,{color:v(218),icon:v(628)})]),default:a(()=>[t(ne,null,{default:a(()=>[k(v(333))]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m(v(840),za,w(r[v(857)][v(821)]),1)]),_:1})]),_:1})):O("",!0),r[v(857)][v(434)]?(f(),R(le,{key:2,border:"",class:v(251)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(L,{color:v(218),icon:v(901)})]),default:a(()=>[t(ne,null,{default:a(()=>[k(v(203))]),_:1})]),_:1}),t(ae),t(Q,null,{default:a(()=>[m("div",ja,w(r[v(857)].priority_modules),1)]),_:1})]),_:1})):O("",!0)])]),_:1})]),_:1})]),_:1})}}},Ma=Ce(Fa,[[l(975),l(286)]]),jt=Ne({id:l(966),state:()=>({requirements:[],currentRequirement:null,loading:!1,error:null}),actions:{async fetchRequirements(r=null){const o=l;this.loading=!0;try{let e=o(816);r&&(e+=o(913)+r);const u=await W.get(e);return u[o(789)]===200?(this[o(721)]=u[o(410)],{data:u[o(410)],error:null}):{data:[],error:u[o(410)]}}catch(e){return this[o(669)]=e.message||o(305),{data:[],error:this[o(669)]}}finally{this[o(993)]=!1}},async fetchRequirementById(r){const o=l;this[o(993)]=!0;try{const e=await W[o(672)](o(816)+r+"/");return e.status===200?(this[o(761)]=e[o(410)],{data:e[o(410)],error:null}):{data:null,error:e[o(410)]}}catch(e){return this[o(669)]=e[o(658)]||o(472),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async createRequirement(r){const o=l;this[o(993)]=!0;try{const e=await W[o(550)](o(816),r);return e[o(789)]===201?(this.requirements[o(342)]&&this[o(721)][o(621)](e[o(410)]),{data:e[o(410)],error:null}):{data:null,error:e.data}}catch(e){return this.error=e.message||"Failed to create requirement",{data:null,error:this[o(669)]}}finally{this.loading=!1}},async updateRequirement(r,o){const e=l;this[e(993)]=!0;try{const u=await W.put(e(816)+r+"/",o);if(u[e(789)]===200){if(this.requirements[e(342)]){const j=this[e(721)].findIndex(M=>M.id===r);j!==-1&&(this.requirements[j]=u[e(410)])}return this.currentRequirement&&this[e(761)].id===r&&(this[e(761)]=u[e(410)]),{data:u[e(410)],error:null}}return{data:null,error:u.data}}catch(u){return this[e(669)]=u.message||e(862),{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}},async deleteRequirement(r){const o=l;this[o(993)]=!0;try{const e=await W[o(858)]("/service/requirements/"+r+"/");return e[o(789)]===204?(this[o(721)][o(342)]&&(this[o(721)]=this[o(721)][o(933)](u=>u.id!==r)),this[o(761)]&&this.currentRequirement.id===r&&(this[o(761)]=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(669)]=e.message||o(282),{success:!1,error:this[o(669)]}}finally{this[o(993)]=!1}},async createComment(r,o){const e=l;this[e(993)]=!0;try{const u=await W.post(e(960),{requirement:r,text:o[e(457)],status:o[e(789)]||e(485),responsible_user:o[e(692)]||null});return u[e(789)]===201?{data:u[e(410)],error:null}:{data:null,error:u.data}}catch(u){return this[e(669)]=u.message||e(803),{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}},async deleteComment(r){const o=l;this[o(993)]=!0;try{const e=await W[o(858)](o(960)+r+"/");return e[o(789)]===204?{success:!0,error:null}:{success:!1,error:e.data}}catch(e){return this[o(669)]=e[o(658)]||o(830),{success:!1,error:this[o(669)]}}finally{this[o(993)]=!1}}}}),ze=r=>(Ue(l(907)),r=r(),De(),r),Ia={key:0,class:l(394)},Pa={key:1,class:l(394)},Ra={key:0},Ba={key:1},La={class:l(596)},Aa={class:l(387)},Ta={class:"text-caption me-4"},Na={class:l(445)},Oa={class:l(771)},Ea={class:l(684)},Ha={key:0,class:l(869)},Ga=ze(()=>m("h4",{class:"text-h6 mb-2"},l(649),-1)),Ja=ze(()=>m("p",{class:"text-medium-emphasis mb-4"}," This requirement doesn't have any user stories yet. ",-1)),$a={key:1},Xa={class:l(600)},Ya=ze(()=>m("h5",{class:l(394)},l(523),-1)),Ka={class:"mb-2"},Qa=ze(()=>m("strong",null,l(383),-1)),Za=ze(()=>m(l(522),null,l(696),-1)),Wa={key:0,class:l(577)},el=ze(()=>m(l(840),{class:l(302)},"Acceptance Criteria:",-1)),tl={class:"pl-4"},al={key:0},ll={key:0,class:l(755)},sl={key:0,class:l(869)},rl=ze(()=>m("h4",{class:l(762)},l(650),-1)),ol=ze(()=>m("p",{class:"text-medium-emphasis"}," This requirement hasn't been modified since its creation. ",-1)),nl={key:1},il={class:l(445)},cl={class:l(330)},ul={class:l(332)},dl={class:l(445)},ml={class:l(773)},pl={class:l(565)},fl={key:1,class:"text-center pa-6"},yl=ze(()=>m("h4",{class:"text-h6 mb-2"},"No Comments Yet",-1)),hl=ze(()=>m("p",{class:l(882)},l(791),-1)),vl={key:2},_l={class:l(952)},gl={class:l(952)},bl={class:l(877)},kl={class:l(230)},wl={__name:l(347),props:{modelValue:{type:Boolean,default:!1},requirement:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:["update:modelValue",l(604),l(858),"view-user-stories"],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:y=>o(e(837),y)}),M=jt(),P=T(0),V=T(!1),x=T({...u[e(757)]}),v=T(""),E=T(!1),Y=T({show:!1,text:"",color:e(989)}),I=[{title:e(957),value:e(250)},{title:e(258),value:e(412)},{title:e(909),value:e(677)},{title:e(627),value:e(592)}],H=[{title:e(760),value:e(897)},{title:e(940),value:e(485)},{title:e(422),value:e(420)},{title:e(233),value:"completed"}],S=[{title:e(841),value:"feature"},{title:e(590),value:e(723)},{title:e(674),value:e(880)},{title:e(242),value:e(318)},{title:e(853),value:e(314)},{title:e(602),value:e(783)},{title:e(627),value:e(592)}],$=K(()=>{const y=e;return u.requirement[y(689)]||[]}),q=K(()=>{const y=e;return u[y(757)][y(309)]||[]}),D=K(()=>{const y=e;return u[y(757)][y(734)]||[]}),b=y=>{const p=e;return y?(y=parseInt(y),new Date(y).toLocaleDateString("en-US",{year:p(702),month:p(386),day:"numeric",hour:p(454),minute:p(454)})):""},c=y=>{const p=e;return y?y[p(260)](0).toUpperCase()+y[p(800)](1):""},C=()=>{const y=e;V[y(370)]&&(x.value={...u[y(757)]}),V[y(370)]=!V[y(370)]},_=()=>{const y=e;o(y(604),x[y(370)]),V[y(370)]=!1},g=()=>{o(e(858))},se=()=>{const y=e;o(y(312),u[y(757)]),j.value=!1},F=async()=>{const y=e;if(v[y(370)].trim()){E[y(370)]=!0;try{const{data:p,error:s}=await M.createComment(u.requirement.id,{text:v[y(370)],status:y(485)});if(p&&!s){B(y(398)),v.value="";const{data:n}=await M.fetchRequirementById(u[y(757)].id);n&&Object[y(304)](u[y(757)],n)}else B(y(283),"error")}catch(p){B(y(925)+p[y(658)],y(669))}finally{E[y(370)]=!1}}},B=(y,p=e(989))=>{Y[e(370)]={show:!0,text:y,color:p}};return je(()=>u[e(757)],y=>{x[e(370)]={...y}},{deep:!0}),(y,p)=>{const s=e,n=he(s(781));return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":p[11]||(p[11]=h=>Ie(j)?j[s(370)]=h:null),"max-width":"900",scrollable:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:s(729)},{default:a(()=>[V.value?(f(),z("h5",Ia,s(433))):(f(),z("h5",Pa,"Requirement Details")),t(ee),t(n,{onClick:p[0]||(p[0]=h=>j.value=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),_:1}),t(Q,{class:s(574)},{default:a(()=>[t(it,{modelValue:P[s(370)],"onUpdate:modelValue":p[1]||(p[1]=h=>P.value=h),"slider-color":"primary","align-tabs":s(518)},{default:a(()=>[t(_e,{value:"0"},{default:a(()=>[t(L,{size:"18",icon:s(466),start:""}),k(" Details ")]),_:1}),t(_e,{value:"1"},{default:a(()=>[t(L,{size:"18",icon:"tabler-user-check",start:""}),k(s(724)),U(D)[s(342)]?(f(),R(Z,{key:0,size:s(802),color:s(218),class:"ms-2"},{default:a(()=>[k(w(U(D)[s(342)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"2"},{default:a(()=>[t(L,{size:"18",icon:s(947),start:""}),k(s(963)),U($)[s(342)]?(f(),R(Z,{key:0,size:s(802),color:s(218),class:s(937)},{default:a(()=>[k(w(U($).length),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"3"},{default:a(()=>[t(L,{size:"18",icon:s(462),start:""}),k(" Comments "),U(q)[s(342)]?(f(),R(Z,{key:0,size:s(802),color:s(218),class:s(937)},{default:a(()=>[k(w(U(q)[s(342)]),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,[s(205)])]),_:1}),t(ae),t(Q,{class:"pa-6",style:{"min-height":s(531),"max-height":s(1002)}},{default:a(()=>[t(ut,{modelValue:P[s(370)],"onUpdate:modelValue":p[8]||(p[8]=h=>P.value=h),class:s(1006)},{default:a(()=>[t(ge,{value:"0"},{default:a(()=>[V[s(370)]?(f(),z("div",Ra,[t(Pe,{onSubmit:Se(_,[s(444)])},{default:a(()=>[t(oe,{class:s(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:x.value[s(855)],"onUpdate:modelValue":p[2]||(p[2]=h=>x[s(370)][s(855)]=h),label:s(948),required:"",rules:[h=>!!h||s(640)]},null,8,["modelValue",s(601)])]),_:1}),t(J,{cols:"12",md:"4"},{default:a(()=>[t(pe,{modelValue:x[s(370)][s(560)],"onUpdate:modelValue":p[3]||(p[3]=h=>x[s(370)][s(560)]=h),label:s(623),items:I,required:""},null,8,[s(205)])]),_:1}),t(J,{cols:"12",md:"4"},{default:a(()=>[t(pe,{modelValue:x.value[s(945)],"onUpdate:modelValue":p[4]||(p[4]=h=>x[s(370)][s(945)]=h),label:s(712),items:S,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"4"},{default:a(()=>[t(pe,{modelValue:x[s(370)][s(789)],"onUpdate:modelValue":p[5]||(p[5]=h=>x[s(370)][s(789)]=h),label:s(221),items:H,required:""},null,8,[s(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:x[s(370)][s(891)],"onUpdate:modelValue":p[6]||(p[6]=h=>x[s(370)].description=h),label:s(343),required:"",rows:"8",rules:[h=>!!h||s(222)]},null,8,[s(205),s(601)])]),_:1})]),_:1})]),_:1},8,[s(969)])])):(f(),z(s(840),Ba,[m(s(840),La,[t(Z,{color:U(et)(r.requirement.category),size:s(532),label:"",class:s(906)},{default:a(()=>[k(w(r[s(757)][s(560)]),1)]),_:1},8,[s(351)]),t(Z,{color:U(ke)(r[s(757)][s(789)]),size:s(532),label:""},{default:a(()=>[k(w(c(r.requirement[s(789)])),1)]),_:1},8,["color"]),t(Z,{color:s(996),size:s(532),label:"",class:s(937)},{default:a(()=>[k(" v"+w(r.requirement.version_number),1)]),_:1}),r[s(757)].requirement_type?(f(),R(Z,{key:0,color:s(606),size:s(532),label:"",class:s(937)},{default:a(()=>[k(w(r[s(757)][s(945)]),1)]),_:1})):O("",!0),t(ee),m(s(840),Aa,[t(L,{size:"18",icon:s(661),class:s(406)}),m("span",Ta,s(780)+w(b(r[s(757)][s(742)])),1),t(L,{size:"18",icon:s(378),class:s(406)}),m("span",Na,"Created: "+w(b(r.requirement.created_at)),1)])]),m("h4",Oa,w(r[s(757)].title),1),m("div",Ea,w(r[s(757)][s(891)]),1)]))]),_:1}),t(ge,{value:"1"},{default:a(()=>[U(D)[s(342)]===0?(f(),z(s(840),Ha,[t(L,{icon:"tabler-user-check",size:"64",color:s(996),class:s(686)}),Ga,Ja,t(G,{color:"primary",onClick:se},{default:a(()=>[k(s(647))]),_:1})])):(f(),z(s(840),$a,[m("div",Xa,[Ya,t(G,{color:"primary",variant:s(526),onClick:se},{default:a(()=>[k(s(578))]),_:1})]),(f(!0),z(te,null,ie(U(D)[s(800)](0,3),(h,d)=>{const i=s;return f(),R(le,{key:h.id,class:i(368),border:""},{default:a(()=>[t(fe,null,{append:a(()=>[t(Z,{color:U(ke)(h.status),size:"small",label:""},{default:a(()=>[k(w(h.status),1)]),_:2},1032,[i(351)])]),default:a(()=>[t(ne,null,{default:a(()=>[k(i(873)+w(h[i(278)]),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:a(()=>[m("p",Ka,[Qa,k(" "+w(h[i(1004)]),1)]),m("p",null,[Za,k(" "+w(h[i(425)]),1)]),h[i(438)]&&h[i(438)].length>0?(f(),z(i(840),Wa,[el,m("ul",tl,[(f(!0),z(te,null,ie(h[i(438)].slice(0,2),(A,X)=>(f(),z("li",{key:X},w(A),1))),128)),h.acceptance_criteria[i(342)]>2?(f(),z("li",al,i(384)+w(h[i(438)][i(342)]-2)+i(987),1)):O("",!0)])])):O("",!0)]),_:2},1024)]),_:2},1024)}),128)),U(D)[s(342)]>3?(f(),z(s(840),ll,[t(G,{color:s(218),variant:s(526),onClick:se},{default:a(()=>[k(" View All "+w(U(D)[s(342)])+s(724),1)]),_:1})])):O("",!0)]))]),_:1}),t(ge,{value:"2"},{default:a(()=>[U($)[s(342)]===0?(f(),z(s(840),sl,[t(L,{icon:"tabler-history",size:"64",color:s(996),class:s(686)}),rl,ol])):(f(),z(s(840),nl,[t(qt,{density:s(973),align:"start"},{default:a(()=>[(f(!0),z(te,null,ie(U($),(h,d)=>{const i=s;return f(),R(zt,{key:d,"dot-color":i(218),size:i(532)},{opposite:a(()=>[m(i(840),il,w(b(h[i(487)])),1),m("div",cl,"v"+w(h[i(936)]),1)]),default:a(()=>[t(le,{border:""},{default:a(()=>[t(fe,null,{append:a(()=>[t(Z,{color:U(ke)(h.status),size:i(532),label:"",class:i(937)},{default:a(()=>[k(w(h.status),1)]),_:2},1032,[i(351)])]),default:a(()=>[t(ne,null,{default:a(()=>[k(w(h[i(855)]),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:a(()=>[m("div",ul,[t(Z,{color:U(et)(h.category),size:i(532),label:"",class:i(906)},{default:a(()=>[k(w(h[i(560)]),1)]),_:2},1032,[i(351)]),m(i(310),dl," Changed by: "+w(h.changed_by?h.changed_by[i(355)]:"Unknown"),1)]),m(i(840),ml,w(h.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ge,{value:"3"},{default:a(()=>[t(oe,{class:s(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:v[s(370)],"onUpdate:modelValue":p[7]||(p[7]=h=>v[s(370)]=h),label:s(239),rows:"3",counter:"",disabled:E[s(370)]},null,8,[s(205),s(715)]),m(s(840),pl,[t(G,{color:s(218),size:s(532),loading:E[s(370)],disabled:!v.value[s(825)](),onClick:F},{default:a(()=>[k(s(884))]),_:1},8,["loading","disabled"])])]),_:1}),t(J,{cols:"12"},{default:a(()=>[U(q)[s(342)]?(f(),R(ae,{key:0,class:s(368)})):O("",!0),U(q)[s(342)]===0?(f(),z(s(840),fl,[t(L,{icon:"tabler-messages",size:"64",color:s(996),class:"mb-3"}),yl,hl])):(f(),z(s(840),vl,[(f(!0),z(te,null,ie(U(q),h=>{const d=s;return f(),z(d(840),{key:h.id,class:d(440)},[t(le,{border:""},{default:a(()=>[t(Q,{class:d(899)},{default:a(()=>[m(d(840),_l,[t(Fe,{color:d(218),variant:d(526),size:"36",class:d(843)},{default:a(()=>[t(L,{icon:d(741)})]),_:1}),m(d(840),null,[m(d(840),gl,[m("strong",null,w(h[d(624)]?h[d(624)][d(355)]:d(610)),1),m(d(840),bl,w(b(h.created_at)),1)])]),t(ee),r[d(503)]||r[d(758)]?(f(),R(n,{key:0,size:d(532),color:d(669),variant:d(457),onClick:i=>(async A=>{const X=e;E.value=!0;try{const{success:N,error:re}=await M[X(868)](A);if(N&&!re){B(X(561));const{data:ce}=await M[X(446)](u[X(757)].id);ce&&Object.assign(u[X(757)],ce)}else B(X(830),X(669))}catch(N){B(X(709)+N[X(658)],X(669))}finally{E[X(370)]=!1}})(h.id),disabled:E.value},{default:a(()=>[t(L,{icon:d(455),size:"18"})]),_:2},1032,[d(265),d(715)])):O("",!0)]),m("div",kl,w(h[d(457)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[s(205)])]),_:1}),t(ae),t(de,{class:s(657)},{default:a(()=>[V.value?(f(),z(te,{key:0},[t(G,{color:"secondary",variant:s(526),onClick:C},{default:a(()=>[k(s(879))]),_:1}),t(ee),t(G,{color:s(218),onClick:_},{default:a(()=>[k(s(867))]),_:1})],64)):(f(),z(te,{key:1},[r[s(503)]?(f(),R(G,{key:0,color:s(669),variant:s(526),"prepend-icon":s(455),onClick:g},{default:a(()=>[k(" Delete ")]),_:1})):O("",!0),r.hasModeratorPermission&&U(D)[s(342)]===0?(f(),R(G,{key:1,color:s(606),variant:s(526),"prepend-icon":s(572),class:s(937),onClick:se},{default:a(()=>[k(s(647))]),_:1})):O("",!0),t(ee),r[s(631)]?(f(),R(G,{key:2,color:s(218),"prepend-icon":s(710),onClick:C},{default:a(()=>[k(s(731))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(Ve,{modelValue:Y[s(370)].show,"onUpdate:modelValue":p[10]||(p[10]=h=>Y.value[s(541)]=h),color:Y[s(370)][s(351)],timeout:5e3},{actions:a(()=>[t(n,{onClick:p[9]||(p[9]=h=>Y[s(370)][s(541)]=!1)},{default:a(()=>[t(L,{icon:s(281)})]),_:1})]),default:a(()=>[k(w(Y[s(370)].text)+" ",1)]),_:1},8,[s(205),s(351)])]),_:1},8,[s(205)])}}},xl=Ce(wl,[[l(975),l(907)]]),Vl={class:"text-h5"},Cl={__name:"RequirementCreateDialog",props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},requirementData:{type:Object,default:()=>({})}},emits:[l(837),l(352)],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:S=>o(e(837),S)}),M=T({title:u.editMode&&u.requirementData?u[e(711)][e(855)]:"",description:u[e(801)]&&u[e(711)]?u.requirementData[e(891)]:"",category:u[e(801)]&&u.requirementData?u[e(711)][e(560)]:e(250),status:u[e(801)]&&u.requirementData?u[e(711)].status:e(897)}),P=[S=>!!S||e(640),S=>S[e(342)]<=255||e(429)],V=[S=>!!S||e(222)],x=[{title:e(957),value:e(250)},{title:e(258),value:e(412)},{title:e(909),value:e(677)},{title:e(627),value:e(592)}],v=[{title:e(760),value:"draft"},{title:e(940),value:e(485)},{title:e(422),value:e(420)},{title:"Completed",value:e(961)}],E=T(null),Y=()=>{const S=e;M[S(370)]={title:"",description:"",category:S(250),status:S(897)},E[S(370)]&&E.value.resetValidation()},I=()=>{j[e(370)]=!1,Y()},H=async()=>{const S=e,{valid:$}=await E[S(370)][S(495)]();$&&(o(S(352),M[S(370)]),j[S(370)]=!1,Y())};return je(j,S=>{S||Y()}),(S,$)=>{const q=e,D=he(q(781));return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":$[4]||($[4]=b=>Ie(j)?j[q(370)]=b:null),"max-width":q(740),persistent:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:q(729)},{default:a(()=>[m("h5",Vl,w(u[q(801)]?q(433):q(473)),1),t(ee),t(D,{onClick:I},{default:a(()=>[t(L,{icon:q(281)})]),_:1})]),_:1}),t(Q,{class:"px-5 pt-4"},{default:a(()=>[t(Pe,{ref_key:q(1003),ref:E,onSubmit:Se(H,[q(444)])},{default:a(()=>[t(oe,{class:q(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:M[q(370)].title,"onUpdate:modelValue":$[0]||($[0]=b=>M[q(370)][q(855)]=b),label:q(358),rules:P,required:""},null,8,[q(205)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:M[q(370)].category,"onUpdate:modelValue":$[1]||($[1]=b=>M[q(370)][q(560)]=b),label:q(623),items:x,required:""},null,8,[q(205)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:M.value[q(789)],"onUpdate:modelValue":$[2]||($[2]=b=>M[q(370)].status=b),label:"Status",items:v,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:M[q(370)][q(891)],"onUpdate:modelValue":$[3]||($[3]=b=>M[q(370)].description=b),label:q(343),rules:V,required:"",rows:"6"},null,8,[q(205)])]),_:1})]),_:1})]),_:1},8,[q(969)])]),_:1}),t(ae),t(de,{class:q(657)},{default:a(()=>[t(G,{variant:q(526),color:q(996),onClick:I},{default:a(()=>[k(q(879))]),_:1}),t(ee),t(G,{color:"primary",onClick:H},{default:a(()=>[k(w(u.editMode?q(377):q(480))+" Requirement ",1)]),_:1})]),_:1})]),_:1})]),_:1},8,[q(205)])}}},Ul={key:0,class:l(886),style:{height:l(294)}},Dl={key:1,class:l(642)},Sl=(Ge=()=>m("h4",{class:l(762)},l(847),-1),Ue(l(767)),Ge=Ge(),De(),Ge),ql={class:l(570)},zl={class:l(562)},jl={class:l(236)},Fl={class:l(952)},Ml={class:l(266)},Il={class:l(952)},Pl={class:l(445)},Rl={class:"d-flex align-center"},Bl={class:l(445)},Ll={key:0,class:l(577)},Al={__name:l(635),props:{projectId:{type:String,required:!0},requirements:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[l(228),l(312)],setup(r,{emit:o}){const e=l,u=r,j=jt(),M=Be(),P=T(""),V=T(e(797)),x=T(e(797)),v=T(null),E=T(!1),Y=T(!1),I=T(!1),H=T(!1),S=T({show:!1,text:"",color:e(989)}),$=K(()=>M.is_admin()),q=K(()=>M.userData.role>=2),D=K(()=>M.userData.role>=3),b=[{title:"All Categories",value:"all"},{title:e(957),value:e(250)},{title:e(258),value:"nonfunctional"},{title:"UI/UX",value:e(677)},{title:e(627),value:e(592)}],c=[{title:e(371),value:"all"},{title:e(760),value:e(897)},{title:e(940),value:e(485)},{title:e(422),value:e(420)},{title:e(233),value:e(961)}],C=K(()=>{const n=e;return u.requirements[n(933)](h=>{const d=n,i=!P.value||h[d(855)][d(243)]()[d(366)](P[d(370)][d(243)]())||h.description.toLowerCase()[d(366)](P[d(370)].toLowerCase()),A=V[d(370)]===d(797)||h[d(560)]===V[d(370)],X=x[d(370)]==="all"||h[d(789)]===x[d(370)];return i&&A&&X})}),_=()=>{Y[e(370)]=!0},g=async n=>{const h=e;H[h(370)]=!0;try{const{data:d,error:i}=await j[h(638)]({...n,project:u[h(959)]});d&&!i?(y(h(667)),o(h(228))):y(h(786),h(669))}catch(d){y(h(362)+d[h(658)],h(669))}finally{H[h(370)]=!1}},se=async n=>{const h=e;H.value=!0;try{const{data:d,error:i}=await j[h(494)](v[h(370)].id,n);d&&!i?(y(h(950)),o(h(228))):y(h(862),h(669))}catch(d){y(h(396)+d.message,h(669))}finally{H.value=!1}},F=async()=>{const n=e;if(v[n(370)]){H[n(370)]=!0,I[n(370)]=!1;try{const{success:h,error:d}=await j[n(823)](v[n(370)].id);h&&!d?(y(n(273)),o(n(228)),E[n(370)]=!1):y(n(282),"error")}catch(h){y(n(815)+h[n(658)],n(669))}finally{H[n(370)]=!1}}},B=n=>{o("view-user-stories",n)},y=(n,h=e(989))=>{S[e(370)]={show:!0,text:n,color:h}},p=(n,h=120)=>{const d=e;return!n||n.length<=h?n:n[d(917)](0,h)+"..."},s=n=>{const h=e;return n?(n=parseInt(n),new Date(n)[h(583)](h(795),{year:"numeric",month:"short",day:h(702),hour:h(454),minute:h(454)})):""};return(n,h)=>{const d=e,i=Ee,A=he(d(781));return f(),R(Q,{class:d(750)},{default:a(()=>[t(oe,null,{default:a(()=>[t(J,{cols:"12",md:"4"},{default:a(()=>[t(ue,{modelValue:P[d(370)],"onUpdate:modelValue":h[0]||(h[0]=X=>P[d(370)]=X),density:d(973),placeholder:d(662),"prepend-inner-icon":d(896),"hide-details":"",variant:d(430),clearable:""},null,8,[d(205)])]),_:1}),t(J,{cols:"12",md:"3"},{default:a(()=>[t(pe,{modelValue:V[d(370)],"onUpdate:modelValue":h[1]||(h[1]=X=>V[d(370)]=X),items:b,density:d(973),"hide-details":"",label:"Category",variant:d(430)},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"3"},{default:a(()=>[t(pe,{modelValue:x[d(370)],"onUpdate:modelValue":h[2]||(h[2]=X=>x.value=X),items:c,density:d(973),"hide-details":"",label:d(221),variant:d(430)},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"2",class:d(952)},{default:a(()=>[U(D)?(f(),R(G,{key:0,color:d(218),"prepend-icon":"tabler-plus",onClick:_,loading:H[d(370)],block:""},{default:a(()=>[k(d(399))]),_:1},8,[d(993)])):O("",!0)]),_:1})]),_:1}),t(ae,{class:d(556)}),r[d(993)]?(f(),z(d(840),Ul,[t(Me,{indeterminate:"",color:d(218)})])):U(C).length===0?(f(),z(d(840),Dl,[t(L,{icon:"tabler-file-search",size:"64",color:d(996),class:d(368)}),Sl,m("p",ql,w(P[d(370)]||V.value!=="all"||x[d(370)]!==d(797)?d(238):d(432)),1),U(D)&&!P[d(370)]&&V[d(370)]===d(797)&&x[d(370)]===d(797)?(f(),R(G,{key:0,color:"primary",onClick:_,"prepend-icon":d(344)},{default:a(()=>[k(d(859))]),_:1})):O("",!0)])):(f(),R(oe,{key:2},{default:a(()=>[(f(!0),z(te,null,ie(U(C),X=>{const N=d;return f(),R(J,{key:X.id,cols:"12"},{default:a(()=>[t(le,{class:N(380),onClick:re=>(ce=>{const be=e;v[be(370)]=ce,E[be(370)]=!0})(X),border:"",hover:""},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(Fe,{color:U(et)(X[N(560)]),variant:N(526),size:"42"},{default:a(()=>[X[N(560)]==="functional"?(f(),R(L,{key:0,icon:"tabler-function"})):X[N(560)]==="nonfunctional"?(f(),R(L,{key:1,icon:N(295)})):X[N(560)]===N(677)?(f(),R(L,{key:2,icon:N(501)})):(f(),R(L,{key:3,icon:"tabler-file-description"}))]),_:2},1032,["color"])]),append:a(()=>[t(Z,{color:U(ke)(X[N(789)]),size:"small",label:""},{default:a(()=>{return[k(w((re=X.status,re?re.charAt(0).toUpperCase()+re.slice(1):"")),1)];var re}),_:2},1032,["color"])]),default:a(()=>[t(ne,null,{default:a(()=>[k(w(X.title),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:a(()=>[m("p",zl,w(p(X.description)),1),m("div",jl,[m("div",Fl,[t(L,{size:"16",icon:N(822),class:N(406)}),m(N(310),Ml,w(X[N(560)]),1)]),m(N(840),Il,[t(L,{size:"16",icon:"tabler-calendar",class:N(406)}),m(N(310),Pl,w(s(X[N(742)])),1)]),m(N(840),Rl,[t(L,{size:"16",icon:"tabler-history",class:N(406)}),m(N(310),Bl,"v"+w(X.version_number),1)])]),X[N(734)]&&X.user_stories[N(342)]>0?(f(),z(N(840),Ll,[t(G,{size:N(532),variant:"tonal",color:N(218),"prepend-icon":"tabler-user-check",onClick:Se(re=>B(X),[N(587)])},{default:a(()=>[k(w(X.user_stories.length)+N(226)+w(X[N(734)][N(342)]===1?N(703):N(922)),1)]),_:2},1032,[N(265)])])):O("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)}),128))]),_:1})),v[d(370)]?(f(),R(xl,{key:3,modelValue:E.value,"onUpdate:modelValue":h[3]||(h[3]=X=>E[d(370)]=X),requirement:v[d(370)],onDelete:h[4]||(h[4]=X=>I[d(370)]=!0),onUpdate:se,onViewUserStories:B,"is-admin":U($),"has-manager-permission":U(q),"has-moderator-permission":U(D)},null,8,[d(205),d(757),d(489),d(805),d(580)])):O("",!0),t(Cl,{modelValue:Y[d(370)],"onUpdate:modelValue":h[5]||(h[5]=X=>Y[d(370)]=X),onSubmit:g},null,8,[d(205)]),t(i,{isDialogVisible:I[d(370)],"onUpdate:isDialogVisible":h[6]||(h[6]=X=>I[d(370)]=X),confirmationMsg:d(320),onConfirm:F},null,8,[d(308)]),t(Ve,{modelValue:S[d(370)][d(541)],"onUpdate:modelValue":h[8]||(h[8]=X=>S[d(370)][d(541)]=X),color:S[d(370)][d(351)],timeout:5e3},{actions:a(()=>[t(A,{onClick:h[7]||(h[7]=X=>S[d(370)].show=!1)},{default:a(()=>[t(L,{icon:d(281)})]),_:1})]),default:a(()=>[k(w(S[d(370)][d(457)])+" ",1)]),_:1},8,[d(205),"color"])]),_:1})}}},Tl=Ce(Al,[[l(975),"data-v-3d0ce27d"]]),Ft=Ne({id:l(656),state:()=>({mockups:[],currentMockup:null,loading:!1,error:null}),actions:{async fetchMockups(r=null){const o=l;this.loading=!0;try{let e=o(854);r&&(e+=o(913)+r);const u=await W[o(672)](e);return u[o(789)]===200?(this.mockups=u[o(410)],{data:u[o(410)],error:null}):{data:[],error:u[o(410)]}}catch(e){return this.error=e.message||o(586),{data:[],error:this[o(669)]}}finally{this[o(993)]=!1}},async fetchMockupById(r){const o=l;this[o(993)]=!0;try{const e=await W[o(672)](o(854)+r+"/");return e[o(789)]===200?(this[o(885)]=e[o(410)],{data:e[o(410)],error:null}):{data:null,error:e[o(410)]}}catch(e){return this[o(669)]=e[o(658)]||o(581),{data:null,error:this.error}}finally{this[o(993)]=!1}},async createMockup(r){const o=l;this.loading=!0;try{const e=await W[o(550)]("/service/mockups/",r);return e[o(789)]===201?(this.mockups.length&&this.mockups[o(621)](e[o(410)]),{data:e[o(410)],error:null}):{data:null,error:e[o(410)]}}catch(e){return this[o(669)]=e[o(658)]||"Failed to create mockup",{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async updateMockup(r,o){const e=l;this.loading=!0;try{const u=await W.put(e(854)+r+"/",o);if(u[e(789)]===200){if(this[e(717)][e(342)]){const j=this[e(717)][e(573)](M=>M.id===r);j!==-1&&(this[e(717)][j]=u[e(410)])}return this[e(885)]&&this[e(885)].id===r&&(this[e(885)]=u[e(410)]),{data:u[e(410)],error:null}}return{data:null,error:u[e(410)]}}catch(u){return this[e(669)]=u.message||e(990),{data:null,error:this[e(669)]}}finally{this.loading=!1}},async deleteMockup(r){const o=l;this[o(993)]=!0;try{const e=await W[o(858)](o(854)+r+"/");return e[o(789)]===204?(this[o(717)][o(342)]&&(this[o(717)]=this.mockups[o(933)](u=>u.id!==r)),this[o(885)]&&this.currentMockup.id===r&&(this.currentMockup=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(669)]=e.message||o(288),{success:!1,error:this[o(669)]}}finally{this[o(993)]=!1}}}}),Mt=r=>(Ue(l(345)),r=r(),De(),r),Nl={key:0,class:l(394)},Ol={class:l(394)},El={key:0},Hl={key:1},Gl={class:l(977)},Jl={class:"d-flex align-center"},$l={class:l(445)},Xl={class:l(268)},Yl={class:l(445)},Kl={key:0,class:"d-flex align-center ms-4"},Ql={class:l(445)},Zl={class:l(920)},Wl=[l(964)],es={key:1,class:l(615),style:{height:l(531)}},ts=Mt(()=>m("h4",{class:l(762)},"No HTML Content",-1)),as=Mt(()=>m("p",{class:l(491)},l(517),-1)),ls={__name:l(328),props:{modelValue:{type:Boolean,default:!1},mockup:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1}},emits:[l(837),"delete"],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:D=>o(e(837),D)}),M=Ft(),P=T(!1),V=T(!1),x=T({...u[e(262)]}),v=T(!1),E=T({show:!1,text:"",color:e(989)}),Y=D=>{const b=e;return D?new Date(parseInt(D))[b(583)](b(795),{year:b(702),month:"short",day:b(702),hour:b(454),minute:b(454)}):""},I=()=>{P[e(370)]=!P.value},H=()=>{const D=e;V.value&&(x[D(370)]={...u[D(262)]}),V[D(370)]=!V[D(370)]},S=async()=>{const D=e;v[D(370)]=!0;try{const{data:b,error:c}=await M[D(506)](u.mockup.id,x.value);b&&!c?(q(D(528)),Object.assign(u[D(262)],b),V[D(370)]=!1):q(D(990),"error")}catch(b){q(D(860)+b[D(658)],"error")}finally{v[D(370)]=!1}},$=()=>{o(e(858))},q=(D,b=e(989))=>{E[e(370)]={show:!0,text:D,color:b}};return je(()=>u[e(262)],D=>{x[e(370)]={...D}},{deep:!0}),(D,b)=>{const c=e,C=he(c(781));return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":b[6]||(b[6]=_=>Ie(j)?j[c(370)]=_:null),fullscreen:P[c(370)],"max-width":P[c(370)]?c(478):"900",scrollable:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:"d-flex py-3 px-5"},{default:a(()=>[V[c(370)]?(f(),z("h5",Nl,c(235))):(f(),z(te,{key:1},[m("h5",Ol,w(r[c(262)][c(612)]),1),t(Z,{color:U(ke)(r[c(262)][c(789)]),size:c(532),label:""},{default:a(()=>[k(w(Oe(r[c(262)][c(789)])),1)]),_:1},8,[c(351)])],64)),t(ee),t(G,{icon:"",variant:c(457),onClick:I},{default:a(()=>[t(L,{icon:P[c(370)]?c(279):"tabler-maximize"},null,8,[c(655)])]),_:1}),t(C,{onClick:b[0]||(b[0]=_=>j.value=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),_:1}),t(ae),t(Q,{class:ot({"pa-0":!V[c(370)],"pa-6":V[c(370)]}),style:Te({height:P[c(370)]?c(981):c(1002),maxHeight:"800px"})},{default:a(()=>[V[c(370)]?(f(),z(c(840),El,[t(Pe,{onSubmit:Se(S,[c(444)])},{default:a(()=>[t(oe,{class:c(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:x[c(370)][c(612)],"onUpdate:modelValue":b[1]||(b[1]=_=>x.value[c(612)]=_),label:"Mockup Name",required:"",rules:[_=>!!_||c(299)]},null,8,[c(205),c(601)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:x[c(370)].status,"onUpdate:modelValue":b[2]||(b[2]=_=>x[c(370)][c(789)]=_),label:"Status",items:[{title:c(760),value:c(897)},{title:c(940),value:c(485)},{title:c(422),value:c(420)},{title:c(233),value:c(961)}],required:""},null,8,[c(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:x[c(370)][c(962)],"onUpdate:modelValue":b[3]||(b[3]=_=>x[c(370)].html_content=_),label:"HTML Content",rows:"15",rules:[_=>!!_||c(267)],monospace:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,[c(969)])])):(f(),z(c(840),Hl,[m("div",Gl,[m(c(840),Jl,[t(L,{icon:c(661),class:c(906),size:"18"}),m(c(310),$l,"Created: "+w(Y(r.mockup[c(512)])),1)]),m(c(840),Xl,[t(L,{icon:c(566),class:c(906),size:"18"}),m(c(310),Yl,c(780)+w(Y(r.mockup.updated_at)),1)]),r[c(262)][c(757)]?(f(),z("div",Kl,[t(L,{icon:c(985),class:c(906),size:"18"}),m(c(310),Ql,c(814)+w(r.mockup.requirement),1)])):O("",!0)]),t(ae),m(c(840),Zl,[r[c(262)][c(962)]?(f(),z(c(449),{key:0,srcdoc:r[c(262)][c(962)],class:c(988),style:Te([{width:c(478),border:c(939)},{height:P[c(370)]?c(910):c(681)}]),sandbox:c(568),title:c(844)},null,12,Wl)):(f(),z(c(840),es,[t(L,{icon:"tabler-code-off",size:"64",color:"secondary",class:"mb-4"}),ts,as]))])]))]),_:1},8,[c(790),c(665)]),t(ae),t(de,{class:"pa-4"},{default:a(()=>[V[c(370)]?(f(),z(te,{key:0},[t(G,{color:c(996),variant:c(526),onClick:H,disabled:v.value},{default:a(()=>[k(" Cancel ")]),_:1},8,[c(715)]),t(ee),t(G,{color:c(218),onClick:S,loading:v.value},{default:a(()=>[k(" Save Changes ")]),_:1},8,[c(993)])],64)):(f(),z(te,{key:1},[r[c(503)]?(f(),R(G,{key:0,color:c(669),variant:c(526),"prepend-icon":"tabler-trash",onClick:$},{default:a(()=>[k(c(336))]),_:1})):O("",!0),t(ee),r[c(758)]?(f(),R(G,{key:1,color:c(218),"prepend-icon":c(710),onClick:H},{default:a(()=>[k(c(731))]),_:1})):O("",!0),r[c(758)]?(f(),R(G,{key:2,class:"ms-2",color:c(218),variant:c(526),"prepend-icon":c(759),onClick:H},{default:a(()=>[k(c(307))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(Ve,{modelValue:E[c(370)].show,"onUpdate:modelValue":b[5]||(b[5]=_=>E.value.show=_),color:E.value.color,timeout:5e3},{actions:a(()=>[t(C,{onClick:b[4]||(b[4]=_=>E[c(370)][c(541)]=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:a(()=>[k(w(E[c(370)][c(457)])+" ",1)]),_:1},8,[c(205),c(351)])]),_:1},8,[c(205),c(419),c(375)])}}},ss=Ce(ls,[[l(975),l(345)]]),It=r=>(Ue("data-v-fcfe1101"),r=r(),De(),r),rs={key:0,class:l(886),style:{height:l(294)}},os={key:1,class:l(642)},ns=It(()=>m("h4",{class:l(762)},l(810),-1)),is={class:"text-body-1 text-medium-emphasis mb-6"},cs={class:"mockup-preview mb-3"},us={class:l(701),style:{height:"150px"}},ds={key:0,class:l(632)},ms=[l(675)],ps={key:1,class:l(651)},fs={class:l(926)},ys={key:0,class:l(231)},hs=It(()=>m(l(310),{class:l(206)},l(814),-1)),vs={class:l(363)},_s={class:l(952)},gs={class:"text-caption"},bs=Ce({__name:l(1001),props:{projectId:{type:String,required:!0},mockups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:o}){const e=l,u=r,j=Ft(),M=Be(),P=T(""),V=T(null),x=T(!1),v=T(!1),E=T(!1),Y=T({show:!1,text:"",color:e(989)}),I=K(()=>M[e(714)]()),H=K(()=>M[e(500)][e(278)]>=2);K(()=>M[e(500)].role>=3);const S=K(()=>{const c=e;return u.mockups[c(933)](C=>{const _=c;return!P[_(370)]||C[_(612)].toLowerCase()[_(366)](P[_(370)][_(243)]())||C[_(757)]&&C[_(757)][_(855)].toLowerCase()[_(366)](P.value.toLowerCase())})}),$=c=>{const C=e;return c?new Date(parseInt(c))[C(583)]("en-US",{year:C(702),month:C(386),day:C(702),hour:"2-digit",minute:C(454)}):""},q=async()=>{const c=e;if(V[c(370)]){E.value=!0,v[c(370)]=!1;try{const{success:C,error:_}=await j[c(435)](V[c(370)].id);C&&!_?(D("Mockup deleted successfully"),o(c(228)),x[c(370)]=!1):D(c(288),c(669))}catch(C){D("Failed to delete mockup: "+C[c(658)],c(669))}finally{E.value=!1}}},D=(c,C=e(989))=>{Y[e(370)]={show:!0,text:c,color:C}},b=(c,C=150)=>{const _=e;if(!c||c[_(342)]<=C)return c;const g=c[_(603)](/<[^>]*>/g,"");return g[_(342)]<=C?c:g[_(917)](0,C)+_(270)};return(c,C)=>{const _=e,g=Ee,se=he(_(781));return f(),R(Q,{class:_(750)},{default:a(()=>[t(oe,null,{default:a(()=>[t(J,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:P.value,"onUpdate:modelValue":C[0]||(C[0]=F=>P[_(370)]=F),density:_(973),placeholder:_(376),"prepend-inner-icon":"tabler-search","hide-details":"",variant:_(430),clearable:""},null,8,[_(205)])]),_:1})]),_:1}),t(ae,{class:"my-5"}),r[_(993)]?(f(),z(_(840),rs,[t(Me,{indeterminate:"",color:_(218)})])):U(S).length===0?(f(),z(_(840),os,[t(L,{icon:"tabler-photo-off",size:"64",color:_(996),class:_(368)}),ns,m("p",is,w(P[_(370)]?"Try adjusting your search to see more results.":_(898)),1)])):(f(),R(oe,{key:2},{default:a(()=>[(f(!0),z(te,null,ie(U(S),F=>{const B=_;return f(),R(J,{key:F.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[t(le,{class:B(804),onClick:y=>(p=>{const s=e;V.value=p,x[s(370)]=!0})(F),border:"",hover:""},{default:a(()=>[t(fe,null,{append:a(()=>[t(Z,{color:U(ke)(F.status),size:B(532),label:""},{default:a(()=>[k(w(Oe(F[B(789)])),1)]),_:2},1032,["color"])]),default:a(()=>[t(ne,null,{default:a(()=>[k(w(F[B(612)]),1)]),_:2},1024)]),_:2},1024),t(ae),t(Q,null,{default:a(()=>[m(B(840),cs,[m("div",us,[F[B(962)]?(f(),z(B(840),ds,[m("div",{innerHTML:b(F[B(962)])},null,8,ms)])):(f(),z(B(840),ps,[t(L,{icon:B(846),size:"48",color:B(996)})])),m("div",fs,[t(G,{color:"primary",variant:B(339),size:B(532),"prepend-icon":B(367)},{default:a(()=>[k(B(395))]),_:1})])])]),F[B(757)]?(f(),z("div",ys,[hs,t(Z,{size:"x-small",color:"primary",class:"ms-1"},{default:a(()=>[k(w(F[B(757)]),1)]),_:2},1024)])):O("",!0),m(B(840),vs,[m(B(840),_s,[t(L,{size:"16",icon:B(661),class:B(406)}),m(B(310),gs,w($(F[B(512)])),1)])])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)}),128))]),_:1})),V.value?(f(),R(ss,{key:3,modelValue:x.value,"onUpdate:modelValue":C[1]||(C[1]=F=>x[_(370)]=F),mockup:V[_(370)],onDelete:C[2]||(C[2]=F=>v.value=!0),"is-admin":U(I),"has-manager-permission":U(H)},null,8,[_(205),_(262),_(489),_(805)])):O("",!0),t(g,{isDialogVisible:v[_(370)],"onUpdate:isDialogVisible":C[3]||(C[3]=F=>v[_(370)]=F),confirmationMsg:_(525),onConfirm:q},null,8,[_(308)]),t(Ve,{modelValue:Y[_(370)].show,"onUpdate:modelValue":C[5]||(C[5]=F=>Y[_(370)][_(541)]=F),color:Y[_(370)].color,timeout:5e3},{actions:a(()=>[t(se,{onClick:C[4]||(C[4]=F=>Y[_(370)][_(541)]=!1)},{default:a(()=>[t(L,{icon:_(281)})]),_:1})]),default:a(()=>[k(w(Y[_(370)][_(457)])+" ",1)]),_:1},8,[_(205),"color"])]),_:1})}}},[["__scopeId",l(995)]]),Pt=Ne({id:"DevelopmentPlanStore",state:()=>({plans:[],currentPlan:null,loading:!1,error:null}),actions:{async fetchDevelopmentPlans(r=null){const o=l;this[o(993)]=!0;try{let e="/service/development-plans/";r&&(e+=o(913)+r);const u=await W[o(672)](e);return u.status===200?(this[o(611)]=u[o(410)],{data:u[o(410)],error:null}):{data:[],error:u.data}}catch(e){return this[o(669)]=e.message||o(298),{data:[],error:this.error}}finally{this[o(993)]=!1}},async fetchDevelopmentPlanById(r){const o=l;this[o(993)]=!0;try{const e=await W[o(672)](o(467)+r+"/");return e[o(789)]===200?(this.currentPlan=e[o(410)],{data:e[o(410)],error:null}):{data:null,error:e[o(410)]}}catch(e){return this[o(669)]=e[o(658)]||o(373),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async createDevelopmentPlan(r){const o=l;this[o(993)]=!0;try{const e=await W[o(550)](o(467),{project:r,status:o(897)});return e[o(789)]===201?{data:e.data,error:null}:{data:null,error:e.data}}catch(e){return this.error=e.message||o(705),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async updateDevelopmentPlan(r,o){const e=l;this.loading=!0;try{const u=await W[e(297)](e(467)+r+"/",o);return u.status===200?(this.currentPlan&&this[e(514)].id===r&&(this[e(514)]=u.data),{data:u[e(410)],error:null}):{data:null,error:u[e(410)]}}catch(u){return this.error=u.message||e(836),{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}},async createPlanVersion(r,o){const e=l;this[e(993)]=!0;try{const u=await W[e(550)]("/service/development-plans/"+r+"/new_version/",o);return u.status===201?{data:u[e(410)],error:null}:{data:null,error:u[e(410)]}}catch(u){return this[e(669)]=u[e(658)]||"Failed to create plan version",{data:null,error:this.error}}finally{this[e(993)]=!1}},async fetchPlanVersionById(r){const o=l;this[o(993)]=!0;try{const e=await W.get(o(817)+r+"/");return e.status===200?{data:e[o(410)],error:null}:{data:null,error:e.data}}catch(e){return this[o(669)]=e[o(658)]||o(567),{data:null,error:this[o(669)]}}finally{this[o(993)]=!1}},async updatePlanVersion(r,o){const e=l;this.loading=!0;try{const u=await W.put(e(817)+r+"/",o);return u[e(789)]===200?{data:u[e(410)],error:null}:{data:null,error:u[e(410)]}}catch(u){return this[e(669)]=u.message||e(301),{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}},async setCurrentPlanVersion(r,o){const e=l;this.loading=!0;try{const u=await this[e(447)](r);if(!u.data)return{data:null,error:e(633)};const j=await this[e(256)](o);return j[e(410)]?await this[e(334)](r,{current_version_number:j.data.version_number,status:u[e(410)][e(789)]}):{data:null,error:e(335)}}catch(u){return this[e(669)]=u[e(658)]||e(443),{data:null,error:this[e(669)]}}finally{this[e(993)]=!1}}}}),Ye=r=>(Ue(l(274)),r=r(),De(),r),ks={key:0,class:l(394)},ws={key:1,class:l(394)},xs={key:0},Vs=Ye(()=>m("p",{class:l(749)},l(931),-1)),Cs={key:1},Us={class:l(470)},Ds={class:l(952)},Ss={class:l(952)},qs={class:l(445)},zs={key:0,class:l(942)},js={class:"text-h4 font-weight-bold"},Fs=Ye(()=>m(l(840),{class:l(534)},l(914),-1)),Ms=Ye(()=>m(l(819),null,[m("tr",null,[m("th",null,"Role"),m("th",{class:"text-right"},l(285)),m("th",{class:l(220)},l(834))])],-1)),Is={class:l(220)},Ps={class:"text-right"},Rs={key:0},Bs=[Ye(()=>m("td",{colspan:"3",class:l(340)},l(337),-1))],Ls={class:l(684)},As=Ce({__name:l(254),props:{modelValue:{type:Boolean,default:!1},version:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},planId:{type:String,default:null}},emits:["update:modelValue",l(228)],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:D=>o(e(837),D)}),M=Pt(),P=T(!1),V=T({...u[e(874)]}),x=T(!1),v=T({show:!1,text:"",color:e(989)}),E=D=>{const b=e;return D?new Date(parseInt(D)).toLocaleDateString(b(795),{year:b(702),month:b(386),day:"numeric",hour:b(454),minute:"2-digit"}):""},Y=D=>{const b=e;return D||D===0?new Intl.NumberFormat(b(795),{style:b(354),currency:"USD",minimumFractionDigits:2})[b(718)](D):"-"},I=()=>{const D=e;P.value&&(V[D(370)]={...u[D(874)]}),P[D(370)]=!P[D(370)]},H=async()=>{const D=e;x[D(370)]=!0;try{const{data:b,error:c}=await M.updatePlanVersion(u[D(874)].id,V[D(370)]);b&&!c?(q("Plan version updated successfully"),Object[D(304)](u[D(874)],b),P.value=!1,o(D(228))):q(D(301),"error")}catch(b){q(D(670)+b[D(658)],"error")}finally{x[D(370)]=!1}},S=async()=>{const D=e;if(u.planId){x.value=!0;try{const{data:b,error:c}=await M[D(207)](u[D(769)],u[D(874)].id);b&&!c?(q(D(676)),o(D(228))):q(D(414),D(669))}catch(b){q(D(529)+b[D(658)],D(669))}finally{x[D(370)]=!1}}},$=D=>{const b=e;if(!D)return[];try{return typeof D=="string"?JSON[b(833)](D):D}catch(c){return console[b(669)]("Error parsing roles and hours:",c),[]}},q=(D,b=e(989))=>{v[e(370)]={show:!0,text:D,color:b}};return je(()=>u[e(874)],D=>{V[e(370)]={...D}},{deep:!0}),(D,b)=>{const c=e,C=he(c(781));return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":b[7]||(b[7]=_=>Ie(j)?j[c(370)]=_:null),"max-width":c(350),scrollable:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:c(252)},{default:a(()=>[P[c(370)]?(f(),z("h5",ks,"Edit Plan Version")):(f(),z("h5",ws,[k(c(951)+w(r[c(874)][c(936)])+" ",1),r[c(739)]?(f(),R(Z,{key:0,color:c(218),size:c(532),label:"",class:c(937)},{default:a(()=>[k(c(902))]),_:1})):O("",!0)])),t(ee),t(C,{onClick:b[0]||(b[0]=_=>j[c(370)]=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),_:1}),t(ae),t(Q,{class:c(750)},{default:a(()=>[P[c(370)]?(f(),z(c(840),xs,[t(Pe,{onSubmit:Se(H,["prevent"])},{default:a(()=>[t(oe,{class:c(577)},{default:a(()=>[t(J,{cols:"12",md:"4"},{default:a(()=>[t(ue,{modelValue:V[c(370)].estimated_cost,"onUpdate:modelValue":b[1]||(b[1]=_=>V.value[c(481)]=_),modelModifiers:{number:!0},label:c(659),type:c(614),required:"",rules:[_=>!!_||c(482)]},null,8,[c(205),"rules"])]),_:1}),t(J,{cols:"12",md:"4"},{default:a(()=>[t(pe,{modelValue:V[c(370)][c(789)],"onUpdate:modelValue":b[2]||(b[2]=_=>V.value[c(789)]=_),label:c(221),items:[{title:c(760),value:c(897)},{title:c(940),value:c(485)},{title:c(422),value:c(420)},{title:c(233),value:"completed"}],required:""},null,8,[c(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:V[c(370)][c(728)],"onUpdate:modelValue":b[3]||(b[3]=_=>V[c(370)][c(728)]=_),label:c(878),rows:"4"},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:a(()=>[Vs,t(we,{modelValue:V[c(370)].roles_and_hours,"onUpdate:modelValue":b[4]||(b[4]=_=>V[c(370)][c(411)]=_),label:c(645),rows:"8",monospace:"",hint:c(272),"persistent-hint":""},null,8,[c(205)])]),_:1})]),_:1})]),_:1},8,[c(969)])])):(f(),z(c(840),Cs,[t(oe,{class:c(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[m(c(840),Us,[m(c(840),Ds,[t(Z,{color:U(ke)(r.version[c(789)]),size:c(532),label:""},{default:a(()=>[k(w(Oe(r.version[c(789)])),1)]),_:1},8,[c(351)])]),m("div",Ss,[m("span",qs," Created: "+w(E(r[c(874)][c(512)])),1),r[c(874)][c(521)]?(f(),z(c(310),zs," Created by: "+w(r[c(874)].created_by[c(355)]),1)):O("",!0)]),m(c(840),null,[m("h4",js,w(Y(r[c(874)].estimated_cost)),1),Fs])])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(le,{variant:c(430),class:"mb-4"},{default:a(()=>[t(ne,null,{default:a(()=>[k(c(292))]),_:1}),t(Q,null,{default:a(()=>[t(st,null,{default:a(()=>[Ms,m(c(678),null,[(f(!0),z(te,null,ie($(r[c(874)][c(411)]),(_,g)=>{const se=c;return f(),z("tr",{key:g},[m("td",null,w(_[se(278)]),1),m("td",Is,w(_[se(356)]),1),m("td",Ps,w(Y(_.cost)),1)])}),128)),$(r[c(874)][c(411)])[c(342)]===0?(f(),z("tr",Rs,Bs)):O("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),r[c(874)][c(728)]?(f(),R(J,{key:0,cols:"12"},{default:a(()=>[t(le,{variant:"outlined"},{default:a(()=>[t(ne,null,{default:a(()=>[k("Notes")]),_:1}),t(Q,null,{default:a(()=>[m("div",Ls,w(r.version.notes),1)]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]))]),_:1}),t(ae),t(de,{class:c(657)},{default:a(()=>[P[c(370)]?(f(),z(te,{key:0},[t(G,{color:c(996),variant:c(526),onClick:I,disabled:x.value},{default:a(()=>[k(" Cancel ")]),_:1},8,[c(715)]),t(ee),t(G,{color:"primary",onClick:H,loading:x[c(370)]},{default:a(()=>[k(c(867))]),_:1},8,["loading"])],64)):(f(),z(te,{key:1},[!r[c(739)]&&r[c(758)]?(f(),R(G,{key:0,color:c(218),variant:c(526),onClick:S,loading:x[c(370)],"prepend-icon":c(958)},{default:a(()=>[k(c(458))]),_:1},8,["loading"])):O("",!0),t(ee),r[c(758)]?(f(),R(G,{key:1,color:c(218),"prepend-icon":"tabler-edit",onClick:I},{default:a(()=>[k(c(731))]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(Ve,{modelValue:v.value.show,"onUpdate:modelValue":b[6]||(b[6]=_=>v[c(370)][c(541)]=_),color:v[c(370)][c(351)],timeout:5e3},{actions:a(()=>[t(C,{onClick:b[5]||(b[5]=_=>v[c(370)][c(541)]=!1)},{default:a(()=>[t(L,{icon:c(281)})]),_:1})]),default:a(()=>[k(w(v[c(370)].text)+" ",1)]),_:1},8,[c(205),c(351)])]),_:1},8,[c(205)])}}},[[l(975),l(274)]]),Ts=m("h5",{class:l(394)},l(605),-1),Ns={class:l(782)},Os={__name:"PlanVersionCreateDialog",props:{modelValue:{type:Boolean,default:!1},planId:{type:String,required:!0},currentVersionNumber:{type:Number,default:0}},emits:["update:modelValue","submit"],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:I=>o(e(837),I)}),M=T({roles_and_hours:e(763),estimated_cost:1e4,notes:"",status:e(897)}),P=[I=>!!I||"Estimated cost is required",I=>!isNaN(parseFloat(I))||e(459)],V=[I=>{const H=e;try{return JSON[H(833)](I),!0}catch{return H(998)}}],x=T(null),v=()=>{const I=e;M.value={roles_and_hours:'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',estimated_cost:1e4,notes:"",status:I(897)},x[I(370)]&&x[I(370)][I(831)]()},E=()=>{j[e(370)]=!1,v()},Y=async()=>{const I=e,{valid:H}=await x[I(370)][I(495)]();if(H){const S={...M[I(370)]};S[I(481)]=parseFloat(S.estimated_cost),o(I(352),S),j[I(370)]=!1,v()}};return je(j,I=>{I||v()}),(I,H)=>{const S=e,$=he("IconBtn");return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":H[4]||(H[4]=q=>Ie(j)?j.value=q:null),"max-width":S(740),persistent:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:"d-flex pt-5 px-5"},{default:a(()=>[Ts,t(ee),t($,{onClick:E},{default:a(()=>[t(L,{icon:S(281)})]),_:1})]),_:1}),t(Q,{class:S(752)},{default:a(()=>[m("p",Ns," Creating version "+w(r[S(848)]+1)+S(349),1),t(Pe,{ref_key:S(1003),ref:x,onSubmit:Se(Y,[S(444)])},{default:a(()=>[t(oe,{class:S(577)},{default:a(()=>[t(J,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:M[S(370)][S(481)],"onUpdate:modelValue":H[0]||(H[0]=q=>M[S(370)][S(481)]=q),modelModifiers:{number:!0},label:"Estimated Cost ($)",type:S(614),rules:P,required:""},null,8,[S(205)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:M[S(370)].status,"onUpdate:modelValue":H[1]||(H[1]=q=>M[S(370)][S(789)]=q),label:"Status",items:[{title:S(760),value:"draft"},{title:S(940),value:"active"},{title:S(422),value:"archived"},{title:S(233),value:S(961)}],required:""},null,8,[S(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:M[S(370)][S(411)],"onUpdate:modelValue":H[2]||(H[2]=q=>M[S(370)][S(411)]=q),label:S(645),rules:V,rows:"6",monospace:"",hint:S(272),"persistent-hint":""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:M.value[S(728)],"onUpdate:modelValue":H[3]||(H[3]=q=>M.value[S(728)]=q),label:S(878),rows:"4"},null,8,[S(205)])]),_:1})]),_:1})]),_:1},8,[S(969)])]),_:1}),t(ae),t(de,{class:S(657)},{default:a(()=>[t(G,{variant:S(526),color:S(996),onClick:E},{default:a(()=>[k(S(879))]),_:1}),t(ee),t(G,{color:"primary",onClick:Y},{default:a(()=>[k(" Create Version ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Es={key:0,class:l(886),style:{height:l(294)}},Hs={key:1,class:"text-center pa-6"},Gs=m("h4",{class:l(762)},l(232),-1),Js=m("p",{class:"text-body-1 text-medium-emphasis mb-6"},l(923),-1),$s={key:2},Xs={class:l(778)},Ys=m(l(840),{class:l(762)},l(551),-1),Ks={class:l(552)},Qs={class:l(330)},Zs=m("div",{class:l(668)},l(292),-1),Ws=m("thead",null,[m("tr",null,[m("th",null,"Role"),m("th",{class:"text-right"},l(285)),m("th",{class:l(220)},l(834))])],-1),er={class:"text-right"},tr={class:l(220)},ar={class:l(646)},lr=m("h5",{class:l(394)},"Version History",-1),sr=m(l(819),null,[m("tr",null,[m("th",null,l(929)),m("th",null,"Created"),m("th",null,l(221)),m("th",{class:l(220)},l(551)),m("th",{class:"text-right"},l(808))])],-1),rr=[l(265)],or={class:l(952)},nr={class:l(507)},ir={class:l(220)},cr={class:l(220)},ur={key:1,class:l(642)},dr=[m("p",{class:l(882)}," Only one version available. Create more versions to see the history. ",-1)],mr={key:2,class:l(642)},pr=[m("p",{class:l(882)},l(520),-1)],fr={__name:l(249),props:{projectId:{type:String,required:!0},developmentPlan:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:[l(228)],setup(r,{emit:o}){const e=l,u=r,j=Pt(),M=Be(),P=T(null),V=T(!1),x=T(!1),v=T(!1),E=T({show:!1,text:"",color:e(989)}),Y=K(()=>M[e(714)]()),I=K(()=>M[e(500)].role>=2),H=K(()=>{const F=e;return u.developmentPlan&&u[F(779)].id}),S=K(()=>{const F=e;return H[F(370)]&&u[F(779)].versions?[...u[F(779)][F(452)]][F(543)]((B,y)=>y[F(936)]-B.version_number):[]}),$=K(()=>{const F=e;return H.value?S[F(370)][F(772)](B=>B[F(936)]===u[F(779)][F(921)]):null}),q=F=>{const B=e;return F?new Date(parseInt(F)).toLocaleDateString(B(795),{year:B(702),month:"short",day:"numeric"}):""},D=F=>{const B=e;return F||F===0?new Intl[B(881)](B(795),{style:B(354),currency:B(888),minimumFractionDigits:2})[B(718)](F):"-"},b=F=>{const B=e;P[B(370)]=F,V[B(370)]=!0},c=()=>{x.value=!0},C=async F=>{const B=e;v.value=!0;try{const{data:y,error:p}=await j[B(225)](u.developmentPlan.id,F);y&&!p?(g(B(727)),o(B(228))):g(B(713),B(669))}catch(y){g(B(986)+y[B(658)],B(669))}finally{v[B(370)]=!1,x[B(370)]=!1}},_=async()=>{const F=e;v[F(370)]=!0;try{const{data:B,error:y}=await j[F(719)](u[F(959)]);B&&!y?(g(F(392)),o("refresh")):g(F(705),F(669))}catch(B){g(F(845)+B[F(658)],F(669))}finally{v.value=!1}},g=(F,B=e(989))=>{E[e(370)]={show:!0,text:F,color:B}},se=F=>{const B=e;if(!F)return[];try{return typeof F===B(1005)?JSON[B(833)](F):F}catch(y){return console[B(669)](B(357),y),[]}};return(F,B)=>{const y=e,p=he(y(781));return f(),R(Q,{class:y(750)},{default:a(()=>[r.loading?(f(),z(y(840),Es,[t(Me,{indeterminate:"",color:y(218)})])):U(H)?(f(),z(y(840),$s,[t(oe,null,{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(le,{border:"",class:y(368)},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(Fe,{color:"primary",variant:"tonal",rounded:"",size:"42"},{default:a(()=>[t(L,{icon:y(984)})]),_:1})]),append:a(()=>[t(Z,{color:"primary",size:y(532),label:"",class:y(906)},{default:a(()=>[k(" v"+w(r[y(779)][y(921)]),1)]),_:1}),t(Z,{color:r[y(779)][y(789)]===y(485)?y(989):y(974),size:"small",label:""},{default:a(()=>[k(w(r[y(779)][y(789)]),1)]),_:1},8,[y(351)])]),default:a(()=>[t(ne,null,{default:a(()=>[k("Current Development Plan")]),_:1})]),_:1}),t(ae),U($)?(f(),R(Q,{key:0},{default:a(()=>[t(oe,null,{default:a(()=>[t(J,{cols:"12",md:"4"},{default:a(()=>[m(y(840),Xs,[Ys,m(y(840),Ks,w(D(U($).estimated_cost)),1),m(y(840),Qs,y(593)+w(q(U($)[y(512)])),1)])]),_:1}),t(J,{cols:"12",md:"8"},{default:a(()=>[Zs,t(st,{density:"compact"},{default:a(()=>[Ws,m(y(678),null,[(f(!0),z(te,null,ie(se(U($)[y(411)]),(s,n)=>{const h=y;return f(),z("tr",{key:n},[m("td",null,w(s.role),1),m("td",er,w(s[h(356)]),1),m("td",tr,w(D(s[h(756)])),1)])}),128))])]),_:1}),t(G,{color:y(218),variant:y(526),class:y(720),size:y(532),onClick:B[0]||(B[0]=s=>b(U($)))},{default:a(()=>[k(y(698))]),_:1})]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]),_:1}),t(J,{cols:"12"},{default:a(()=>[m(y(840),ar,[lr,U(I)?(f(),R(G,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:c,disabled:v.value},{default:a(()=>[k(y(576))]),_:1},8,["disabled"])):O("",!0)]),U(S)[y(342)]>1?(f(),R(st,{key:0},{default:a(()=>[sr,m("tbody",null,[(f(!0),z(te,null,ie(U(S),s=>{const n=y;return f(),z("tr",{key:s.id,class:ot({"bg-primary-lighten-5":s[n(936)]===r[n(779)][n(921)]}),style:{cursor:n(775)},onClick:h=>b(s)},[m("td",null,[m(n(840),or,[m(n(310),nr,"v"+w(s[n(936)]),1),s[n(936)]===r[n(779)][n(921)]?(f(),R(Z,{key:0,color:n(218),size:n(802),label:"",class:n(937)},{default:a(()=>[k(n(902))]),_:1})):O("",!0)])]),m("td",null,w(q(s[n(512)])),1),m("td",null,[t(Z,{color:s[n(789)]===n(485)?n(989):n(974),size:n(532),label:""},{default:a(()=>[k(w(s[n(789)]),1)]),_:2},1032,["color"])]),m("td",ir,w(D(s[n(481)])),1),m("td",cr,[t(G,{icon:"",variant:"text",size:n(532),color:n(218),onClick:Se(h=>b(s),[n(587)])},{default:a(()=>[t(L,{icon:n(367)})]),_:2},1032,[n(265)])])],10,rr)}),128))])]),_:1})):U(S)[y(342)]===1?(f(),z(y(840),ur,dr)):(f(),z(y(840),mr,pr))]),_:1})]),_:1})])):(f(),z(y(840),Hs,[t(L,{icon:"tabler-calendar-time",size:"64",color:y(996),class:y(368)}),Gs,Js,U(I)?(f(),R(G,{key:0,color:y(218),onClick:_,loading:v.value},{default:a(()=>[k(y(421))]),_:1},8,[y(993)])):O("",!0)])),P[y(370)]?(f(),R(As,{key:3,modelValue:V[y(370)],"onUpdate:modelValue":B[1]||(B[1]=s=>V[y(370)]=s),version:P[y(370)],"is-current":P[y(370)]&&r.developmentPlan&&P.value[y(936)]===r[y(779)].current_version_number,"is-admin":U(Y),"has-manager-permission":U(I),"plan-id":r[y(779)]?r[y(779)].id:null,onRefresh:B[2]||(B[2]=s=>o("refresh"))},null,8,[y(205),y(874),y(537),y(489),y(805),y(597)])):O("",!0),t(Os,{modelValue:x[y(370)],"onUpdate:modelValue":B[3]||(B[3]=s=>x[y(370)]=s),"plan-id":r[y(779)]?r[y(779)].id:null,"current-version-number":r[y(779)]?r.developmentPlan.current_version_number:0,onSubmit:C},null,8,[y(205),"plan-id",y(626)]),t(Ve,{modelValue:E[y(370)][y(541)],"onUpdate:modelValue":B[5]||(B[5]=s=>E[y(370)].show=s),color:E[y(370)][y(351)],timeout:5e3},{actions:a(()=>[t(p,{onClick:B[4]||(B[4]=s=>E[y(370)][y(541)]=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:a(()=>[k(w(E[y(370)].text)+" ",1)]),_:1},8,[y(205),y(351)])]),_:1})}}},ye=r=>(Ue(l(893)),r=r(),De(),r),yr={key:0,class:l(394)},hr={key:1,class:l(394)},vr={key:0},_r={class:l(316)},gr=ye(()=>m(l(840),{class:"text-subtitle-1 font-weight-medium"},l(765),-1)),br={key:1,class:l(694)},kr={key:1},wr={class:l(596)},xr={class:l(387)},Vr={class:l(504)},Cr={class:"text-caption"},Ur={class:"user-story-format mb-6"},Dr={class:l(490)},Sr=ye(()=>m(l(310),{class:l(856)},l(402),-1)),qr={class:l(490)},zr=ye(()=>m(l(310),{class:l(856)},"I want to",-1)),jr={class:l(490)},Fr=ye(()=>m("span",{class:l(856)},l(842),-1)),Mr={key:0},Ir=ye(()=>m(l(840),{class:l(668)},l(765),-1)),Pr={key:1,class:"text-medium-emphasis text-center pa-4"},Rr={key:2,class:"mt-6"},Br=ye(()=>m("p",null,"This user story is currently being regenerated. Please check back shortly.",-1)),Lr={key:0,class:l(869)},Ar=ye(()=>m("h4",{class:"text-h6 mb-2"},l(650),-1)),Tr=ye(()=>m("p",{class:l(882)},l(1009),-1)),Nr={key:1},Or={class:l(445)},Er={class:"text-caption text-medium-emphasis"},Hr=ye(()=>m(l(310),{class:"text-primary"},l(402),-1)),Gr={class:"mb-2"},Jr=ye(()=>m(l(310),{class:l(856)},"I want to",-1)),$r={class:l(368)},Xr=ye(()=>m(l(310),{class:l(856)},l(842),-1)),Yr={key:0},Kr=ye(()=>m(l(840),{class:l(391)},"Acceptance Criteria:",-1)),Qr={class:"ms-3"},Zr={class:l(479)},Wr={class:l(565)},eo={key:1,class:l(869)},to=ye(()=>m("h4",{class:l(762)},l(271),-1)),ao=ye(()=>m("p",{class:l(882)},l(329),-1)),lo={key:2},so={class:l(952)},ro={class:l(952)},oo={class:l(877)},no={class:l(230)},io=ye(()=>m("p",{class:"text-body-1 mb-3"},l(404),-1)),co=Ce({__name:"UserStoryDetailsDialog",props:{modelValue:{type:Boolean,default:!1},userStory:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:["update:modelValue",l(604),"delete",l(883)],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:p=>o("update:modelValue",p)}),M=mt(),P=T(0),V=T(!1),x=T({...u[e(934)]}),v=T(""),E=T(""),Y=T(""),I=T(!1),H=T(!1),S=T({show:!1,text:"",color:e(989)}),$=[{title:"Draft",value:e(897)},{title:e(940),value:"active"},{title:e(422),value:"archived"},{title:"Completed",value:e(961)}],q=K(()=>u[e(934)].history||[]),D=K(()=>{const p=e;return u.userStory[p(309)]||[]}),b=p=>{const s=e;return p?(p=parseInt(p),new Date(p)[s(583)](s(795),{year:s(702),month:s(386),day:"numeric",hour:s(454),minute:s(454)})):""},c=()=>{const p=e;V[p(370)]&&(x[p(370)]={...u[p(934)]},v[p(370)]=""),V[p(370)]=!V[p(370)]},C=()=>{const p=e;v[p(370)][p(825)]()&&(!x[p(370)][p(438)]&&(x.value[p(438)]=[]),x.value.acceptance_criteria[p(621)](v[p(370)][p(825)]()),v[p(370)]="")},_=()=>{o("update",x[e(370)]),V.value=!1},g=()=>{o(e(858))},se=()=>{const p=e;Y[p(370)]="",I[p(370)]=!0},F=()=>{const p=e;o(p(883),Y[p(370)]),I[p(370)]=!1},B=async()=>{const p=e;if(E[p(370)].trim()){H.value=!0;try{const{data:s,error:n}=await M[p(564)](u[p(934)].id,{text:E[p(370)],status:"active"});if(s&&!n){y(p(398)),E[p(370)]="";const{data:h}=await M[p(585)](u[p(934)].id);h&&Object[p(304)](u[p(934)],h)}else y(p(283),"error")}catch(s){y(p(925)+s[p(658)],p(669))}finally{H[p(370)]=!1}}},y=(p,s=e(989))=>{S[e(370)]={show:!0,text:p,color:s}};return je(()=>u[e(934)],p=>{x.value={...p}},{deep:!0}),(p,s)=>{const n=e,h=he(n(781));return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":s[14]||(s[14]=d=>Ie(j)?j[n(370)]=d:null),"max-width":n(350),scrollable:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:n(729)},{default:a(()=>[V[n(370)]?(f(),z("h5",yr,n(777))):(f(),z("h5",hr,n(321))),t(ee),t(h,{onClick:s[0]||(s[0]=d=>j[n(370)]=!1)},{default:a(()=>[t(L,{icon:n(281)})]),_:1})]),_:1}),t(Q,{class:n(574)},{default:a(()=>[t(it,{modelValue:P.value,"onUpdate:modelValue":s[1]||(s[1]=d=>P[n(370)]=d),"slider-color":n(218),"align-tabs":"start"},{default:a(()=>[t(_e,{value:"0"},{default:a(()=>[t(L,{size:"18",icon:n(572),start:""}),k(" Details ")]),_:1}),t(_e,{value:"1"},{default:a(()=>[t(L,{size:"18",icon:n(947),start:""}),k(n(963)),U(q)[n(342)]?(f(),R(Z,{key:0,size:n(802),color:n(218),class:"ms-2"},{default:a(()=>[k(w(U(q)[n(342)]),1)]),_:1})):O("",!0)]),_:1}),t(_e,{value:"2"},{default:a(()=>[t(L,{size:"18",icon:n(462),start:""}),k(n(811)),U(D)[n(342)]?(f(),R(Z,{key:0,size:n(802),color:n(218),class:n(937)},{default:a(()=>[k(w(U(D).length),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,[n(205)])]),_:1}),t(ae),t(Q,{class:"pa-6",style:{"min-height":n(531),"max-height":"70vh"}},{default:a(()=>[t(ut,{modelValue:P[n(370)],"onUpdate:modelValue":s[8]||(s[8]=d=>P[n(370)]=d),class:n(1006)},{default:a(()=>[t(ge,{value:"0"},{default:a(()=>[V[n(370)]?(f(),z(n(840),vr,[t(Pe,{onSubmit:Se(_,["prevent"])},{default:a(()=>[t(oe,{class:n(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:x[n(370)][n(278)],"onUpdate:modelValue":s[2]||(s[2]=d=>x[n(370)][n(278)]=d),label:n(214),required:"",rules:[d=>!!d||n(450)]},null,8,[n(205),n(601)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:x[n(370)][n(1004)],"onUpdate:modelValue":s[3]||(s[3]=d=>x[n(370)][n(1004)]=d),label:n(938),required:"",rules:[d=>!!d||n(555)]},null,8,[n(205),n(601)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:x.value.benefit,"onUpdate:modelValue":s[4]||(s[4]=d=>x[n(370)][n(425)]=d),label:n(796),required:"",rules:[d=>!!d||"Benefit is required"]},null,8,["modelValue",n(601)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:x[n(370)][n(789)],"onUpdate:modelValue":s[5]||(s[5]=d=>x[n(370)][n(789)]=d),label:n(221),items:$,required:""},null,8,[n(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[m(n(840),_r,[gr,t(oe,{class:n(949)},{default:a(()=>[t(J,{cols:"10",sm:"8"},{default:a(()=>[t(ue,{modelValue:v[n(370)],"onUpdate:modelValue":s[6]||(s[6]=d=>v[n(370)]=d),placeholder:n(691),density:n(973),"hide-details":"",class:"me-2",onKeyup:Ct(C,[n(932)])},null,8,[n(205),"onKeyup"])]),_:1}),t(J,{cols:"2",sm:"4"},{default:a(()=>[t(G,{color:"primary",size:n(532),disabled:!v[n(370)][n(825)](),onClick:C},{default:a(()=>[k(n(399))]),_:1},8,[n(715)])]),_:1})]),_:1})]),x[n(370)][n(438)]&&x[n(370)].acceptance_criteria[n(342)]>0?(f(),R(tt,{key:0},{default:a(()=>[(f(!0),z(te,null,ie(x[n(370)][n(438)],(d,i)=>{const A=n;return f(),R(at,{key:i},{prepend:a(()=>[t(L,{icon:A(958),color:A(989)})]),append:a(()=>[t(h,{color:A(669),variant:A(457),size:A(532),onClick:X=>(N=>{const re=e;x.value[re(438)][re(852)](N,1)})(i)},{default:a(()=>[t(L,{icon:A(455),size:"18"})]),_:2},1032,[A(265)])]),default:a(()=>[t(lt,null,{default:a(()=>[k(w(d),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(f(),z(n(840),br," No acceptance criteria added yet "))]),_:1})]),_:1})]),_:1},8,["onSubmit"])])):(f(),z("div",kr,[m(n(840),wr,[t(Z,{color:U(ke)(r[n(934)][n(789)]),size:n(532),label:"",class:n(906)},{default:a(()=>[k(w(Oe(r.userStory[n(789)])),1)]),_:1},8,[n(351)]),t(Z,{color:n(996),size:n(532),label:"",class:"ms-2"},{default:a(()=>[k(" v"+w(r[n(934)].version_number),1)]),_:1}),t(ee),m("div",xr,[t(L,{size:"18",icon:n(661),class:n(406)}),m(n(310),Vr,n(780)+w(b(r[n(934)].updated_at)),1),t(L,{size:"18",icon:n(378),class:n(406)}),m("span",Cr,n(515)+w(b(r.userStory[n(512)])),1)])]),m(n(840),Ur,[m(n(840),Dr,[Sr,k(" "+w(r.userStory[n(278)])+", ",1)]),m(n(840),qr,[zr,k(" "+w(r[n(934)][n(1004)])+", ",1)]),m(n(840),jr,[Fr,k(" "+w(r[n(934)][n(425)])+". ",1)])]),t(ae,{class:"mb-4"}),r[n(934)].acceptance_criteria&&r[n(934)][n(438)][n(342)]>0?(f(),z(n(840),Mr,[Ir,t(tt,null,{default:a(()=>[(f(!0),z(te,null,ie(r.userStory[n(438)],(d,i)=>{const A=n;return f(),R(at,{key:i,class:A(774)},{prepend:a(()=>[t(L,{icon:A(958),color:A(989),class:A(906)})]),default:a(()=>[t(lt,null,{default:a(()=>[k(w(d),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})])):(f(),z(n(840),Pr," No acceptance criteria defined for this user story. ")),r[n(934)][n(865)]===n(908)?(f(),z(n(840),Rr,[t(ct,{color:n(606),variant:n(526),icon:n(725)},{default:a(()=>[t(St,null,{default:a(()=>[k(n(639))]),_:1}),Br]),_:1})])):O("",!0)]))]),_:1}),t(ge,{value:"1"},{default:a(()=>[U(q).length===0?(f(),z(n(840),Lr,[t(L,{icon:"tabler-history",size:"64",color:n(996),class:"mb-3"}),Ar,Tr])):(f(),z(n(840),Nr,[t(qt,{density:"compact",align:n(518)},{default:a(()=>[(f(!0),z(te,null,ie(U(q),(d,i)=>{const A=n;return f(),R(zt,{key:i,"dot-color":A(218),size:A(532)},{opposite:a(()=>[m(A(840),Or,w(b(d[A(487)])),1),m("div",Er,"v"+w(d[A(936)]),1)]),default:a(()=>[t(le,{border:""},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(Fe,{color:"primary",variant:"tonal",size:"36"},{default:a(()=>[t(L,{icon:A(572)})]),_:1})]),append:a(()=>[t(Z,{color:U(ke)(d[A(789)]),size:"small",label:"",class:A(937)},{default:a(()=>[k(w(d[A(789)]),1)]),_:2},1032,[A(351)])]),default:a(()=>[t(ne,null,{default:a(()=>[Hr,k(" "+w(d[A(278)]),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:a(()=>[m("p",Gr,[Jr,k(" "+w(d[A(1004)]),1)]),m("p",$r,[Xr,k(" "+w(d.benefit),1)]),d[A(438)]&&d[A(438)][A(342)]>0?(f(),z(A(840),Yr,[Kr,m("ul",Qr,[(f(!0),z(te,null,ie(d[A(438)],(X,N)=>(f(),z("li",{key:N},w(X),1))),128))])])):O("",!0),m("div",Zr,A(629)+w(d[A(946)]?d[A(946)][A(355)]:A(892)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(ge,{value:"2"},{default:a(()=>[t(oe,{class:"mt-3"},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:E.value,"onUpdate:modelValue":s[7]||(s[7]=d=>E.value=d),label:n(239),rows:"3",counter:"",disabled:H[n(370)]},null,8,["modelValue","disabled"]),m("div",Wr,[t(G,{color:"primary",size:n(532),loading:H[n(370)],disabled:!E[n(370)][n(825)](),onClick:B},{default:a(()=>[k(n(884))]),_:1},8,[n(993),"disabled"])])]),_:1}),t(J,{cols:"12"},{default:a(()=>[U(D)[n(342)]?(f(),R(ae,{key:0,class:n(368)})):O("",!0),U(D)[n(342)]===0?(f(),z(n(840),eo,[t(L,{icon:n(462),size:"64",color:n(996),class:n(686)}),to,ao])):(f(),z(n(840),lo,[(f(!0),z(te,null,ie(U(D),d=>{const i=n;return f(),z(i(840),{key:d.id,class:i(440)},[t(le,{border:""},{default:a(()=>[t(Q,{class:i(899)},{default:a(()=>[m(i(840),so,[t(Fe,{color:i(218),variant:"tonal",size:"36",class:"me-3"},{default:a(()=>[t(L,{icon:i(741)})]),_:1}),m(i(840),null,[m(i(840),ro,[m(i(522),null,w(d[i(624)]?d[i(624)][i(355)]:i(610)),1),m(i(840),oo,w(b(d[i(512)])),1)])]),t(ee),r[i(503)]||r.hasManagerPermission?(f(),R(h,{key:0,size:i(532),color:i(669),variant:i(457),onClick:A=>(async X=>{const N=e;H[N(370)]=!0;try{const{success:re,error:ce}=await M[N(868)](X);if(re&&!ce){y(N(561));const{data:be}=await M.fetchUserStoryById(u[N(934)].id);be&&Object[N(304)](u.userStory,be)}else y(N(830),N(669))}catch(re){y(N(709)+re.message,N(669))}finally{H[N(370)]=!1}})(d.id),disabled:H[i(370)]},{default:a(()=>[t(L,{icon:i(455),size:"18"})]),_:2},1032,[i(265),i(715)])):O("",!0)]),m("div",no,w(d[i(457)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[n(205)])]),_:1}),t(ae),t(de,{class:"pa-4"},{default:a(()=>[V[n(370)]?(f(),z(te,{key:0},[t(G,{color:"secondary",variant:"tonal",onClick:c},{default:a(()=>[k(n(879))]),_:1}),t(ee),t(G,{color:"primary",onClick:_},{default:a(()=>[k(n(867))]),_:1})],64)):(f(),z(te,{key:1},[r[n(503)]?(f(),R(G,{key:0,color:n(669),variant:"tonal","prepend-icon":"tabler-trash",onClick:g},{default:a(()=>[k(n(336))]),_:1})):O("",!0),r.hasModeratorPermission?(f(),R(G,{key:1,color:"info",variant:n(526),"prepend-icon":n(725),class:"ms-2",onClick:se},{default:a(()=>[k(n(475))]),_:1})):O("",!0),t(ee),r[n(631)]?(f(),R(G,{key:2,color:"primary","prepend-icon":n(710),onClick:c},{default:a(()=>[k(" Edit ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(xe,{modelValue:I[n(370)],"onUpdate:modelValue":s[11]||(s[11]=d=>I[n(370)]=d),"max-width":"600",persistent:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:n(527)},{default:a(()=>[k(n(616))]),_:1}),t(Q,null,{default:a(()=>[io,t(we,{modelValue:Y[n(370)],"onUpdate:modelValue":s[9]||(s[9]=d=>Y[n(370)]=d),label:n(770),placeholder:n(511),rows:"4",counter:""},null,8,[n(205)])]),_:1}),t(de,null,{default:a(()=>[t(G,{color:n(996),variant:n(526),onClick:s[10]||(s[10]=d=>I[n(370)]=!1)},{default:a(()=>[k(n(879))]),_:1}),t(ee),t(G,{color:n(218),onClick:F},{default:a(()=>[k(" Regenerate ")]),_:1})]),_:1})]),_:1})]),_:1},8,[n(205)]),t(Ve,{modelValue:S[n(370)][n(541)],"onUpdate:modelValue":s[13]||(s[13]=d=>S[n(370)][n(541)]=d),color:S[n(370)][n(351)],timeout:5e3},{actions:a(()=>[t(h,{onClick:s[12]||(s[12]=d=>S[n(370)][n(541)]=!1)},{default:a(()=>[t(L,{icon:n(281)})]),_:1})]),default:a(()=>[k(w(S[n(370)][n(457)])+" ",1)]),_:1},8,["modelValue",n(351)])]),_:1},8,[n(205)])}}},[[l(975),"data-v-5ae692aa"]]),uo={class:"text-h5"},mo=m(l(840),{class:"text-subtitle-1 font-weight-medium"},l(765),-1),po={class:l(498)},fo={key:1,class:l(694)},yo={__name:l(904),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},userStoryData:{type:Object,default:()=>({})}},emits:[l(837),l(352)],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:q=>o("update:modelValue",q)}),M=T({role:u[e(801)]&&u[e(707)]?u[e(707)][e(278)]:"",action:u.editMode&&u[e(707)]?u.userStoryData[e(1004)]:"",benefit:u[e(801)]&&u.userStoryData?u.userStoryData[e(425)]:"",acceptance_criteria:u[e(801)]&&u[e(707)]?[...u[e(707)][e(438)]]:[],status:u[e(801)]&&u[e(707)]?u[e(707)].status:e(897)}),P=T(""),V=T(null),x=[q=>!!q||e(450)],v=[q=>!!q||"Action is required"],E=[q=>!!q||e(313)],Y=[{title:e(760),value:e(897)},{title:"Active",value:e(485)},{title:e(422),value:e(420)},{title:"Completed",value:e(961)}],I=()=>{const q=e;P[q(370)][q(825)]()&&(!M[q(370)].acceptance_criteria&&(M[q(370)][q(438)]=[]),M.value[q(438)][q(621)](P[q(370)][q(825)]()),P[q(370)]="")},H=()=>{const q=e;M[q(370)]={role:"",action:"",benefit:"",acceptance_criteria:[],status:q(897)},P.value="",V.value&&V[q(370)][q(831)]()},S=()=>{j[e(370)]=!1,H()},$=async()=>{const q=e,{valid:D}=await V[q(370)].validate();D&&(o("submit",M[q(370)]),j[q(370)]=!1,H())};return je(j,q=>{q||H()}),(q,D)=>{const b=e,c=he(b(781));return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":D[5]||(D[5]=C=>Ie(j)?j.value=C:null),"max-width":b(740),persistent:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:"d-flex pt-5 px-5"},{default:a(()=>[m("h5",uo,w(u[b(801)]?b(777):"Create New User Story"),1),t(ee),t(c,{onClick:S},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),_:1}),t(Q,{class:b(752)},{default:a(()=>[t(Pe,{ref_key:"formRef",ref:V,onSubmit:Se($,["prevent"])},{default:a(()=>[t(oe,{class:b(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:M[b(370)].role,"onUpdate:modelValue":D[0]||(D[0]=C=>M.value.role=C),label:b(214),rules:x,placeholder:"e.g. registered user, system administrator, customer",required:""},null,8,[b(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:M[b(370)].action,"onUpdate:modelValue":D[1]||(D[1]=C=>M[b(370)][b(1004)]=C),label:b(938),rules:v,placeholder:b(787),required:""},null,8,[b(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:M.value[b(425)],"onUpdate:modelValue":D[2]||(D[2]=C=>M.value[b(425)]=C),label:"Benefit (So that...)",rules:E,placeholder:b(277),required:""},null,8,[b(205)])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:M[b(370)].status,"onUpdate:modelValue":D[3]||(D[3]=C=>M[b(370)][b(789)]=C),label:b(221),items:Y,required:""},null,8,[b(205)])]),_:1}),t(J,{cols:"12"},{default:a(()=>[mo,m(b(840),po,[t(oe,{class:b(949)},{default:a(()=>[t(J,{cols:"10",sm:"8"},{default:a(()=>[t(ue,{modelValue:P.value,"onUpdate:modelValue":D[4]||(D[4]=C=>P.value=C),placeholder:b(691),density:b(973),"hide-details":"",class:b(906),onKeyup:Ct(I,["enter"])},null,8,[b(205),b(956)])]),_:1}),t(J,{cols:"2",sm:"4"},{default:a(()=>[t(G,{color:"primary",size:b(532),disabled:!P[b(370)][b(825)](),onClick:I},{default:a(()=>[k(b(399))]),_:1},8,["disabled"])]),_:1})]),_:1})]),M.value[b(438)]&&M[b(370)].acceptance_criteria[b(342)]>0?(f(),R(tt,{key:0},{default:a(()=>[(f(!0),z(te,null,ie(M[b(370)][b(438)],(C,_)=>{const g=b;return f(),R(at,{key:_},{prepend:a(()=>[t(L,{icon:g(958),color:g(989)})]),append:a(()=>[t(c,{color:"error",variant:"text",size:g(532),onClick:se=>(F=>{const B=e;M[B(370)][B(438)][B(852)](F,1)})(_)},{default:a(()=>[t(L,{icon:g(455),size:"18"})]),_:2},1032,[g(265)])]),default:a(()=>[t(lt,null,{default:a(()=>[k(w(C),1)]),_:2},1024)]),_:2},1024)}),128))]),_:1})):(f(),z("div",fo,b(766)))]),_:1})]),_:1})]),_:1},8,[b(969)])]),_:1}),t(ae),t(de,{class:b(657)},{default:a(()=>[t(G,{variant:"tonal",color:b(996),onClick:S},{default:a(()=>[k(b(879))]),_:1}),t(ee),t(G,{color:b(218),onClick:$},{default:a(()=>[k(w(u.editMode?b(377):b(480))+b(980),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[b(205)])}}},Ke=r=>(Ue(l(403)),r=r(),De(),r),ho={key:0,class:l(886),style:{height:l(294)}},vo={key:1,class:l(642)},_o=Ke(()=>m("h4",{class:"text-h6 mb-2"},l(965),-1)),go={class:l(570)},bo={class:l(595)},ko=Ke(()=>m(l(310),{class:l(303)},l(383),-1)),wo={class:l(261)},xo=Ke(()=>m(l(310),{class:l(303)},l(696),-1)),Vo={key:0},Co=Ke(()=>m(l(840),{class:l(415)},l(424),-1)),Uo={class:l(722)},Do={key:0},So={class:l(660)},qo={class:l(952)},zo={class:l(445)},jo={class:"d-flex align-center"},Fo={class:l(445)},Mo=Ce({__name:"UserStoriesList",props:{projectId:{type:String,required:!0},requirementId:{type:String,required:!1,default:null},userStories:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{emit:o}){const e=l,u=r,j=mt(),M=Be(),P=T(""),V=T(e(797)),x=T(null),v=T(!1),E=T(!1),Y=T(!1),I=T(!1),H=T({show:!1,text:"",color:e(989)}),S=K(()=>M[e(714)]()),$=K(()=>M[e(500)][e(278)]>=2),q=K(()=>M[e(500)][e(278)]>=3),D=[{title:e(371),value:"all"},{title:e(760),value:e(897)},{title:e(940),value:e(485)},{title:e(422),value:e(420)},{title:e(233),value:e(961)}],b=K(()=>{const y=e;return u[y(976)][y(933)](p=>{const s=y,n=!P[s(370)]||p.role[s(243)]()[s(366)](P[s(370)][s(243)]())||p[s(1004)][s(243)]().includes(P.value[s(243)]())||p.benefit[s(243)]()[s(366)](P.value.toLowerCase()),h=V[s(370)]===s(797)||p.status===V[s(370)];return n&&h})}),c=()=>{E[e(370)]=!0},C=async y=>{const p=e;I[p(370)]=!0;try{const{data:s,error:n}=await j.createUserStory({...y,requirement:u[p(241)]});s&&!n?(F(p(369)),o("refresh")):F(p(234),p(669))}catch(s){F(p(227)+s.message,p(669))}finally{I[p(370)]=!1}},_=async y=>{const p=e;I[p(370)]=!0;try{const{data:s,error:n}=await j[p(584)](x[p(370)].id,y);s&&!n?(F(p(744)),o(p(228))):F(p(245),p(669))}catch(s){F(p(609)+s[p(658)],"error")}finally{I[p(370)]=!1}},g=async()=>{const y=e;if(x[y(370)]){I[y(370)]=!0,Y[y(370)]=!1;try{const{success:p,error:s}=await j[y(871)](x[y(370)].id);p&&!s?(F("User story deleted successfully"),o(y(228)),v[y(370)]=!1):F(y(738),y(669))}catch(p){F(y(326)+p[y(658)],y(669))}finally{I[y(370)]=!1}}},se=async(y="")=>{const p=e;if(x.value){I[p(370)]=!0;try{const{data:s,error:n}=await j[p(290)](x[p(370)].id,y);s&&!n?(F(p(699)),setTimeout(()=>{o("refresh")},3e3)):F(p(536),"error")}catch(s){F(p(492)+s[p(658)],p(669))}finally{I.value=!1}}},F=(y,p=e(989))=>{H[e(370)]={show:!0,text:y,color:p}},B=y=>{const p=e;return y?(y=parseInt(y),new Date(y)[p(583)]("en-US",{year:p(702),month:"short",day:p(702)})):""};return nt(()=>{const y=e;u[y(241)]&&!u[y(976)][y(342)]&&!u[y(993)]&&j[y(538)](u[y(241)])[y(483)](({data:p})=>{p&&o(y(228))})}),(y,p)=>{const s=e,n=Ee,h=he(s(781));return f(),R(Q,{class:s(750)},{default:a(()=>[t(oe,null,{default:a(()=>[t(J,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:P[s(370)],"onUpdate:modelValue":p[0]||(p[0]=d=>P[s(370)]=d),density:s(973),placeholder:s(967),"prepend-inner-icon":"tabler-search","hide-details":"",variant:s(430),clearable:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12",md:"4"},{default:a(()=>[t(pe,{modelValue:V[s(370)],"onUpdate:modelValue":p[1]||(p[1]=d=>V.value=d),items:D,density:"compact","hide-details":"",label:s(221),variant:s(430)},null,8,[s(205)])]),_:1}),t(J,{cols:"12",md:"2",class:s(952)},{default:a(()=>[U(q)&&r.requirementId?(f(),R(G,{key:0,color:s(218),"prepend-icon":s(344),onClick:c,loading:I[s(370)],block:""},{default:a(()=>[k(s(399))]),_:1},8,[s(993)])):O("",!0)]),_:1})]),_:1}),t(ae,{class:s(556)}),r[s(993)]?(f(),z("div",ho,[t(Me,{indeterminate:"",color:s(218)})])):U(b)[s(342)]===0?(f(),z(s(840),vo,[t(L,{icon:s(212),size:"64",color:s(996),class:s(368)}),_o,m("p",go,w(P[s(370)]||V[s(370)]!==s(797)?s(238):s(374)),1),U(q)&&r[s(241)]&&!P.value&&V.value===s(797)?(f(),R(G,{key:0,color:s(218),onClick:c,"prepend-icon":s(344)},{default:a(()=>[k(" Add User Story ")]),_:1})):O("",!0)])):(f(),R(oe,{key:2},{default:a(()=>[(f(!0),z(te,null,ie(U(b),d=>{const i=s;return f(),R(J,{key:d.id,cols:"12",md:"6"},{default:a(()=>[t(le,{class:i(289),onClick:A=>{return X=d,x[e(370)]=X,void(v.value=!0);var X},border:"",hover:""},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(Fe,{color:i(218),variant:i(526),size:"42"},{default:a(()=>[t(L,{icon:i(572)})]),_:1})]),append:a(()=>[t(Z,{color:U(ke)(d[i(789)]),size:"small",label:""},{default:a(()=>[k(w(d.status),1)]),_:2},1032,[i(351)])]),default:a(()=>[t(ne,null,{default:a(()=>[k(i(873)+w(d[i(278)]),1)]),_:2},1024)]),_:2},1024),t(Q,{class:i(778)},{default:a(()=>[m("p",bo,[ko,k(" "+w(d.action),1)]),m("p",wo,[xo,k(" "+w(d[i(425)]),1)]),d[i(438)]&&d[i(438)][i(342)]>0?(f(),z(i(840),Vo,[Co,m("ul",Uo,[(f(!0),z(te,null,ie(d.acceptance_criteria[i(800)](0,2),(A,X)=>(f(),z("li",{key:X},w(A),1))),128)),d[i(438)][i(342)]>2?(f(),z("li",Do,i(384)+w(d[i(438)][i(342)]-2)+i(987),1)):O("",!0)])])):O("",!0),t(ee),m(i(840),So,[m(i(840),qo,[t(L,{size:"16",icon:i(661),class:i(406)}),m(i(310),zo,w(B(d[i(742)])),1)]),m(i(840),jo,[t(L,{size:"16",icon:i(947),class:i(406)}),m("span",Fo,"v"+w(d[i(936)]),1)])])]),_:2},1024)]),_:2},1032,[i(265)])]),_:2},1024)}),128))]),_:1})),x[s(370)]?(f(),R(co,{key:3,modelValue:v[s(370)],"onUpdate:modelValue":p[2]||(p[2]=d=>v.value=d),"user-story":x[s(370)],onDelete:p[3]||(p[3]=d=>Y[s(370)]=!0),onUpdate:_,onRegenerate:se,"is-admin":U(S),"has-manager-permission":U($),"has-moderator-permission":U(q)},null,8,[s(205),s(547),s(489),s(805),s(580)])):O("",!0),t(yo,{modelValue:E[s(370)],"onUpdate:modelValue":p[4]||(p[4]=d=>E[s(370)]=d),onSubmit:C},null,8,[s(205)]),t(n,{isDialogVisible:Y[s(370)],"onUpdate:isDialogVisible":p[5]||(p[5]=d=>Y[s(370)]=d),confirmationMsg:s(666),onConfirm:g},null,8,[s(308)]),t(Ve,{modelValue:H[s(370)].show,"onUpdate:modelValue":p[7]||(p[7]=d=>H[s(370)].show=d),color:H[s(370)].color,timeout:5e3},{actions:a(()=>[t(h,{onClick:p[6]||(p[6]=d=>H[s(370)][s(541)]=!1)},{default:a(()=>[t(L,{icon:s(281)})]),_:1})]),default:a(()=>[k(w(H[s(370)][s(457)])+" ",1)]),_:1},8,[s(205),"color"])]),_:1})}}},[[l(975),l(403)]]),He=r=>(Ue("data-v-9ece2766"),r=r(),De(),r),Io={key:0,class:"text-h5"},Po={class:l(394)},Ro={key:0},Bo=He(()=>m(l(840),{class:"text-subtitle-1 font-weight-medium mb-2"},l(683),-1)),Lo={class:"bg-grey-lighten-5 rounded pa-3"},Ao=He(()=>m(l(840),{class:l(240)}," Note: Direct editing of diagram content is not recommended. Use the Regenerate button to create a new version instead. ",-1)),To={key:1},No={key:0,class:l(905)},Oo=He(()=>m("p",null,l(293),-1)),Eo={class:l(244)},Ho={class:l(319)},Go={class:l(504)},Jo={class:l(445)},$o={key:1,class:l(393)},Xo={class:"diagram-metadata d-flex align-center px-6 py-3"},Yo={key:0,class:"ms-2"},Ko={class:l(387)},Qo={class:l(504)},Zo={class:l(445)},Wo={key:2,class:l(615),style:{height:l(531)}},en=He(()=>m("h4",{class:l(762)},l(733),-1)),tn=He(()=>m("p",{class:l(491)}," This diagram doesn't have any content to display. Try regenerating it. ",-1)),an=Ce({__name:l(365),props:{modelValue:{type:Boolean,default:!1},diagram:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[l(837),l(858),l(883)],setup(r,{emit:o}){const e=l,u=r,j=K({get:()=>u[e(205)],set:C=>o(e(837),C)}),M=pt(),P=T(!1),V=T(!1),x=T({...u[e(502)]}),v=T(!1),E=T({show:!1,text:"",color:e(989)}),Y=[{title:e(760),value:e(897)},{title:e(940),value:"active"},{title:e(422),value:"archived"},{title:e(233),value:e(961)}],I=C=>{const _=e;return C?(C=parseInt(C),new Date(C)[_(583)](_(795),{year:_(702),month:"short",day:"numeric",hour:"2-digit",minute:_(454)})):""},H=C=>{const _=e;switch(C[_(243)]()){case _(790):return"Class Diagram";case"sequence":return"Sequence Diagram";case _(546):return _(918);case"usecase":return"Use Case Diagram";case _(827):return _(315);case"component":return _(208);case _(219):return _(835);case"er":return _(927);default:return C[_(260)](0)[_(900)]()+C[_(800)](1)+" Diagram"}},S=()=>{const C=e;P[C(370)]=!P[C(370)]},$=()=>{const C=e;V[C(370)]&&(x.value={...u[C(502)]}),V[C(370)]=!V[C(370)]},q=async()=>{const C=e;v.value=!0;try{const{data:_,error:g}=await M[C(468)](u.diagram.id,x[C(370)]);_&&!g?(c(C(648)),Object[C(304)](u.diagram,_),V[C(370)]=!1):c(C(625),C(669))}catch(_){c(C(793)+_[C(658)],"error")}finally{v[C(370)]=!1}},D=()=>{o("delete")},b=async()=>{const C=e;v[C(370)]=!0;try{const{data:_,error:g}=await M[C(820)](u.diagram.id);_&&!g?(c(C(535)),setTimeout(()=>{o(C(883))},3e3)):c(C(599),C(669))}catch(_){c(C(417)+_[C(658)],"error")}finally{v.value=!1}},c=(C,_=e(989))=>{E[e(370)]={show:!0,text:C,color:_}};return je(()=>u[e(502)],C=>{x[e(370)]={...C}},{deep:!0}),(C,_)=>{const g=e,se=he("IconBtn");return f(),R(xe,{modelValue:U(j),"onUpdate:modelValue":_[7]||(_[7]=F=>Ie(j)?j[g(370)]=F:null),fullscreen:P[g(370)],"max-width":P[g(370)]?g(478):g(350),scrollable:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:g(252)},{default:a(()=>[V[g(370)]?(f(),z("h5",Io,g(224))):(f(),z(te,{key:1},[m("h5",Po,w(r[g(502)][g(612)]),1),t(Z,{class:g(937),color:g(996),size:g(532),label:""},{default:a(()=>[k(w(H(r[g(502)][g(364)])),1)]),_:1})],64)),t(ee),t(G,{icon:"",variant:g(457),onClick:S},{default:a(()=>[t(L,{icon:P[g(370)]?g(279):g(389)},null,8,[g(655)])]),_:1}),t(se,{onClick:_[0]||(_[0]=F=>j[g(370)]=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),_:1}),t(ae),t(Q,{class:ot({"pa-0":!V[g(370)]&&r[g(502)][g(571)],"pa-6":V[g(370)]||!r[g(502)][g(571)]}),style:Te({height:P[g(370)]?"calc(100vh - 120px)":g(1002),maxHeight:g(509)})},{default:a(()=>[V[g(370)]?(f(),z("div",Ro,[t(Pe,{onSubmit:Se(q,["prevent"])},{default:a(()=>[t(oe,{class:g(577)},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ue,{modelValue:x.value[g(612)],"onUpdate:modelValue":_[1]||(_[1]=F=>x[g(370)][g(612)]=F),label:g(400),required:"",rules:[F=>!!F||g(299)]},null,8,[g(205),"rules"])]),_:1}),t(J,{cols:"12",md:"6"},{default:a(()=>[t(pe,{modelValue:x[g(370)].status,"onUpdate:modelValue":_[2]||(_[2]=F=>x[g(370)][g(789)]=F),label:"Status",items:Y,required:""},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:a(()=>[t(we,{modelValue:x[g(370)][g(728)],"onUpdate:modelValue":_[3]||(_[3]=F=>x[g(370)].notes=F),label:g(878),rows:"4"},null,8,["modelValue"])]),_:1}),t(J,{cols:"12"},{default:a(()=>[Bo,m(g(840),Lo,[Ao,t(we,{modelValue:x[g(370)][g(571)],"onUpdate:modelValue":_[4]||(_[4]=F=>x[g(370)].content=F),rows:"15",monospace:"","hide-details":""},null,8,[g(205)])])]),_:1})]),_:1})]),_:1},8,[g(969)])])):(f(),z(g(840),To,[r[g(502)][g(865)]===g(908)?(f(),z(g(840),No,[t(ct,{color:g(606),variant:g(526),icon:g(725)},{default:a(()=>[t(St,null,{default:a(()=>[k("Generating Diagram")]),_:1}),Oo]),_:1}),m(g(840),Eo,[t(Me,{indeterminate:"",color:"primary",size:"64"})]),m("div",Ho,[t(L,{size:"18",icon:g(661),class:g(406)}),m(g(310),Go,g(780)+w(I(r[g(502)].updated_at)),1),t(L,{size:"18",icon:g(378),class:g(406)}),m(g(310),Jo,"Created: "+w(I(r[g(502)][g(512)])),1)])])):r[g(502)][g(571)]?(f(),z(g(840),$o,[m(g(840),Xo,[t(Z,{color:U(ke)(r.diagram.status),size:"small",label:"",class:g(906)},{default:a(()=>[k(w(r[g(502)][g(789)]),1)]),_:1},8,[g(351)]),r[g(502)][g(728)]?(f(),z("div",Yo,[t(Kt,null,{activator:a(({props:F})=>[t(L,Ht({icon:"tabler-info-circle",size:"18",color:g(606)},F),null,16)]),default:a(()=>[m(g(310),null,w(r[g(502)][g(728)]),1)]),_:1})])):O("",!0),t(ee),m(g(840),Ko,[t(L,{size:"18",icon:g(661),class:g(406)}),m("span",Qo,g(780)+w(I(r[g(502)].updated_at)),1),t(L,{size:"18",icon:"tabler-calendar-plus",class:g(406)}),m("span",Zo,g(515)+w(I(r.diagram.created_at)),1)])]),t(ae),m("div",{class:g(894),style:Te({height:P[g(370)]?"calc(100vh - 180px)":"calc(70vh - 110px)",overflow:g(652)})},[r[g(502)][g(571)]?(f(),R(Ut,{key:0,src:U(Dt)(r[g(502)][g(571)]),class:"diagram-svg",alt:g(209)},null,8,[g(401)])):O("",!0)],4)])):(f(),z("div",Wo,[t(L,{icon:g(630),size:"64",color:g(996),class:g(368)}),en,tn]))]))]),_:1},8,[g(790),g(665)]),t(ae),t(de,{class:g(657)},{default:a(()=>[V[g(370)]?(f(),z(te,{key:0},[t(G,{color:g(996),variant:g(526),onClick:$,disabled:v[g(370)]},{default:a(()=>[k(g(879))]),_:1},8,[g(715)]),t(ee),t(G,{color:g(218),onClick:q,loading:v[g(370)]},{default:a(()=>[k(" Save Changes ")]),_:1},8,["loading"])],64)):(f(),z(te,{key:1},[r[g(503)]?(f(),R(G,{key:0,color:g(669),variant:g(526),"prepend-icon":g(455),onClick:D},{default:a(()=>[k(g(336))]),_:1})):O("",!0),r.hasModeratorPermission?(f(),R(G,{key:1,color:g(606),variant:"tonal","prepend-icon":"tabler-refresh",class:g(937),onClick:b,loading:v[g(370)]},{default:a(()=>[k(" Regenerate ")]),_:1},8,[g(993)])):O("",!0),t(ee),r.hasModeratorPermission?(f(),R(G,{key:2,color:g(218),"prepend-icon":g(710),onClick:$},{default:a(()=>[k(" Edit ")]),_:1})):O("",!0)],64))]),_:1})]),_:1}),t(Ve,{modelValue:E[g(370)].show,"onUpdate:modelValue":_[6]||(_[6]=F=>E.value[g(541)]=F),color:E.value[g(351)],timeout:5e3},{actions:a(()=>[t(se,{onClick:_[5]||(_[5]=F=>E[g(370)][g(541)]=!1)},{default:a(()=>[t(L,{icon:g(281)})]),_:1})]),default:a(()=>[k(w(E[g(370)][g(457)])+" ",1)]),_:1},8,[g(205),g(351)])]),_:1},8,["modelValue",g(419),g(375)])}}},[["__scopeId",l(680)]]),Qe=r=>(Ue(l(807)),r=r(),De(),r),ln={key:0,class:l(886),style:{height:l(294)}},sn={key:1,class:l(642)},rn=Qe(()=>m("h4",{class:l(762)},l(850),-1)),on={class:l(570)},nn={class:l(916)},cn={class:l(687)},un={class:"overflow-hidden position-relative rounded bg-grey-lighten-4",style:{height:l(247)}},dn={class:l(651)},mn={key:0,class:l(325)},pn=Qe(()=>m(l(840),{class:l(445)},l(982),-1)),fn={key:1,class:l(524)},yn={key:2,class:l(340)},hn=Qe(()=>m("div",{class:l(510)},l(360),-1)),vn={class:l(926)},_n={class:l(363)},gn={class:l(952)},bn={class:"text-caption"},kn=Qe(()=>m("p",{class:l(261)},l(388),-1)),wn=Ce({__name:"UmlDiagramList",props:{projectId:{type:String,required:!0},diagrams:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[l(228)],setup(r,{emit:o}){const e=l,u=r,j=pt(),M=Be(),P=T(""),V=T(e(797)),x=T(null),v=T(!1),E=T(!1),Y=T(!1),I=T(!1),H=T({show:!1,text:"",color:e(989)}),S=K(()=>M[e(714)]()),$=K(()=>M[e(500)][e(278)]>=2),q=K(()=>M[e(500)].role>=3),D=[{title:e(861),value:e(797)},{title:e(955),value:e(790)},{title:"Sequence Diagram",value:"sequence"},{title:"Activity Diagram",value:"activity"},{title:e(813),value:"usecase"},{title:e(315),value:"state"},{title:e(208),value:e(474)},{title:e(835),value:e(219)},{title:e(927),value:"er"}],b=T(e(790)),c=K(()=>{const p=e;return u[p(554)][p(933)](s=>{const n=p,h=!P[n(370)]||s.name[n(243)]()[n(366)](P.value[n(243)]())||s[n(364)].toLowerCase()[n(366)](P[n(370)][n(243)]()),d=V[n(370)]==="all"||s.diagram_type[n(243)]()===V[n(370)][n(243)]();return h&&d})}),C=()=>{const p=e;b[p(370)]=p(790),Y[p(370)]=!0},_=async()=>{const p=e;Y[p(370)]=!1,I.value=!0;try{const{data:s,error:n}=await j[p(764)](u[p(959)],b.value);s&&!n?(se(b.value.charAt(0)[p(900)]()+b[p(370)][p(800)](1)+p(493)),setTimeout(()=>{o("refresh")},3e3)):se(p(484),p(669))}catch(s){se(p(697)+s[p(658)],p(669))}finally{I[p(370)]=!1}},g=async()=>{const p=e;if(x[p(370)]){I[p(370)]=!0,E[p(370)]=!1;try{const{success:s,error:n}=await j[p(911)](x[p(370)].id);s&&!n?(se(p(688)),o("refresh"),v[p(370)]=!1):se(p(348),"error")}catch(s){se("Failed to delete UML diagram: "+s[p(658)],p(669))}finally{I[p(370)]=!1}}},se=(p,s=e(989))=>{H[e(370)]={show:!0,text:p,color:s}},F=p=>{const s=e;return p?(p=parseInt(p),new Date(p).toLocaleDateString("en-US",{year:s(702),month:s(386),day:"numeric"})):""},B=p=>{const s=e;switch(p[s(243)]()){case s(790):return"tabler-box";case"sequence":return s(768);case s(546):return s(477);case s(968):return s(572);case s(827):return s(223);case s(474):return s(887);case s(219):return"tabler-server";case"er":return s(608);default:return"tabler-chart-dots"}},y=p=>{const s=e;switch(p[s(243)]()){case s(790):return s(955);case s(427):return s(745);case s(546):return"Activity Diagram";case"usecase":return s(813);case s(827):return"State Diagram";case s(474):return"Component Diagram";case"deployment":return s(835);case"er":return s(927);default:return p[s(260)](0).toUpperCase()+p.slice(1)+s(263)}};return nt(()=>{const p=e;u[p(959)]&&!u.diagrams[p(342)]&&!u[p(993)]&&j[p(1007)](u[p(959)]).then(({data:s})=>{s&&o(p(228))})}),(p,s)=>{const n=e,h=Ee,d=he(n(781));return f(),R(Q,{class:n(750)},{default:a(()=>[t(oe,null,{default:a(()=>[t(J,{cols:"12",md:"4"},{default:a(()=>[t(ue,{modelValue:P[n(370)],"onUpdate:modelValue":s[0]||(s[0]=i=>P[n(370)]=i),density:n(973),placeholder:n(979),"prepend-inner-icon":n(896),"hide-details":"",variant:n(430),clearable:""},null,8,[n(205)])]),_:1}),t(J,{cols:"12",md:"4"},{default:a(()=>[t(pe,{modelValue:V[n(370)],"onUpdate:modelValue":s[1]||(s[1]=i=>V.value=i),items:D,density:n(973),"hide-details":"",label:"Diagram Type",variant:n(430)},null,8,[n(205)])]),_:1}),t(J,{cols:"12",md:"4",class:"d-flex align-center"},{default:a(()=>[U(q)?(f(),R(G,{key:0,color:n(218),"prepend-icon":n(344),onClick:C,loading:I[n(370)],block:""},{default:a(()=>[k(n(746))]),_:1},8,[n(993)])):O("",!0)]),_:1})]),_:1}),t(ae,{class:n(556)}),r.loading?(f(),z(n(840),ln,[t(Me,{indeterminate:"",color:n(218)})])):U(c)[n(342)]===0?(f(),z(n(840),sn,[t(L,{icon:"tabler-chart-dots",size:"64",color:n(996),class:"mb-4"}),rn,m("p",on,w(P[n(370)]||V[n(370)]!==n(797)?n(238):"This project does not have any UML diagrams yet."),1),U(q)&&!P[n(370)]&&V[n(370)]===n(797)?(f(),R(G,{key:0,color:n(218),onClick:C,"prepend-icon":n(344)},{default:a(()=>[k(n(643))]),_:1})):O("",!0)])):(f(),R(oe,{key:2},{default:a(()=>[(f(!0),z(te,null,ie(U(c),i=>{const A=n;return f(),R(J,{key:i.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[t(le,{class:A(706),onClick:X=>(N=>{const re=e;x.value=N,v[re(370)]=!0})(i),border:"",hover:""},{default:a(()=>[t(fe,null,{prepend:a(()=>[t(Fe,{color:A(218),variant:"tonal",size:"42"},{default:a(()=>[t(L,{icon:B(i[A(364)])},null,8,[A(655)])]),_:2},1024)]),append:a(()=>[t(Z,{color:U(ke)(i[A(789)]),size:A(532),label:""},{default:a(()=>[k(w(i[A(789)]),1)]),_:2},1032,[A(351)])]),default:a(()=>[t(ne,null,{default:a(()=>[k(w(i[A(612)]),1)]),_:2},1024)]),_:2},1024),t(Q,null,{default:a(()=>[m("div",nn,[t(Z,{color:A(996),size:"small",label:"",class:A(906)},{default:a(()=>[k(w(y(i[A(364)])),1)]),_:2},1024)]),m("div",cn,[m(A(840),un,[m(A(840),dn,[i.generation_status===A(908)?(f(),z(A(840),mn,[t(Me,{indeterminate:"",color:A(218),size:"40",class:A(231)}),pn])):i[A(571)]?(f(),z(A(840),fn,[i.content?(f(),R(Ut,{key:0,src:U(Dt)(i[A(571)]),class:A(788),alt:"Generated Diagram"},null,8,[A(401)])):O("",!0)])):(f(),z(A(840),yn,[t(L,{icon:B(i[A(364)]),size:"48",color:A(996)},null,8,["icon"]),hn]))]),m(A(840),vn,[t(G,{color:A(218),variant:"elevated",size:"small","prepend-icon":A(367)},{default:a(()=>[k(A(426))]),_:1})])])]),m(A(840),_n,[m("div",gn,[t(L,{size:"16",icon:A(661),class:"me-1"}),m(A(310),bn,w(F(i[A(512)])),1)])])]),_:2},1024)]),_:2},1032,[A(265)])]),_:2},1024)}),128))]),_:1})),x[n(370)]?(f(),R(an,{key:3,modelValue:v[n(370)],"onUpdate:modelValue":s[2]||(s[2]=i=>v.value=i),diagram:x[n(370)],onDelete:s[3]||(s[3]=i=>E.value=!0),"is-admin":U(S),"has-manager-permission":U($),"has-moderator-permission":U(q)},null,8,[n(205),n(502),"is-admin",n(805),n(580)])):O("",!0),t(xe,{modelValue:Y[n(370)],"onUpdate:modelValue":s[6]||(s[6]=i=>Y[n(370)]=i),"max-width":n(385),persistent:""},{default:a(()=>[t(le,null,{default:a(()=>[t(ne,{class:"pt-5 pb-2"},{default:a(()=>[k(n(643))]),_:1}),t(Q,null,{default:a(()=>[kn,t(pe,{modelValue:b.value,"onUpdate:modelValue":s[4]||(s[4]=i=>b[n(370)]=i),items:[{title:n(955),value:"class"},{title:n(745),value:n(427)},{title:"Activity Diagram",value:"activity"},{title:n(813),value:n(968)},{title:n(315),value:n(827)},{title:n(208),value:n(474)}],label:n(589)},null,8,[n(205)])]),_:1}),t(de,null,{default:a(()=>[t(G,{color:"secondary",variant:"tonal",onClick:s[5]||(s[5]=i=>Y[n(370)]=!1)},{default:a(()=>[k(" Cancel ")]),_:1}),t(ee),t(G,{color:n(218),onClick:_},{default:a(()=>[k(n(229))]),_:1})]),_:1})]),_:1})]),_:1},8,[n(205)]),t(h,{isDialogVisible:E[n(370)],"onUpdate:isDialogVisible":s[7]||(s[7]=i=>E[n(370)]=i),confirmationMsg:"Are you sure you want to delete this UML diagram? This action cannot be undone.",onConfirm:g},null,8,[n(308)]),t(Ve,{modelValue:H.value[n(541)],"onUpdate:modelValue":s[9]||(s[9]=i=>H[n(370)][n(541)]=i),color:H[n(370)][n(351)],timeout:5e3},{actions:a(()=>[t(d,{onClick:s[8]||(s[8]=i=>H.value[n(541)]=!1)},{default:a(()=>[t(L,{icon:n(281)})]),_:1})]),default:a(()=>[k(w(H[n(370)][n(457)])+" ",1)]),_:1},8,[n(205),"color"])]),_:1})}}},[[l(975),l(807)]]),xn={class:l(340)},Vn={class:l(806)},Cn={class:l(952)},Un={class:l(751)},Dn={class:l(211)},Sn={__name:l(361),setup(r){const o=l,e=Gt(),u=Jt(),j=$t();mt();const M=pt(),P=Be(),V=T(!0),x=T(null),v=T("0"),E=T(!1),Y=T(!1),I=T(!1),H=T({show:!1,text:"",color:"success"}),S=K(()=>e.params.id),$=K(()=>j[o(413)]),q=K(()=>P.is_admin()),D=K(()=>P[o(500)][o(278)]>=2),b=K(()=>P.userData[o(278)]>=3),c=T(null),C=async()=>{const h=o;V[h(370)]=!0,x[h(370)]=null;try{const{data:d,error:i}=await j[h(439)](S[h(370)]);i&&(x[h(370)]=i,_(h(812),"error"))}catch(d){x[h(370)]=d[h(658)]||h(812),_(h(812),h(669))}finally{V.value=!1}},_=(h,d=o(989))=>{H.value={show:!0,text:h,color:d}},g=()=>{E[o(370)]=!0},se=async(h=!1)=>{const d=o;if(h){Y.value=!1,I[d(370)]=!0;try{const{success:i,error:A}=await j.deleteProject(S[d(370)]);i&&!A?(_("Project deleted successfully"),u.push({name:"projects"})):_(d(436),"error")}catch(i){_(d(784)+i[d(658)],d(669))}finally{I[d(370)]=!1}}},F=async h=>{const d=o;I[d(370)]=!0;try{const{data:i,error:A}=await j[d(943)](S[d(370)],h);i&&!A?_(d(255)):_(d(851),d(669))}catch(i){_(d(259)+i[d(658)],"error")}finally{I[d(370)]=!1}},B=async()=>{const h=o;I[h(370)]=!0;try{const{data:d,error:i}=await j[h(997)](S[h(370)]);d&&!i?(_(h(405)),setTimeout(()=>{C()},3e3)):_(h(216),"error")}catch(d){_("Failed to start requirements generation: "+d[h(658)],"error")}finally{I[h(370)]=!1}},y=async(h=o(737))=>{const d=o;I[d(370)]=!0;try{const{data:i,error:A}=await j[d(210)](S[d(370)],h);i&&!A?_(d(809)):_("Failed to start SRS export",d(669))}catch(i){_(d(838)+i[d(658)],d(669))}finally{I[d(370)]=!1}},p=async()=>{const h=o;I[h(370)]=!0;try{const{data:d,error:i}=await j.generatePlan(S[h(370)]);d&&!i?(_(h(437)),setTimeout(()=>{C()},3e3)):_(h(287),"error")}catch(d){_(h(866)+d.message,h(669))}finally{I[h(370)]=!1}},s=async()=>{const h=o;I[h(370)]=!0;try{const{data:d,error:i}=await j[h(327)](S[h(370)]);d&&!i?(_(h(826)),setTimeout(()=>{C()},3e3)):_(h(1e3),h(669))}catch(d){_(h(613)+d[h(658)],h(669))}finally{I[h(370)]=!1}},n=h=>{const d=o;c[d(370)]=h,v[d(370)]="2"};return nt(()=>{C()}),(h,d)=>{const i=o,A=Ee,X=he("IconBtn");return f(),R(Yt,{fluid:""},{default:a(()=>[V.value&&!U($)?(f(),R(oe,{key:0},{default:a(()=>[t(J,{cols:"12",class:"d-flex justify-center align-center",style:{"min-height":i(531)}},{default:a(()=>[t(Me,{indeterminate:"",color:i(218),size:"64"})]),_:1})]),_:1})):x.value&&!U($)?(f(),R(oe,{key:1},{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(ct,{color:i(669),variant:"tonal",title:i(935),text:"There was an error loading the project details",class:i(368)}),m("div",xn,[t(G,{color:"primary",onClick:C},{default:a(()=>[k(" Retry ")]),_:1}),t(G,{color:i(996),variant:i(430),class:"ms-2",to:{name:i(553)}},{default:a(()=>[k(i(992))]),_:1})])]),_:1})]),_:1})):U($)?(f(),z(te,{key:2},[t(oe,null,{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[m(i(840),Vn,[m(i(840),Cn,[t(G,{icon:"",variant:"text",class:"me-3",to:{name:"projects"}},{default:a(()=>[t(L,{icon:i(317)})]),_:1}),m("h3",Un,w(U($)[i(612)]),1)]),m(i(840),Dn,[t(G,{color:"info",variant:i(526),"prepend-icon":i(725),class:"me-2",onClick:C,loading:I[i(370)]},{default:a(()=>[k(i(912))]),_:1},8,["loading"]),U(b)?(f(),R(G,{key:0,color:"secondary",variant:i(430),"prepend-icon":i(311),class:"me-2",onClick:y,loading:I[i(370)]},{default:a(()=>[k(i(991))]),_:1},8,[i(993)])):O("",!0),U(D)?(f(),R(G,{key:1,color:i(218),"prepend-icon":"tabler-edit",class:"me-2",onClick:g,loading:I[i(370)]},{default:a(()=>[k(i(731))]),_:1},8,[i(993)])):O("",!0),U(q)?(f(),R(G,{key:2,color:i(669),variant:i(526),"prepend-icon":i(455),onClick:d[0]||(d[0]=N=>Y.value=!0),loading:I[i(370)]},{default:a(()=>[k(i(336))]),_:1},8,[i(993)])):O("",!0)])])]),_:1})]),_:1}),t(oe,null,{default:a(()=>[t(J,{cols:"12"},{default:a(()=>[t(le,null,{default:a(()=>[t(it,{modelValue:v[i(370)],"onUpdate:modelValue":d[1]||(d[1]=N=>v[i(370)]=N),"bg-color":i(218),grow:"","slider-color":i(456)},{default:a(()=>[t(_e,{value:"0",color:i(456)},{default:a(()=>[t(L,{size:"18",icon:i(466),start:""}),k(i(431))]),_:1}),t(_e,{value:"1",color:i(456)},{default:a(()=>{var N;return[t(L,{size:"18",icon:i(453),start:""}),k(" Requirements "),(N=U($)[i(721)])!=null&&N.length?(f(),R(Z,{key:0,size:i(802),color:i(456),class:i(937)},{default:a(()=>[k(w(U($)[i(721)].length),1)]),_:1})):O("",!0)]}),_:1}),t(_e,{value:"2",color:"white"},{default:a(()=>{var N;return[t(L,{size:"18",icon:i(572),start:""}),k(" User Stories "),(N=U($)[i(734)])!=null&&N[i(342)]?(f(),R(Z,{key:0,size:"x-small",color:i(456),class:i(937)},{default:a(()=>{var re;return[k(w(((re=U($)[i(734)])==null?void 0:re[i(342)])||0),1)]}),_:1})):O("",!0)]}),_:1}),t(_e,{value:"3",color:i(456)},{default:a(()=>{var N;return[t(L,{size:"18",icon:i(983),start:""}),k(i(839)),(N=U($).mockups)!=null&&N[i(342)]?(f(),R(Z,{key:0,size:i(802),color:i(456),class:"ms-2"},{default:a(()=>[k(w(U($)[i(717)].length),1)]),_:1})):O("",!0)]}),_:1}),t(_e,{value:"4",color:"white"},{default:a(()=>{var N;return[t(L,{size:"18",icon:"tabler-chart-dots",start:""}),k(i(618)),(N=U($)[i(690)])!=null&&N.length?(f(),R(Z,{key:0,size:i(802),color:i(456),class:i(937)},{default:a(()=>{var re;return[k(w(((re=U($)[i(690)])==null?void 0:re[i(342)])||0),1)]}),_:1})):O("",!0)]}),_:1}),t(_e,{value:"5",color:i(456)},{default:a(()=>[t(L,{size:"18",icon:i(264),start:""}),k(i(505))]),_:1})]),_:1},8,[i(205)]),t(ae),t(ut,{modelValue:v[i(370)],"onUpdate:modelValue":d[5]||(d[5]=N=>v[i(370)]=N)},{default:a(()=>[t(ge,{value:"0"},{default:a(()=>[t(Ma,{project:U($),loading:V[i(370)]},null,8,[i(857),i(993)])]),_:1}),t(ge,{value:"1"},{default:a(()=>[t(de,{class:i(588)},{default:a(()=>[t(ee),U(b)?(f(),R(G,{key:0,color:"primary","prepend-icon":i(725),onClick:B,loading:I[i(370)]},{default:a(()=>[k(" Generate Requirements ")]),_:1},8,["loading"])):O("",!0)]),_:1}),t(Tl,{"project-id":U(S),requirements:U($)[i(721)]||[],loading:V[i(370)],onRefresh:C,onViewUserStories:n},null,8,[i(253),"requirements","loading"])]),_:1}),t(ge,{value:"2"},{default:a(()=>{var N,re;return[t(de,{class:i(588)},{default:a(()=>[c[i(370)]?(f(),R(G,{key:0,color:i(996),variant:i(526),"prepend-icon":i(317),onClick:d[2]||(d[2]=ce=>c[i(370)]=null)},{default:a(()=>[k(i(622))]),_:1})):O("",!0),t(ee),U(b)?(f(),R(G,{key:1,color:i(218),"prepend-icon":i(725),onClick:d[3]||(d[3]=ce=>(async(be=null)=>{const ve=o;I[ve(370)]=!0;try{let Re;if(be){const{data:Ze,error:We}=await j[ve(654)](S[ve(370)],be);Re={data:Ze,error:We}}else{const{data:Ze,error:We}=await j[ve(654)](S[ve(370)]);Re={data:Ze,error:We}}Re.data&&!Re[ve(669)]?(_(ve(743)),setTimeout(()=>{C()},3e3)):_(ve(693),"error")}catch(Re){_(ve(776)+Re[ve(658)],"error")}finally{I[ve(370)]=!1}})(c[i(370)]?c[i(370)].id:null)),loading:I[i(370)]},{default:a(()=>[k(w(c[i(370)]?i(594):i(548)),1)]),_:1},8,[i(993)])):O("",!0)]),_:1}),t(Mo,{"project-id":U(S),"requirement-id":c[i(370)]?c.value.id:null,"user-stories":c[i(370)]?((re=(N=U($)[i(721)])==null?void 0:N[i(772)](ce=>ce.id===c.value.id))==null?void 0:re[i(734)])||[]:U($)[i(734)]||[],loading:V[i(370)],onRefresh:C},null,8,[i(253),i(323),i(872),i(993)])]}),_:1}),t(ge,{value:"3"},{default:a(()=>[t(de,{class:i(588)},{default:a(()=>[t(ee),U(b)?(f(),R(G,{key:0,color:i(218),"prepend-icon":i(725),onClick:s,loading:I[i(370)]},{default:a(()=>[k(i(486))]),_:1},8,[i(993)])):O("",!0)]),_:1}),t(bs,{"project-id":U(S),mockups:U($).mockups||[],loading:V[i(370)],onRefresh:C},null,8,["project-id","mockups",i(993)])]),_:1}),t(ge,{value:"4"},{default:a(()=>[t(de,{class:"pt-3 px-6"},{default:a(()=>[t(ee),U(b)?(f(),R(G,{key:0,color:i(218),"prepend-icon":i(725),onClick:d[4]||(d[4]=N=>(async(re=null)=>{const ce=o;I.value=!0;try{const{data:be,error:ve}=await M[ce(764)](S[ce(370)],re);be&&!ve?(_(ce(673)),setTimeout(()=>{C()},3e3)):_(ce(204),"error")}catch(be){_("Failed to start UML diagram generation: "+be[ce(658)],ce(669))}finally{I[ce(370)]=!1}})(null)),loading:I[i(370)]},{default:a(()=>[k(" Generate UML Diagrams ")]),_:1},8,[i(993)])):O("",!0)]),_:1}),t(wn,{"project-id":U(S),diagrams:U($).uml_diagrams||[],loading:V[i(370)],onRefresh:C},null,8,[i(253),i(554),"loading"])]),_:1}),t(ge,{value:"5"},{default:a(()=>[t(de,{class:i(588)},{default:a(()=>[t(ee),U(D)?(f(),R(G,{key:0,color:i(218),"prepend-icon":i(725),onClick:p,loading:I[i(370)]},{default:a(()=>[k(i(575))]),_:1},8,[i(993)])):O("",!0)]),_:1}),t(fr,{"project-id":U(S),"development-plan":U($)[i(829)],loading:V[i(370)],onRefresh:C},null,8,[i(253),"development-plan",i(993)])]),_:1})]),_:1},8,[i(205)])]),_:1})]),_:1})]),_:1})],64)):O("",!0),U($)?(f(),R(Xt,{key:3,modelValue:E[i(370)],"onUpdate:modelValue":d[6]||(d[6]=N=>E[i(370)]=N),"edit-mode":"","project-data":U($),onSubmit:F},null,8,[i(205),i(736)])):O("",!0),t(A,{isDialogVisible:Y.value,"onUpdate:isDialogVisible":d[7]||(d[7]=N=>Y[i(370)]=N),confirmationMsg:i(716),onConfirm:se},null,8,[i(308)]),t(Ve,{modelValue:H[i(370)].show,"onUpdate:modelValue":d[9]||(d[9]=N=>H[i(370)][i(541)]=N),color:H.value[i(351)],timeout:5e3},{actions:a(()=>[t(X,{onClick:d[8]||(d[8]=N=>H[i(370)][i(541)]=!1)},{default:a(()=>[t(L,{icon:"tabler-x"})]),_:1})]),default:a(()=>[k(w(H[i(370)][i(457)])+" ",1)]),_:1},8,[i(205),"color"])]),_:1})}}};var Ge;typeof yt=="function"&&yt(Sn);function ht(r){function o(e){const u=me;if(typeof e===u(1005))return function(j){}[u(754)](u(875)).apply(u(828));(""+e/e)[u(342)]!==1||e%20==0?function(){return!0}[u(754)](u(497)+u(664))[u(679)]("action"):function(){return!1}[u(754)](u(497)+u(664))[u(379)](u(972)),o(++e)}try{if(r)return o;o(0)}catch{}}export{Sn as default};
