import{r as ve,o as p,b as m,y as o,p as a,ap as v,aj as Y,aD as be,E as z,aJ as ge,aL as je,aK as G,D as U,A as V,q,b1 as he,aY as M,m as b,c as Q,b2 as we,C as W,aI as X,w as Ve,k as S,H as ke,ah as xe,a as Ce,F as Le,t as Se}from"./index-407c8d73.js";import{u as De,_ as ze,V as Pe}from"./ProjectCreateDialog-e4fbad52.js";import{V as Ae}from"./VMenu-f580697e.js";import{V as Ie}from"./VList-3954c8b5.js";import{g as Ue}from"./formatters-32df881e.js";import{V as qe}from"./VChip-3f2fbfdc.js";import{a as j,V as D}from"./VRow-8447fe24.js";import{b as Be}from"./VTextField-a576ad44.js";import{V as R}from"./VSelect-76a54482.js";import{V as Ee}from"./VDivider-bd98b42e.js";import"./VSlideGroup-f9b2b679.js";import"./ssrBoot-d6304ba3.js";import"./index-d489fbd1.js";import"./VSpacer-6be7a486.js";import"./VForm-b1d4b72a.js";import"./VCheckboxBtn-06089fa3.js";import"./VDialog-4b19cd7f.js";const Z=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const l=e.apply(n,arguments);return e=null,l}}:function(){};return t=!1,s}}()(void 0,function(){return Z.toString().search("(((.+)+)+)+$").toString().constructor(Z).search("(((.+)+)+)+$")});Z();const ye=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const l=e.apply(n,arguments);return e=null,l}}:function(){};return t=!1,s}}();(function(){ye(this,function(){const t=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=T("init");t.test(e+"chain")&&n.test(e+"input")?T():e("0")})()})();const L=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const l=e.apply(n,arguments);return e=null,l}}:function(){};return t=!1,s}}();L(void 0,function(){const t=function(){let s;try{s=Function('return (function() {}.constructor("return this")( ));')()}catch{s=window}return s}(),n=t.console=t.console||{},e=["log","warn","info","error","exception","table","trace"];for(let s=0;s<e.length;s++){const l=L.constructor.prototype.bind(L),c=e[s],i=n[c]||l;l.__proto__=L.bind(L),l.toString=i.toString.bind(i),n[c]=l}})();const H={};H.type=Array,H.required=!1;const J={};J.type=Boolean,J.required=!1;const K={};K.menuList=H,K.itemProps=J;const $e={__name:"MoreBtn",props:K,setup(t){const n=t;return(e,s)=>{const l=ve("IconBtn"),c={density:"compact",color:"disabled"},i={icon:"tabler-dots-vertical"},g={key:0,activator:"parent"};return p(),m(l,c,{default:o(()=>[a(v,i),n.menuList?(p(),m(Ae,g,{default:o(()=>[a(Ie,{items:n.menuList,"item-props":n.itemProps},null,8,["items","item-props"])]),_:1})):Y("",!0)]),_:1})}}},Fe={class:"mb-2"},Oe=Fe,Ze={class:"d-flex mt-4 pt-1"},He=Ze,Je={class:"me-2"},Ke=Je,Ne={class:"text-caption"},Re=Ne,Te={class:"me-2"},Ye=Te,Ge={class:"text-caption"},Me=Ge,Qe={key:0},We=Qe,Xe={class:"text-caption"},et=Xe,N={};N.type=Object,N.required=!0;const ee={};ee.project=N;const tt=be({__name:"ProjectListItem",props:ee,emits:["view","edit","delete"],setup(t,{emit:n}){const e=t;z(()=>{switch(e.project.status){case"draft":return"warning";case"active":return"success";case"archived":return"secondary";case"completed":return"info";default:return"primary"}});const s=z(()=>{const c={year:"numeric",month:"short",day:"numeric"};return new Date(parseInt(e.project.created_at)).toLocaleDateString("en-US",c)}),l=(c,i=100)=>!c||c.length<=i?c:c.substring(0,i)+"...";return(c,i)=>{const g=$e,k={color:"primary",variant:"tonal",rounded:"",size:"42",class:"me-3"},P={key:0,icon:"tabler-world-www"},A={key:1,icon:"tabler-device-mobile"},B={key:2,icon:"tabler-device-desktop"},E={key:3,icon:"tabler-api"},d={key:4,icon:"tabler-code"},r={prependIcon:"tabler-eye"},u={title:"View Details",value:"view"};u.props=r;const y={icon:"tabler-calendar",size:"16",class:"me-1"},$={icon:"tabler-code",size:"16",class:"me-1"},x={icon:"tabler-language",size:"16",class:"me-1"},F={variant:"tonal",color:"primary"};return p(),m(X,{class:"project-card h-100",onClick:i[1]||(i[1]=_=>n("view",t.project.id))},{default:o(()=>[a(ge,null,{prepend:o(()=>[a(je,k,{default:o(()=>[t.project.type_of_application==="website"?(p(),m(v,P)):t.project.type_of_application==="mobile"?(p(),m(v,A)):t.project.type_of_application==="desktop"?(p(),m(v,B)):t.project.type_of_application==="api"?(p(),m(v,E)):(p(),m(v,d))]),_:1})]),append:o(()=>[a(g,{"menu-list":[u],onClick:i[0]||(i[0]=_=>n(_,t.project.id))})]),default:o(()=>[a(G,null,{default:o(()=>[U(V(t.project.name)+" ",1),a(qe,{color:q(Ue)(t.project.status),size:"small",label:""},{default:o(()=>[U(V(he(t.project.status)),1)]),_:1},8,["color"])]),_:1})]),_:1}),a(M,null,{default:o(()=>[b("p",Oe,V(l(t.project.short_description)),1),b("div",He,[b("div",Ke,[a(v,y),b("span",Re,V(q(s)),1)]),b("div",Ye,[a(v,$),b("span",Me,V(t.project.type_of_application),1)]),t.project.language?(p(),Q("div",We,[a(v,x),b("span",et,V(t.project.language),1)])):Y("",!0)])]),_:1}),a(we,null,{default:o(()=>[a(W,F,{default:o(()=>[U(" View Details ")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-bb0b9553"]]),at={class:"text-h5"},ot=b("h5",at,"Projects",-1),nt={class:"text-medium-emphasis"},rt=b("p",nt,"No projects found. Create a new project to get started.",-1),Vt={__name:"index",setup(t){const n=Se(),e=De(),s=Ve(),l=S(!1),c=S(!1),i=S(""),g=S("created_at"),k=S("desc");z(()=>s.is_admin()),z(()=>s.userData.role>=2);const P=z(()=>e.projects.length?e.projects.filter(d=>{if(!i.value)return!0;const r=i.value.toLowerCase();return d.name.toLowerCase().includes(r)||d.short_description.toLowerCase().includes(r)||d.type_of_application.toLowerCase().includes(r)}).sort((d,r)=>{let u=d[g.value],y=r[g.value];return typeof u=="string"&&(u=u.toLowerCase()),typeof y=="string"&&(y=y.toLowerCase()),k.value==="asc"?u>y?1:-1:u<y?1:-1}):[]),A=async()=>{l.value=!0;try{await e.fetchProjects()}catch(d){console.error("Error fetching projects:",d)}finally{l.value=!1}},B=async d=>{c.value=!1;const{data:r,error:u}=await e.createProject(d);r&&!u&&A()},E=d=>{const r={};r.id=d;const u={name:"projects-id"};u.params=r,n.push(u)};return ke(()=>{A()}),(d,r)=>{const u={fluid:""},y={cols:"12"},$={class:"d-flex align-center justify-space-between"},x={color:"primary"};x.onClick=r[0]||(r[0]=f=>c.value=!0),x["prepend-icon"]="tabler-plus";const F={cols:"12",md:"6"},_={};_.modelValue=i.value,_["onUpdate:modelValue"]=r[1]||(r[1]=f=>i.value=f),_.label="Search Projects",_["prepend-inner-icon"]="tabler-search",_.clearable="",_["hide-details"]="";const te={cols:"12",md:"3"},ae={title:"Name",value:"name"},oe={title:"Created Date",value:"created_at"},ne={title:"Status",value:"status"},re={title:"Type",value:"type_of_application"},h={};h.modelValue=g.value,h["onUpdate:modelValue"]=r[2]||(r[2]=f=>g.value=f),h.label="Sort By",h.items=[ae,oe,ne,re],h["hide-details"]="";const se={cols:"12",md:"3"},le={title:"Ascending",value:"asc"},ce={title:"Descending",value:"desc"},w={};w.modelValue=k.value,w["onUpdate:modelValue"]=r[3]||(r[3]=f=>k.value=f),w.label="Order",w.items=[le,ce],w["hide-details"]="";const ie={class:"my-4"},ue={key:0},pe={cols:"12",class:"text-center"},de={indeterminate:"",color:"primary"},me={key:1},fe={cols:"12",class:"text-center"},_e={key:2},I={};return I.modelValue=c.value,I["onUpdate:modelValue"]=r[4]||(r[4]=f=>c.value=f),I.onSubmit=B,p(),m(Pe,u,{default:o(()=>[a(D,null,{default:o(()=>[a(j,y,{default:o(()=>[a(X,null,{default:o(()=>[a(G,$,{default:o(()=>[ot,a(W,x,{default:o(()=>[U(" Create Project ")]),_:1})]),_:1}),a(M,null,{default:o(()=>[a(D,null,{default:o(()=>[a(j,F,{default:o(()=>[a(Be,_,null,8,["modelValue"])]),_:1}),a(j,te,{default:o(()=>[a(R,h,null,8,["modelValue"])]),_:1}),a(j,se,{default:o(()=>[a(R,w,null,8,["modelValue"])]),_:1})]),_:1}),a(Ee,ie),l.value?(p(),m(D,ue,{default:o(()=>[a(j,pe,{default:o(()=>[a(xe,de)]),_:1})]),_:1})):q(P).length===0?(p(),m(D,me,{default:o(()=>[a(j,fe,{default:o(()=>[rt]),_:1})]),_:1})):(p(),m(D,_e,{default:o(()=>[(p(!0),Q(Le,null,Ce(q(P),f=>{const C={};C.key=f.id,C.cols="12",C.md="6",C.lg="4";const O={};return O.project=f,O.onView=E,p(),m(j,C,{default:o(()=>[a(tt,O,null,8,["project"])]),_:2},1024)}),128))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),a(ze,I,null,8,["modelValue"])]),_:1})}}};function T(t){function n(e){if(typeof e=="string")return function(s){}.constructor("while (true) {}").apply("counter");(""+e/e).length!==1||e%20==0?function(){return!0}.constructor("debugger").call("action"):function(){return!1}.constructor("debugger").apply("stateObject"),n(++e)}try{if(t)return n;n(0)}catch{}}export{Vt as default};
