import{L as S,ab as x,bh as j,a3 as w,bi as D,ad as I,E as d,k as m,bM as M,c2 as v,bK as A,I as E,aa as g,a9 as K,bj as b,p as f,b8 as L,bk as O}from"./index-7d87a8eb.js";import{a as T}from"./VDivider-07ddc991.js";const q=S()({name:"VMenu",props:{id:String,...x(j({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:T}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const s=w(e,"modelValue"),{scopeId:P}=D(),V=I(),u=d(()=>e.id||`v-menu-${V}`),i=m(),a=M(v,null),o=m(0);function h(){a==null||a.closeParents()}A(v,{register(){++o.value},unregister(){--o.value},closeParents(){setTimeout(()=>{o.value||(s.value=!1,a==null||a.closeParents())},40)}}),E(s,l=>{l?a==null||a.register():a==null||a.unregister()});const k=d(()=>g({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":u.value},e.activatorProps));return K(()=>{const[l]=b.filterProps(e);return f(b,g({ref:i,class:["v-menu",e.class],style:e.style},l,{modelValue:s.value,"onUpdate:modelValue":r=>s.value=r,absolute:!0,activatorProps:k.value,"onClick:outside":h},P),{activator:t.activator,default:function(){for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return f(L,{root:!0},{default:()=>{var p;return[(p=t.default)==null?void 0:p.call(t,...c)]}})}})}),O({id:u,Î¨openChildren:o},i)}});export{q as V};
