import{L as Fe,N as ze,b9 as Ze,R as Oe,S as Ye,W as Ke,ba as Qe,a9 as Ue,p as t,G as Ce,a8 as ht,Z as qe,E as J,ac as We,Q as et,bb as tt,O as at,bc as yt,Y as Ge,a1 as vt,$ as _t,ap as I,bd as bt,be as gt,bf as kt,k as N,I as _e,o as f,b as U,y as a,aI as K,b0 as X,C as O,m,A as x,b6 as ce,D as V,aD as be,aJ as ne,aL as Pe,q as D,b5 as ge,aK as te,c as z,aj as A,F as se,a as me,at as Ae,aG as ke,aH as we,aZ as He,bg as W,r as de,b1 as xe,a$ as ye,ar as De,w as Re,H as lt,ah as Ie,s as st,b4 as wt,t as xt}from"./index-cf95e66f.js";import{V as Ve}from"./VDialog-8f67e5ba.js";import{a as pe,u as Vt,_ as Ct,V as qt}from"./ProjectCreateDialog-77bce616.js";import{V as le,a as L}from"./VRow-96f9217b.js";import{V as Z}from"./VChip-46d00042.js";import{V as Y}from"./VDivider-bcf50448.js";import{V as ae}from"./VSpacer-afa7bdab.js";import{b as rt,c as fe,V as Dt}from"./VTabs-3c942bb7.js";import{V as ot,a as he}from"./VSlideGroup-8ed825ac.js";import{V as je}from"./VForm-2f010874.js";import{b as ve}from"./VTextField-99c8e7a7.js";import{V as ue}from"./VSelect-4c364f3a.js";import{a as jt,g as Me}from"./formatters-bc1e6282.js";import{b as Je}from"./route-block-c234be29.js";import"./index-8952901a.js";import"./ssrBoot-d55185e4.js";import"./VList-03cc09b9.js";import"./VMenu-19c63b34.js";import"./VCheckboxBtn-8a51f4f3.js";const r=re;(function(){const l=re,o=Ee();for(;;)try{if(parseInt(l(547))/1*(-parseInt(l(454))/2)+parseInt(l(448))/3*(parseInt(l(615))/4)+parseInt(l(701))/5*(-parseInt(l(514))/6)+-parseInt(l(996))/7+parseInt(l(971))/8*(parseInt(l(706))/9)+parseInt(l(509))/10*(-parseInt(l(659))/11)+parseInt(l(559))/12*(parseInt(l(499))/13)===831176)break;o.push(o.shift())}catch{o.push(o.shift())}})();const ft=function(){let l=!0;return function(o,e){const c=l?function(){if(e){const C=e.apply(o,arguments);return e=null,C}}:function(){};return l=!1,c}}();(function(){ft(this,function(){const l=re,o=new RegExp("function *\\( *\\)"),e=new RegExp(l(954),"i"),c=Xe(l(562));o[l(754)](c+"chain")&&e[l(754)](c+"input")?Xe():c("0")})()})();function re(l,o){const e=Ee();return re=function(c,C){return e[c-=439]},re(l,o)}function Ee(){const l=["Project deleted successfully","preview-overlay d-flex justify-center align-center","update","Failed to create comment","outlined","preliminary_budget","value","isAdmin","tabler-info-circle","Failed to delete requirement","additional_requirements","Comment deleted successfully","constructor","Estimated Cost ($)","updateProject","projectId","deleteComment","Unknown User","color_scheme","default","Failed to start development plan generation","Failed to delete project","mockup-iframe","compact","pdf","horizontal","isCurrent","Failed to create development plan"," New Version ","plans","test"," Create Version ","mb-2","v-timeline--align-","v-timeline-divider__dot","my-5","Try adjusting your filters to see more results.","Mockup Preview","text-caption","other","text-h4 font-weight-bold","comment-text mt-2 whitespace-pre-wrap","mockup","icon","Failed to add comment: ","Plan version created successfully","text-body-2 whitespace-pre-wrap","500","opposite","message","stateObject","data-v-39a9286f","700","Hours","disabled","development-plan","Type:","iframe"," Mockups "," Add ","log","html-preview","Are you sure you want to delete this project? This action cannot be undone.","This project does not have any requirements yet.","SRS export started successfully","update:modelValue","Mockup updated successfully","onSubmit","whitespace-pre-wrap","Functional","Not set","currentPlan","800px","text-h3","requirements","d-flex justify-center align-center","active","Estimated cost is required","format","text-caption font-weight-medium","Failed to set as current version","whitespace-pre-wrap mb-4","tabler-palette","me-3","Requirement Details"," Only one version available. Create more versions to see the history. ","mt-5","color-swatch rounded me-1","Failed to set current plan version","Plan not found","pt-3 px-6","v-timeline--side-","status","Failed to delete comment","Estimated cost must be a number","success","tabler-file-description","Mockup Name","Created: ","Failed to update mockup","Failed to fetch requirement","currentRequirement","Edit Requirement","development_plan","Active","Failed to start requirements generation","Failed to start mockups generation: ","text-body-1 text-medium-emphasis mb-6","text-5xl","?project=","Failed to fetch development plans","Roles & Hours (JSON format)","push","Update","center","ms-1","Failed to fetch plan version"," Add Comment ","v-timeline-divider__before","vertical"," This mockup doesn't have any HTML content to display. ","lineColor","Development plan generation started successfully","tabler-device-mobile"," for this development plan. "," No versions available yet. ","text","ProjectDetailsInfo","tabler-history","user","tabler-calendar-plus","tabler-device-desktop","There was an error loading the project details","/service/development-plans/","currentVersionNumber","tabler-chart-bar","text-caption text-medium-emphasis ml-2","onClick","Updated: ","apply","lineThickness","All Statuses","v-table","All Categories","d-flex flex-column gap-4","Description is required","split","small","userData","top","isDialogVisible","mockup-content pa-0","tabler-function","Try adjusting your search to see more results.","v-timeline-item__opposite","DevelopmentPlanStore"," Create Development Plan ","thead","calc(var(--v-timeline-dot-size) / 2 + ","category","d-flex flex-wrap justify-space-between align-center","Edit Mockup","[id]","hideDot","Failed to delete requirement: ","/new_version/","deadline","Failed to update plan version","generateMockups","includes","elevated","Version not found","mt-3","setCurrentPlanVersion","text-caption me-4","span","comments","none","Target Users","Create New Plan Version","text-subtitle-1 mb-4","Format: [{ 'role': 'Developer', 'hours': 40, 'cost': 4000 }]","overflow-hidden position-relative rounded bg-grey-lighten-4","elevation","Non-Functional","__scopeId","filter","Budget:","show","hasManagerPermission","lineInset","x-small","d-flex align-center justify-space-between","Failed to set as current version: ","Version History","/service/development-plan-versions/","short","data-v-3f565aa3","find","short_description"," Confirm ","tabler-eye","Created:","data","parse","Failed to update project","v-timeline-divider__inner-dot","currency","roles_and_hours","version_number","archived","mobile","requirementData","truncateLine","username","technology_stack","ProjectRequirementsList","Failed to fetch mockup","RequirementDetailsDialog","text-h6 mb-2","updateRequirement","d-flex py-3 px-5","color","tabler-calendar","Roles & Hours Breakdown","pb-0"," Save Changes ","editMode","has-moderator-permission","target_users","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tbody","Plan version updated successfully","secondary","side","size","changed_by","No Development Plan","allow-same-origin allow-scripts allow-popups allow-forms","dot","tabler-world-www","text-caption text-medium-emphasis","primary","assign","Failed to update plan version: ","while (true) {}","Estimated Cost","3049480FZckyo","call","text-body-1 whitespace-pre-wrap","role","table","tabler-file-search","UI/UX","findIndex","fetchPlanVersionById","px-5 pt-4","Description","non_functional_requirements","generatePlan","planId","tonal","text-caption ms-3","number","tabler-star","tabler-calendar-event","v-timeline-item__body","d-flex justify-end mt-2"," Last updated: ","/service/mockups/","generateRequirements","text-h5","2431198hrRRoY","d-flex flex-column gap-2","created_at","tabler-calendar-time","dotColor"," Refresh ","refresh","Title is required","d-flex align-center mb-5","current_version_number","tabler-list-details","pa-6","900","411ZACcQX","fetchProjectById","text-center","English","d-flex flex-wrap justify-space-between mb-4","tabler-code-off","3079058MnBmwa","tabler-api","me-1","icon-defaults","Requirement: ","/service/requirements/","text-h4 mb-4","Failed to create plan version"," Back to Projects ","html_content","align","d-flex flex-column","completed","150px","2-digit"," Cancel ","class","bottom","tabler-edit","$el","tag","direction","updateMockup","ms-2"," Development Plan ","Created","function","confirmationMsg","Error parsing roles and hours:","tabler-file-export","USD","history","pa-4","Non-Functional Requirements"," View Full Details ","PlanVersionDialog","all"," Add Requirement ","fullscreen","rules","exportSrs","tabler-maximize","v-timeline--","Status","iconColor","13jSseAY","querySelector","This project does not have any mockups yet.","name","Other"," Delete ","toLocaleDateString","d-flex align-center","Role"," History ","10HjWiBR","Failed to delete mockup: ","text-caption text-medium-emphasis text-right"," Generate Development Plan ","d-flex align-center mb-2","6navduh","Title","tabler-messages","font-weight-medium","update:isDialogVisible","project-info-card","v-timeline--truncate-line-end","is-admin","params","Search requirements...","deleteRequirement","text-body-2 mb-3","operating_system","text-medium-emphasis font-weight-medium me-3"," Details ","text-subtitle-1 font-weight-bold mb-2","resetValidation","Archived","v-timeline--truncate-line-start"," Changed by: ","white","ProjectDevelopmentPlan","text-right","error","Failed to delete project: ","changed_at","div","Color Scheme:","mockup-preview mb-3"," Set as Current ","Actions","No History Available"," This project does not have a development plan yet. ","1ssLsvk","notes","text-medium-emphasis text-center","mb-3","put","confirm","calc(100vh - 120px)","post","Failed to update development plan","Title must be less than 255 characters","Failed to start SRS export: ","strong","23995452ReyXNu","priority_modules","Roles & Hours","init"," View HTML ","Mockups generation started successfully","deleteProject","description","Failed to create mockup","get","createPlanVersion","end","Cost","Draft","toLowerCase","desktop","currentMockup","d-flex align-center ms-4","is_admin","has-manager-permission","Additional Requirements","project-data","Failed to start mockups generation","tabler-plus","uiux","version","Requirement deleted successfully","120px","Set as current version successfully","start","Deleting project: ","v-timeline-divider__after","data-v-c0e4dfba","project-id","Failed to delete comment: ","HTML Content","auto"," Current ","hideOpposite","getBoundingClientRect","draft","RequirementCreateDialog","text-center pa-6","density","Failed to start requirements generation: ","developmentPlan","Failed to fetch requirements","numeric","action","text-caption text-capitalize","Technology Stack","tabler-tag","Failed to create requirement","Failed to load project details","mockup-card h-100","Version","35828prcFFi","VTimelineDivider","70vh","Requirement Title","VTable"," Export SRS ","...","formRef","Completed"," Retry ","Create New Requirement","substring","mb-4","tabler-trash","d-flex align-center justify-space-between mb-4","Search mockups...","tabler-file-code","submit","Operating System","tabler-search","Failed to delete mockup","Comment added successfully","RequirementStore","No Mockups Found","tabler-file-check","requirement-card","gger","data-v-b1d59641","fixedFooter","tabler-arrow-left","length","d-flex flex-column justify-center align-center pa-6","IconBtn","loading","d-flex pt-5 px-5","string","Technical Details","Failed to create development plan: ","cost","requirement","Notes","text-center pa-4","v-table__wrapper","Are you sure you want to delete this mockup? This action cannot be undone.","7530237RKHXhv","website","hours","current-version-number","VTimelineItem","fillDot","calc(100vh - 180px)","Deadline:","estimated_cost",'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',"height","400px","Last Updated:","/service/requirement-comments/","text-medium-emphasis","projects","300px","info"," Development Plan v","100%","project","NumberFormat","prevent"," Edit ","tabler-x","title","debu","mockups","Category","Requirement created successfully","me-2","created_by","hasModeratorPermission","warning","deleteMockup","tabler-refresh","trim","responsibleUser","No HTML Content","nonfunctional","modelValue","both","1026645yCumTd","data-v-038e9f43","en-US","application_description","Failed to update requirement","9yKRtCN","replace","tabler-code","data-v-9d431090","style","functional","createComment","fixedHeader","text-medium-emphasis d-flex align-center","Project updated successfully","Edit Plan Version","createDevelopmentPlan","text-lg font-weight-medium","updated_at","mockup-metadata d-flex align-center px-6 py-3","wrapper","v-timeline","delete"];return(Ee=function(){return l})()}const Le=Fe()({name:r(619),props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ze(),...Ze(),...Oe(),...Ye()},setup(l,o){const e=r;let{slots:c}=o;const{themeClasses:C}=Ke(l),{densityClasses:F}=Qe(l);return Ue(()=>t(l[e(474)],{class:[e(866),{"v-table--fixed-height":!!l.height,"v-table--fixed-header":l[e(713)],"v-table--fixed-footer":l[e(643)],"v-table--has-top":!!c[e(873)],"v-table--has-bottom":!!c[e(471)],"v-table--hover":l.hover},C[e(730)],F[e(730)],l[e(470)]],style:l.style},{default:()=>{var q,w,v;return[(q=c[e(873)])==null?void 0:q.call(c),c[e(743)]?t(e(540),{class:e(657),style:{height:Ce(l[e(669)])}},[t(e(975),null,[c[e(743)]()])]):(w=c[e(721)])==null?void 0:w.call(c),(v=c[e(471)])==null?void 0:v.call(c)]}})),{}}}),St=Fe()({name:"VTimeline",props:{align:{type:String,default:r(838),validator:l=>[r(838),r(588)][r(893)](l)},direction:{type:String,default:"vertical",validator:l=>[r(843),r(749)][r(893)](l)},justify:{type:String,default:r(595),validator:l=>["auto","center"][r(893)](l)},side:{type:String,validator:l=>l==null||[r(588),r(570)][r(893)](l)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:l=>[r(588),r(570),r(700)].includes(l)},...ze(),...Ze(),...Oe(),...Ye()},setup(l,o){const e=r;let{slots:c}=o;const{themeClasses:C}=Ke(l),{densityClasses:F}=Qe(l);ht({VTimelineDivider:{lineColor:qe(l,e(845))},VTimelineItem:{density:qe(l,e(602)),lineInset:qe(l,e(914))}});const q=J(()=>{const v=e,d=l[v(958)]?l[v(958)]:l[v(602)]!=="default"?v(570):null;return d&&v(815)+d}),w=J(()=>{const v=e,d=[v(532),v(520)];switch(l[v(937)]){case v(700):return d;case v(588):return d[0];case v(570):return d[1];default:return null}});return Ue(()=>t(l.tag,{class:[e(722),e(496)+l[e(475)],e(757)+l[e(464)],"v-timeline--justify-"+l.justify,w.value,{"v-timeline--inset-line":!!l[e(914)]},C[e(730)],F.value,q[e(730)],l[e(470)]],style:[{"--v-timeline-line-thickness":Ce(l[e(864)])},l[e(710)]]},c)),{}}}),Ft=Fe()({name:r(616),props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:We,iconColor:String,lineColor:String,...ze(),...et(),...tt(),...at()},setup(l,o){const e=r;let{slots:c}=o;const{sizeClasses:C,sizeStyles:F}=yt(l,e(758)),{backgroundColorStyles:q,backgroundColorClasses:w}=Ge(qe(l,"dotColor")),{roundedClasses:v}=vt(l,"v-timeline-divider__dot"),{elevationClasses:d}=_t(l),{backgroundColorClasses:R,backgroundColorStyles:P}=Ge(qe(l,e(845)));return Ue(()=>t(e(540),{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":l[e(664)]},l[e(470)]],style:l[e(710)]},[t(e(540),{class:[e(842),R[e(730)]],style:P[e(730)]},null),!l.hideDot&&t(e(540),{key:e(963),class:[e(758),d[e(730)],v[e(730)],C[e(730)]],style:F[e(730)]},[t(e(540),{class:[e(930),w.value,v[e(730)]],style:q[e(730)]},[c[e(743)]?t(bt,{key:e(457),disabled:!l[e(767)],defaults:{VIcon:{color:l[e(498)],icon:l[e(767)],size:l.size}}},c[e(743)]):t(I,{key:e(767),color:l[e(498)],icon:l[e(767)],size:l[e(959)]},null)])]),t(e(540),{class:[e(590),R[e(730)]],style:P[e(730)]},null)])),{}}}),zt=Fe()({name:r(663),props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:We,iconColor:String,lineInset:[Number,String],...ze(),...gt(),...at(),...et(),...tt(),...Oe()},setup(l,o){const e=r;let{slots:c}=o;const{dimensionStyles:C}=kt(l),F=N(0),q=N();return _e(q,w=>{var d;const v=re;w&&(F[v(730)]=((d=w[v(473)][v(500)](".v-timeline-divider__dot"))==null?void 0:d[v(598)]().width)??0)},{flush:e(554)}),Ue(()=>{var w,v;return t(e(540),{class:["v-timeline-item",{"v-timeline-item--fill-dot":l[e(664)]},l[e(470)]],style:[{"--v-timeline-dot-size":Ce(F.value),"--v-timeline-line-inset":l.lineInset?e(882)+Ce(l[e(914)])+")":Ce(0)},l[e(710)]]},[t("div",{class:e(990),style:C[e(730)]},[(w=c[e(743)])==null?void 0:w.call(c)]),t(Ft,{ref:q,hideDot:l[e(887)],icon:l[e(767)],iconColor:l[e(498)],size:l[e(959)],elevation:l[e(907)],dotColor:l[e(439)],fillDot:l[e(664)],rounded:l.rounded},{default:c[e(767)]}),l[e(602)]!==e(747)&&t("div",{class:e(878)},[!l[e(597)]&&((v=c[e(772)])==null?void 0:v.call(c))])])}),{}}}),Ut=m("span",{class:r(832)},"!",-1),Pt={class:r(718)},$e={__name:"ConfirmDialog",props:{confirmationMsg:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:[r(518),r(552)],setup(l,{emit:o}){const e=l,c=q=>{o(re(518),q)},C=()=>{o("confirm",!0),c(!1)},F=()=>{const q=re;o(q(552),!1),o(q(518),!1)};return(q,w)=>{const v=re;return f(),U(Ve,{"max-width":v(771),"model-value":e[v(874)],"onUpdate:modelValue":c},{default:a(()=>[t(K,{class:"text-center px-10 py-6"},{default:a(()=>[t(X,null,{default:a(()=>[t(O,{icon:"",variant:"outlined",color:v(692),class:"mb-4",style:{width:"88px",height:"88px","pointer-events":v(901)}},{default:a(()=>[Ut]),_:1}),m("h6",Pt,x(e[v(481)]),1)]),_:1}),t(ce,{class:"align-center justify-center gap-2"},{default:a(()=>[t(O,{variant:v(894),onClick:C},{default:a(()=>[V(v(924))]),_:1}),t(O,{color:v(957),variant:v(985),onClick:F},{default:a(()=>[V(v(469))]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ie=l=>(ke(r(921)),l=l(),we(),l),Rt={class:r(868)},It={class:r(997)},Mt={class:"d-flex align-center"},Bt=ie(()=>m(r(899),{class:r(527),style:{"min-width":r(586)}},r(926),-1)),Nt={class:r(506)},Tt=ie(()=>m(r(899),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":r(586)}},r(671),-1)),At={class:r(506)},Lt=ie(()=>m(r(899),{class:r(527),style:{"min-width":r(586)}},r(780),-1)),Ot={class:r(506)},Ht=ie(()=>m(r(899),{class:r(527),style:{"min-width":r(586)}},"Language:",-1)),Et={key:0,class:"d-flex align-center"},$t=ie(()=>m(r(899),{class:r(527),style:{"min-width":r(586)}},r(666),-1)),Gt={key:1,class:r(506)},Jt=ie(()=>m(r(899),{class:r(527),style:{"min-width":"120px"}},r(911),-1)),Xt={key:2,class:"d-flex align-center"},Zt=ie(()=>m(r(899),{class:"text-medium-emphasis font-weight-medium me-3",style:{"min-width":r(586)}},r(541),-1)),Yt={class:r(506)},Kt={class:"ms-2"},Qt={class:r(792)},Wt={class:r(868)},ea={key:0},ta=ie(()=>m("h6",{class:r(529)},r(609),-1)),aa={class:"whitespace-pre-wrap"},la={key:1},sa=ie(()=>m("h6",{class:r(529)},r(633),-1)),ra={class:r(868)},oa={class:r(805)},na={key:0,class:r(792)},ia=ie(()=>m("h6",{class:r(529)},"Detailed Description",-1)),ca={class:"whitespace-pre-wrap"},ua={class:"whitespace-pre-wrap"},da={class:"whitespace-pre-wrap"},ma=be({__name:r(851),props:{project:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(l){const o=r,e=l,c=w=>{const v=re;return w?new Date(parseInt(w))[v(505)](v(703),{year:v(606),month:"long",day:v(606)}):v(794)},C=J(()=>{const w=re;switch(e[w(679)][w(816)]){case w(599):return"warning";case w(800):return"success";case w(934):return"secondary";case"completed":return"info";default:return w(966)}}),F=J(()=>{const w=re;switch(e[w(679)].type_of_application){case w(660):return w(964);case w(935):return w(847);case w(574):return w(855);case"api":return w(455);default:return w(708)}}),q={en:o(451),ru:"Russian",de:"German"};return(w,v)=>{const d=o;return f(),U(X,{class:d(446)},{default:a(()=>[t(le,null,{default:a(()=>[t(L,{cols:"12",md:"6"},{default:a(()=>[m(d(540),Rt,[t(K,{border:"",class:d(519)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(Pe,{color:d(966),variant:"tonal",rounded:"",size:"42"},{default:a(()=>[t(I,{icon:D(F)},null,8,[d(767)])]),_:1})]),append:a(()=>[t(Z,{size:d(871),color:D(C),label:""},{default:a(()=>[V(x(ge(l[d(679)].status)),1)]),_:1},8,["color"])]),default:a(()=>[t(te,null,{default:a(()=>[V("Project Overview")]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m(d(540),It,[m("div",Mt,[Bt,m(d(899),null,x(c(l.project.created_at)),1)]),m(d(540),Nt,[Tt,m(d(899),null,x(c(l[d(679)][d(719)])),1)]),m("div",At,[Lt,t(Z,{size:d(871)},{default:a(()=>[V(x(l[d(679)].type_of_application),1)]),_:1})]),m("div",Ot,[Ht,t(Z,{size:d(871)},{default:a(()=>{return[V(x((R=l[d(679)].language,q[R]||R)),1)];var R}),_:1})]),l.project[d(890)]?(f(),z(d(540),Et,[$t,m(d(899),null,x(c(l[d(679)][d(890)])),1)])):A("",!0),l[d(679)][d(729)]?(f(),z(d(540),Gt,[Jt,m(d(899),null,"$"+x(l[d(679)][d(729)]),1)])):A("",!0),l.project[d(742)]?(f(),z(d(540),Xt,[Zt,m(d(540),Yt,[(f(!0),z(se,null,me(l[d(679)][d(742)][d(870)](","),(R,P)=>{const M=d;return f(),z(M(540),{key:P,class:M(811),style:Ae({backgroundColor:R.trim()}),title:"color"},null,4)}),128)),m(d(899),Kt,x(l[d(679)].color_scheme),1)])])):A("",!0)])]),_:1})]),_:1}),l[d(679)][d(734)]?(f(),U(K,{key:0,border:"",class:d(519)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(I,{color:d(966),icon:d(445)})]),default:a(()=>[t(te,null,{default:a(()=>[V(d(579))]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m(d(540),Qt,x(l[d(679)][d(734)]),1)]),_:1})]),_:1})):A("",!0),l[d(679)].technology_stack||l[d(679)][d(526)]?(f(),U(K,{key:1,border:"",class:"project-info-card"},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(I,{color:d(966),icon:"tabler-device-laptop-code"})]),default:a(()=>[t(te,null,{default:a(()=>[V(d(651))]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m("div",Wt,[l.project[d(939)]?(f(),z(d(540),ea,[ta,m(d(540),aa,x(l[d(679)].technology_stack),1)])):A("",!0),l[d(679)][d(526)]?(f(),z(d(540),la,[sa,m(d(540),null,x(l.project[d(526)]),1)])):A("",!0)])]),_:1})]),_:1})):A("",!0)])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[m(d(540),ra,[t(K,{border:"",class:d(519)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(I,{color:"primary",icon:d(820)})]),default:a(()=>[t(te,null,{default:a(()=>[V(d(981))]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m(d(540),oa,x(l[d(679)][d(923)]),1),l[d(679)][d(704)]?(f(),z(d(540),na,[ia,m(d(540),null,x(l[d(679)][d(704)]),1)])):A("",!0)]),_:1})]),_:1}),l[d(679)][d(953)]?(f(),U(K,{key:0,border:"",class:d(519)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(I,{color:"primary",icon:"tabler-users"})]),default:a(()=>[t(te,null,{default:a(()=>[V(d(902))]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m(d(540),ca,x(l[d(679)][d(953)]),1)]),_:1})]),_:1})):A("",!0),l[d(679)].non_functional_requirements?(f(),U(K,{key:1,border:"",class:"project-info-card"},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(I,{color:d(966),icon:"tabler-chart-bubble"})]),default:a(()=>[t(te,null,{default:a(()=>[V(d(487))]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m(d(540),ua,x(l[d(679)][d(982)]),1)]),_:1})]),_:1})):A("",!0),l.project.priority_modules?(f(),U(K,{key:2,border:"",class:d(519)},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(I,{color:"primary",icon:d(988)})]),default:a(()=>[t(te,null,{default:a(()=>[V("Priority Modules/Features")]),_:1})]),_:1}),t(Y),t(X,null,{default:a(()=>[m(d(540),da,x(l.project[d(560)]),1)]),_:1})]),_:1})):A("",!0)])]),_:1})]),_:1})]),_:1})}}},[["__scopeId",r(921)]]),nt=He({id:r(637),state:()=>({requirements:[],currentRequirement:null,loading:!1,error:null}),actions:{async fetchRequirements(l=null){const o=r;this[o(648)]=!0;try{let e=o(459);l&&(e+="?project="+l);const c=await W[o(568)](e);return c.status===200?(this[o(798)]=c.data,{data:c[o(927)],error:null}):{data:[],error:c[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||o(605),{data:[],error:this[o(537)]}}finally{this[o(648)]=!1}},async fetchRequirementById(l){const o=r;this.loading=!0;try{const e=await W[o(568)]("/service/requirements/"+l+"/");return e[o(816)]===200?(this.currentRequirement=e[o(927)],{data:e[o(927)],error:null}):{data:null,error:e[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||o(824),{data:null,error:this[o(537)]}}finally{this[o(648)]=!1}},async createRequirement(l){const o=r;this[o(648)]=!0;try{const e=await W[o(554)](o(459),l);return e[o(816)]===201?(this.requirements.length&&this[o(798)][o(836)](e.data),{data:e[o(927)],error:null}):{data:null,error:e[o(927)]}}catch(e){return this.error=e.message||o(611),{data:null,error:this[o(537)]}}finally{this[o(648)]=!1}},async updateRequirement(l,o){const e=r;this[e(648)]=!0;try{const c=await W[e(551)](e(459)+l+"/",o);if(c[e(816)]===200){if(this[e(798)][e(645)]){const C=this[e(798)][e(978)](F=>F.id===l);C!==-1&&(this[e(798)][C]=c[e(927)])}return this[e(825)]&&this[e(825)].id===l&&(this[e(825)]=c[e(927)]),{data:c[e(927)],error:null}}return{data:null,error:c[e(927)]}}catch(c){return this[e(537)]=c[e(773)]||e(705),{data:null,error:this[e(537)]}}finally{this[e(648)]=!1}},async deleteRequirement(l){const o=r;this[o(648)]=!0;try{const e=await W[o(723)](o(459)+l+"/");return e[o(816)]===204?(this[o(798)][o(645)]&&(this.requirements=this.requirements.filter(c=>c.id!==l)),this[o(825)]&&this[o(825)].id===l&&(this[o(825)]=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(537)]=e[o(773)]||o(733),{success:!1,error:this[o(537)]}}finally{this[o(648)]=!1}},async createComment(l,o){const e=r;this[e(648)]=!0;try{const c=await W.post(e(672),{requirement:l,text:o[e(850)],status:o[e(816)]||"active",responsible_user:o[e(696)]||null});return c[e(816)]===201?{data:c[e(927)],error:null}:{data:null,error:c[e(927)]}}catch(c){return this[e(537)]=c[e(773)]||e(727),{data:null,error:this[e(537)]}}finally{this.loading=!1}},async deleteComment(l){const o=r;this[o(648)]=!0;try{const e=await W[o(723)]("/service/requirement-comments/"+l+"/");return e.status===204?{success:!0,error:null}:{success:!1,error:e[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||o(817),{success:!1,error:this[o(537)]}}finally{this[o(648)]=!1}}}}),Be=l=>(ke(r(702)),l=l(),we(),l),pa={key:0,class:r(995)},fa={key:1,class:r(995)},ha={key:0},ya={key:1},va={class:r(443)},_a={class:r(714)},ba={class:r(898)},ga={class:r(762)},ka={class:r(460)},wa={class:"text-body-1 whitespace-pre-wrap"},xa={key:0,class:"text-center pa-6"},Va=Be(()=>m("h4",{class:r(943)},r(545),-1)),Ca=Be(()=>m("p",{class:r(673)}," This requirement hasn't been modified since its creation. ",-1)),qa={key:1},Da={class:"text-caption"},ja={class:r(965)},Sa={class:r(513)},Fa={class:r(762)},za={class:r(770)},Ua={class:r(991)},Pa={key:1,class:r(601)},Ra=Be(()=>m("h4",{class:r(943)},"No Comments Yet",-1)),Ia=Be(()=>m("p",{class:r(673)}," Be the first to comment on this requirement. ",-1)),Ma={key:2},Ba={class:"d-flex align-center"},Na={class:r(506)},Ta={class:r(860)},Aa={class:r(765)},La=be({__name:r(942),props:{modelValue:{type:Boolean,default:!1},requirement:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},hasModeratorPermission:{type:Boolean,default:!1}},emits:[r(789),r(726),r(723)],setup(l,{emit:o}){const e=r,c=l,C=J({get:()=>c[e(699)],set:y=>o(e(789),y)}),F=nt(),q=N(0),w=N(!1),v=N({...c.requirement}),d=N(""),R=N(!1),P=N({show:!1,text:"",color:e(819)}),M=[{title:e(793),value:e(711)},{title:e(908),value:e(698)},{title:"UI/UX",value:e(583)},{title:e(503),value:e(763)}],B=[{title:e(572),value:e(599)},{title:e(828),value:"active"},{title:e(531),value:e(934)},{title:"Completed",value:"completed"}],g=y=>{const p=e;switch(y){case p(711):return p(966);case p(698):return p(957);case p(583):return p(819);case"other":return"info";default:return p(966)}},E=y=>{const p=e;switch(y){case p(599):return p(692);case p(800):return p(819);case p(934):return p(957);case p(466):return p(676);default:return p(966)}},j=J(()=>{const y=e;return c[y(654)][y(485)]||[]}),k=J(()=>{const y=e;return c[y(654)][y(900)]||[]}),b=y=>{const p=e;return y?(y=parseInt(y),new Date(y).toLocaleDateString(p(703),{year:p(606),month:p(920),day:p(606),hour:p(468),minute:p(468)})):""},s=()=>{const y=e;w[y(730)]&&(v[y(730)]={...c[y(654)]}),w.value=!w.value},T=()=>{const y=e;o(y(726),v[y(730)]),w.value=!1},_=()=>{o(e(723))},Q=async()=>{const y=e;if(d[y(730)][y(695)]()){R[y(730)]=!0;try{const{data:p,error:i}=await F[y(712)](c[y(654)].id,{text:d[y(730)],status:y(800)});if(p&&!i){ee(y(636)),d[y(730)]="";const{data:S}=await F.fetchRequirementById(c[y(654)].id);S&&Object[y(967)](c[y(654)],S)}else ee("Failed to add comment","error")}catch(p){ee(y(768)+p[y(773)],y(537))}finally{R[y(730)]=!1}}},ee=(y,p=e(819))=>{P[e(730)]={show:!0,text:y,color:p}};return _e(()=>c[e(654)],y=>{v[e(730)]={...y}},{deep:!0}),(y,p)=>{const i=e,S=de(i(647));return f(),U(Ve,{modelValue:D(C),"onUpdate:modelValue":p[10]||(p[10]=u=>De(C)?C[i(730)]=u:null),"max-width":i(447),scrollable:""},{default:a(()=>[t(K,null,{default:a(()=>[t(te,{class:i(649)},{default:a(()=>[w[i(730)]?(f(),z("h5",pa,i(826))):(f(),z("h5",fa,i(808))),t(ae),t(S,{onClick:p[0]||(p[0]=u=>C[i(730)]=!1)},{default:a(()=>[t(I,{icon:i(683)})]),_:1})]),_:1}),t(X,{class:i(949)},{default:a(()=>[t(rt,{modelValue:q[i(730)],"onUpdate:modelValue":p[1]||(p[1]=u=>q[i(730)]=u),"slider-color":"primary","align-tabs":i(588)},{default:a(()=>[t(fe,{value:"0"},{default:a(()=>[t(I,{size:"18",icon:i(732),start:""}),V(i(528))]),_:1}),t(fe,{value:"1"},{default:a(()=>[t(I,{size:"18",icon:i(852),start:""}),V(i(508)),D(j)[i(645)]?(f(),U(Z,{key:0,size:i(915),color:i(966),class:"ms-2"},{default:a(()=>[V(x(D(j)[i(645)]),1)]),_:1})):A("",!0)]),_:1}),t(fe,{value:"2"},{default:a(()=>[t(I,{size:"18",icon:i(516),start:""}),V(" Comments "),D(k).length?(f(),U(Z,{key:0,size:"x-small",color:i(966),class:"ms-2"},{default:a(()=>[V(x(D(k)[i(645)]),1)]),_:1})):A("",!0)]),_:1})]),_:1},8,[i(699)])]),_:1}),t(Y),t(X,{class:i(446),style:{"min-height":i(670),"max-height":i(617)}},{default:a(()=>[t(ot,{modelValue:q[i(730)],"onUpdate:modelValue":p[7]||(p[7]=u=>q[i(730)]=u),class:i(810)},{default:a(()=>[t(he,{value:"0"},{default:a(()=>[w.value?(f(),z(i(540),ha,[t(je,{onSubmit:xe(T,[i(681)])},{default:a(()=>[t(le,{class:i(896)},{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(ve,{modelValue:v[i(730)].title,"onUpdate:modelValue":p[2]||(p[2]=u=>v[i(730)][i(684)]=u),label:i(515),required:"",rules:[u=>!!u||i(442)]},null,8,[i(699),i(493)])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:v[i(730)].category,"onUpdate:modelValue":p[3]||(p[3]=u=>v.value[i(883)]=u),label:i(687),items:M,required:""},null,8,[i(699)])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:v.value[i(816)],"onUpdate:modelValue":p[4]||(p[4]=u=>v[i(730)][i(816)]=u),label:i(497),items:B,required:""},null,8,[i(699)])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:v[i(730)].description,"onUpdate:modelValue":p[5]||(p[5]=u=>v[i(730)][i(566)]=u),label:i(981),required:"",rows:"8",rules:[u=>!!u||i(869)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,[i(791)])])):(f(),z("div",ya,[m("div",va,[t(Z,{color:g(l[i(654)][i(883)]),size:i(871),label:"",class:i(689)},{default:a(()=>[V(x(l.requirement[i(883)]),1)]),_:1},8,[i(946)]),t(Z,{color:E(l[i(654)][i(816)]),size:i(871),label:""},{default:a(()=>[V(x(ge(l[i(654)][i(816)])),1)]),_:1},8,["color"]),t(Z,{color:"secondary",size:i(871),label:"",class:i(477)},{default:a(()=>[V(" v"+x(l.requirement[i(933)]),1)]),_:1}),t(ae),m("div",_a,[t(I,{size:"18",icon:"tabler-calendar",class:i(456)}),m("span",ba,i(862)+x(b(l[i(654)].updated_at)),1),t(I,{size:"18",icon:i(854),class:i(456)}),m(i(899),ga,i(822)+x(b(l.requirement.created_at)),1)])]),m("h4",ka,x(l[i(654)].title),1),m(i(540),wa,x(l[i(654)][i(566)]),1)]))]),_:1}),t(he,{value:"1"},{default:a(()=>[D(j)[i(645)]===0?(f(),z(i(540),xa,[t(I,{icon:i(852),size:"64",color:"secondary",class:i(550)}),Va,Ca])):(f(),z(i(540),qa,[t(St,{density:i(747),align:i(588)},{default:a(()=>[(f(!0),z(se,null,me(D(j),(u,n)=>{const h=i;return f(),U(zt,{key:n,"dot-color":h(966),size:h(871)},{opposite:a(()=>[m(h(540),Da,x(b(u[h(539)])),1),m("div",ja,"v"+x(u[h(933)]),1)]),default:a(()=>[t(K,{border:""},{default:a(()=>[t(ne,null,{append:a(()=>[t(Z,{color:E(u[h(816)]),size:"small",label:"",class:h(477)},{default:a(()=>[V(x(u.status),1)]),_:2},1032,[h(946)])]),default:a(()=>[t(te,null,{default:a(()=>[V(x(u[h(684)]),1)]),_:2},1024)]),_:2},1024),t(X,null,{default:a(()=>[m(h(540),Sa,[t(Z,{color:g(u[h(883)]),size:"small",label:"",class:h(689)},{default:a(()=>[V(x(u[h(883)]),1)]),_:2},1032,[h(946)]),m(h(899),Fa,h(533)+x(u[h(960)]?u.changed_by:"Unknown"),1)]),m("div",za,x(u.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)}),128))]),_:1})]))]),_:1}),t(he,{value:"2"},{default:a(()=>[t(le,{class:i(896)},{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:d[i(730)],"onUpdate:modelValue":p[6]||(p[6]=u=>d[i(730)]=u),label:"Add a comment",rows:"3",counter:"",disabled:R[i(730)]},null,8,[i(699),i(778)]),m(i(540),Ua,[t(O,{color:i(966),size:i(871),loading:R.value,disabled:!d[i(730)].trim(),onClick:Q},{default:a(()=>[V(i(841))]),_:1},8,["loading","disabled"])])]),_:1}),t(L,{cols:"12"},{default:a(()=>[D(k)[i(645)]?(f(),U(Y,{key:0,class:i(627)})):A("",!0),D(k).length===0?(f(),z(i(540),Pa,[t(I,{icon:i(516),size:"64",color:i(957),class:i(550)}),Ra,Ia])):(f(),z(i(540),Ma,[(f(!0),z(se,null,me(D(k),u=>{const n=i;return f(),z("div",{key:u.id,class:"comment-item mb-4"},[t(K,{border:""},{default:a(()=>[t(X,{class:"py-2"},{default:a(()=>[m(n(540),Ba,[t(Pe,{color:n(966),variant:n(985),size:"36",class:"me-3"},{default:a(()=>[t(I,{icon:"tabler-user"})]),_:1}),m("div",null,[m(n(540),Na,[m(n(558),null,x(u[n(853)]?u.user[n(938)]:n(741)),1),m(n(540),Ta,x(b(u[n(998)])),1)])]),t(ae),l.isAdmin||l[n(913)]?(f(),U(S,{key:0,size:n(871),color:n(537),variant:n(850),onClick:h=>(async oe=>{const G=e;R[G(730)]=!0;try{const{success:H,error:$}=await F[G(740)](oe);if(H&&!$){ee(G(735));const{data:Te}=await F.fetchRequirementById(c[G(654)].id);Te&&Object.assign(c[G(654)],Te)}else ee("Failed to delete comment",G(537))}catch(H){ee(G(593)+H.message,"error")}finally{R.value=!1}})(u.id),disabled:R[n(730)]},{default:a(()=>[t(I,{icon:n(628),size:"18"})]),_:2},1032,[n(861),n(778)])):A("",!0)]),m(n(540),Aa,x(u[n(850)]),1)]),_:2},1024)]),_:2},1024)])}),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,[i(699)])]),_:1}),t(Y),t(ce,{class:"pa-4"},{default:a(()=>[w[i(730)]?(f(),z(se,{key:0},[t(O,{color:i(957),variant:"tonal",onClick:s},{default:a(()=>[V(" Cancel ")]),_:1}),t(ae),t(O,{color:i(966),onClick:T},{default:a(()=>[V(i(950))]),_:1})],64)):(f(),z(se,{key:1},[l[i(731)]?(f(),U(O,{key:0,color:i(537),variant:i(985),"prepend-icon":i(628),onClick:_},{default:a(()=>[V(" Delete ")]),_:1})):A("",!0),t(ae),l[i(691)]?(f(),U(O,{key:1,color:"primary","prepend-icon":i(472),onClick:s},{default:a(()=>[V(i(682))]),_:1})):A("",!0)],64))]),_:1})]),_:1}),t(ye,{modelValue:P[i(730)][i(912)],"onUpdate:modelValue":p[9]||(p[9]=u=>P.value[i(912)]=u),color:P[i(730)][i(946)],timeout:5e3},{actions:a(()=>[t(S,{onClick:p[8]||(p[8]=u=>P[i(730)][i(912)]=!1)},{default:a(()=>[t(I,{icon:"tabler-x"})]),_:1})]),default:a(()=>[V(x(P[i(730)][i(850)])+" ",1)]),_:1},8,[i(699),i(946)])]),_:1},8,["modelValue"])}}},[[r(909),r(702)]]),Oa={class:r(995)},Ha={__name:r(600),props:{modelValue:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},requirementData:{type:Object,default:()=>({})}},emits:[r(789),r(632)],setup(l,{emit:o}){const e=r,c=l,C=J({get:()=>c[e(699)],set:g=>o(e(789),g)}),F=N({title:c[e(951)]&&c[e(936)]?c[e(936)][e(684)]:"",description:c[e(951)]&&c[e(936)]?c[e(936)][e(566)]:"",category:c.editMode&&c[e(936)]?c.requirementData[e(883)]:e(711),status:c[e(951)]&&c[e(936)]?c[e(936)][e(816)]:"draft"}),q=[g=>!!g||e(442),g=>g.length<=255||e(556)],w=[g=>!!g||e(869)],v=[{title:"Functional",value:e(711)},{title:e(908),value:e(698)},{title:e(977),value:e(583)},{title:e(503),value:e(763)}],d=[{title:e(572),value:e(599)},{title:"Active",value:"active"},{title:"Archived",value:e(934)},{title:e(623),value:"completed"}],R=N(null),P=()=>{const g=e;F[g(730)]={title:"",description:"",category:"functional",status:g(599)},R[g(730)]&&R[g(730)][g(530)]()},M=()=>{C[e(730)]=!1,P()},B=async()=>{const g=e,{valid:E}=await R[g(730)].validate();E&&(o(g(632),F[g(730)]),C[g(730)]=!1,P())};return _e(C,g=>{g||P()}),(g,E)=>{const j=e,k=de(j(647));return f(),U(Ve,{modelValue:D(C),"onUpdate:modelValue":E[4]||(E[4]=b=>De(C)?C[j(730)]=b:null),"max-width":j(776),persistent:""},{default:a(()=>[t(K,null,{default:a(()=>[t(te,{class:"d-flex pt-5 px-5"},{default:a(()=>[m("h5",Oa,x(c[j(951)]?"Edit Requirement":j(625)),1),t(ae),t(k,{onClick:M},{default:a(()=>[t(I,{icon:"tabler-x"})]),_:1})]),_:1}),t(X,{class:j(980)},{default:a(()=>[t(je,{ref_key:"formRef",ref:R,onSubmit:xe(B,["prevent"])},{default:a(()=>[t(le,{class:j(896)},{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(ve,{modelValue:F[j(730)][j(684)],"onUpdate:modelValue":E[0]||(E[0]=b=>F.value[j(684)]=b),label:j(618),rules:q,required:""},null,8,["modelValue"])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:F[j(730)].category,"onUpdate:modelValue":E[1]||(E[1]=b=>F.value[j(883)]=b),label:"Category",items:v,required:""},null,8,[j(699)])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:F.value.status,"onUpdate:modelValue":E[2]||(E[2]=b=>F[j(730)][j(816)]=b),label:j(497),items:d,required:""},null,8,[j(699)])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:F[j(730)].description,"onUpdate:modelValue":E[3]||(E[3]=b=>F[j(730)][j(566)]=b),label:"Description",rules:w,required:"",rows:"6"},null,8,[j(699)])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(Y),t(ce,{class:j(486)},{default:a(()=>[t(O,{variant:j(985),color:j(957),onClick:M},{default:a(()=>[V(" Cancel ")]),_:1}),t(ae),t(O,{color:"primary",onClick:B},{default:a(()=>[V(x(c[j(951)]?j(837):"Create")+" Requirement ",1)]),_:1})]),_:1})]),_:1})]),_:1},8,[j(699)])}}},Ea={key:0,class:r(799),style:{height:"300px"}},$a={key:1,class:r(656)},Ga=(Se=()=>m("h4",{class:"text-h6 mb-2"},"No Requirements Found",-1),ke(r(775)),Se=Se(),we(),Se),Ja={class:r(831)},Xa={class:r(525)},Za={class:"d-flex align-center justify-space-between"},Ya={class:r(506)},Ka={class:r(608)},Qa={class:r(506)},Wa={class:"text-caption"},el={class:r(506)},tl={class:r(762)},al=be({__name:r(940),props:{projectId:{type:String,required:!0},requirements:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[r(441)],setup(l,{emit:o}){const e=r,c=l,C=nt(),F=Re(),q=N(null),w=N(e(490)),v=N(e(490)),d=N(""),R=N(!1),P=N(!1),M=N(!1),B=N(!1),g=N({show:!1,text:"",color:"success"}),E=J(()=>F[e(577)]()),j=J(()=>F[e(872)].role>=2),k=J(()=>F.userData[e(974)]>=3),b=[{title:e(867),value:"all"},{title:e(793),value:"functional"},{title:e(908),value:e(698)},{title:e(977),value:e(583)},{title:e(503),value:e(763)}],s=[{title:e(865),value:"all"},{title:e(572),value:e(599)},{title:e(828),value:e(800)},{title:e(531),value:e(934)},{title:"Completed",value:e(466)}],T=J(()=>{const u=e;return c[u(798)].filter(n=>{const h=u,oe=!d[h(730)]||n.title[h(573)]()[h(893)](d[h(730)][h(573)]())||n[h(566)].toLowerCase()[h(893)](d[h(730)][h(573)]()),G=w[h(730)]===h(490)||n.category===w[h(730)],H=v[h(730)]===h(490)||n.status===v.value;return oe&&G&&H})}),_=()=>{P.value=!0},Q=async u=>{const n=e;B[n(730)]=!0;try{const{data:h,error:oe}=await C.createRequirement({...u,project:c[n(739)]});h&&!oe?(p(n(688)),o("refresh")):p("Failed to create requirement",n(537))}catch(h){p("Failed to create requirement: "+h[n(773)],n(537))}finally{B.value=!1}},ee=async u=>{const n=e;B.value=!0;try{const{data:h,error:oe}=await C[n(944)](q[n(730)].id,u);h&&!oe?(p("Requirement updated successfully"),o(n(441))):p(n(705),n(537))}catch(h){p("Failed to update requirement: "+h.message,n(537))}finally{B[n(730)]=!1}},y=async()=>{const u=e;if(q[u(730)]){B[u(730)]=!0,M.value=!1;try{const{success:n,error:h}=await C[u(524)](q[u(730)].id);n&&!h?(p(u(585)),o(u(441)),R.value=!1):p("Failed to delete requirement",u(537))}catch(n){p(u(888)+n[u(773)],u(537))}finally{B[u(730)]=!1}}},p=(u,n=e(819))=>{g[e(730)]={show:!0,text:u,color:n}},i=(u,n=120)=>{const h=e;return!u||u[h(645)]<=n?u:u[h(626)](0,n)+h(621)},S=u=>{const n=e;return u?(u=parseInt(u),new Date(u).toLocaleDateString("en-US",{year:n(606),month:n(920),day:n(606)})):""};return lt(()=>{}),(u,n)=>{const h=e,oe=$e,G=de("IconBtn");return f(),U(X,{class:"pa-6"},{default:a(()=>[t(le,null,{default:a(()=>[t(L,{cols:"12",md:"4"},{default:a(()=>[t(ve,{modelValue:d[h(730)],"onUpdate:modelValue":n[0]||(n[0]=H=>d[h(730)]=H),density:"compact",placeholder:h(523),"prepend-inner-icon":h(634),"hide-details":"",variant:h(728),clearable:""},null,8,[h(699)])]),_:1}),t(L,{cols:"12",md:"3"},{default:a(()=>[t(ue,{modelValue:w[h(730)],"onUpdate:modelValue":n[1]||(n[1]=H=>w[h(730)]=H),items:b,density:h(747),"hide-details":"",label:"Category",variant:h(728)},null,8,["modelValue"])]),_:1}),t(L,{cols:"12",md:"3"},{default:a(()=>[t(ue,{modelValue:v.value,"onUpdate:modelValue":n[2]||(n[2]=H=>v[h(730)]=H),items:s,density:"compact","hide-details":"",label:h(497),variant:"outlined"},null,8,[h(699)])]),_:1}),t(L,{cols:"12",md:"2",class:h(506)},{default:a(()=>[D(k)?(f(),U(O,{key:0,color:"primary","prepend-icon":h(582),onClick:_,loading:B[h(730)],block:""},{default:a(()=>[V(h(783))]),_:1},8,[h(648)])):A("",!0)]),_:1})]),_:1}),t(Y,{class:"my-5"}),l[h(648)]?(f(),z(h(540),Ea,[t(Ie,{indeterminate:"",color:h(966)})])):D(T).length===0?(f(),z(h(540),$a,[t(I,{icon:h(976),size:"64",color:h(957),class:"mb-4"}),Ga,m("p",Ja,x(d[h(730)]||w[h(730)]!==h(490)||v.value!==h(490)?h(760):h(787)),1),D(k)&&!d[h(730)]&&w.value===h(490)&&v[h(730)]==="all"?(f(),U(O,{key:0,color:"primary",onClick:_,"prepend-icon":h(582)},{default:a(()=>[V(h(491))]),_:1})):A("",!0)])):(f(),U(le,{key:2},{default:a(()=>[(f(!0),z(se,null,me(D(T),H=>{const $=h;return f(),U(L,{key:H.id,cols:"12",md:"6"},{default:a(()=>[t(K,{class:$(640),onClick:Te=>(mt=>{const pt=e;q.value=mt,R[pt(730)]=!0})(H),border:"",hover:""},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(Pe,{color:D(jt)(H[$(883)]),variant:$(985),size:"42"},{default:a(()=>[H[$(883)]===$(711)?(f(),U(I,{key:0,icon:$(876)})):H[$(883)]==="nonfunctional"?(f(),U(I,{key:1,icon:$(859)})):H[$(883)]===$(583)?(f(),U(I,{key:2,icon:$(806)})):(f(),U(I,{key:3,icon:$(820)}))]),_:2},1032,[$(946)])]),append:a(()=>[t(Z,{color:D(Me)(H[$(816)]),size:$(871),label:""},{default:a(()=>[V(x(ge(H[$(816)])),1)]),_:2},1032,[$(946)])]),default:a(()=>[t(te,null,{default:a(()=>[V(x(H.title),1)]),_:2},1024)]),_:2},1024),t(X,null,{default:a(()=>[m("p",Xa,x(i(H[$(566)])),1),m($(540),Za,[m("div",Ya,[t(I,{size:"16",icon:$(610),class:$(456)}),m($(899),Ka,x(H[$(883)]),1)]),m("div",Qa,[t(I,{size:"16",icon:$(947),class:$(456)}),m($(899),Wa,x(S(H[$(719)])),1)]),m($(540),el,[t(I,{size:"16",icon:"tabler-history",class:$(456)}),m($(899),tl,"v"+x(H[$(933)]),1)])])]),_:2},1024)]),_:2},1032,[$(861)])]),_:2},1024)}),128))]),_:1})),q[h(730)]?(f(),U(La,{key:3,modelValue:R[h(730)],"onUpdate:modelValue":n[3]||(n[3]=H=>R[h(730)]=H),requirement:q[h(730)],onDelete:n[4]||(n[4]=H=>M[h(730)]=!0),onUpdate:ee,"is-admin":D(E),"has-manager-permission":D(j),"has-moderator-permission":D(k)},null,8,["modelValue",h(654),h(521),h(578),h(952)])):A("",!0),t(Ha,{modelValue:P[h(730)],"onUpdate:modelValue":n[5]||(n[5]=H=>P.value=H),onSubmit:Q},null,8,["modelValue"]),t(oe,{isDialogVisible:M.value,"onUpdate:isDialogVisible":n[6]||(n[6]=H=>M[h(730)]=H),confirmationMsg:"Are you sure you want to delete this requirement? This action cannot be undone.",onConfirm:y},null,8,["isDialogVisible"]),t(ye,{modelValue:g[h(730)].show,"onUpdate:modelValue":n[8]||(n[8]=H=>g[h(730)].show=H),color:g[h(730)].color,timeout:5e3},{actions:a(()=>[t(G,{onClick:n[7]||(n[7]=H=>g[h(730)][h(912)]=!1)},{default:a(()=>[t(I,{icon:"tabler-x"})]),_:1})]),default:a(()=>[V(x(g[h(730)][h(850)])+" ",1)]),_:1},8,[h(699),h(946)])]),_:1})}}},[["__scopeId",r(775)]]),it=He({id:"MockupStore",state:()=>({mockups:[],currentMockup:null,loading:!1,error:null}),actions:{async fetchMockups(l=null){const o=r;this[o(648)]=!0;try{let e=o(993);l&&(e+=o(833)+l);const c=await W[o(568)](e);return c.status===200?(this[o(686)]=c[o(927)],{data:c.data,error:null}):{data:[],error:c[o(927)]}}catch(e){return this[o(537)]=e.message||"Failed to fetch mockups",{data:[],error:this.error}}finally{this[o(648)]=!1}},async fetchMockupById(l){const o=r;this[o(648)]=!0;try{const e=await W[o(568)]("/service/mockups/"+l+"/");return e[o(816)]===200?(this[o(575)]=e.data,{data:e[o(927)],error:null}):{data:null,error:e.data}}catch(e){return this[o(537)]=e[o(773)]||o(941),{data:null,error:this[o(537)]}}finally{this[o(648)]=!1}},async createMockup(l){const o=r;this.loading=!0;try{const e=await W[o(554)](o(993),l);return e[o(816)]===201?(this[o(686)].length&&this.mockups[o(836)](e[o(927)]),{data:e[o(927)],error:null}):{data:null,error:e[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||o(567),{data:null,error:this[o(537)]}}finally{this.loading=!1}},async updateMockup(l,o){const e=r;this[e(648)]=!0;try{const c=await W[e(551)](e(993)+l+"/",o);if(c[e(816)]===200){if(this.mockups[e(645)]){const C=this[e(686)][e(978)](F=>F.id===l);C!==-1&&(this[e(686)][C]=c.data)}return this[e(575)]&&this[e(575)].id===l&&(this[e(575)]=c[e(927)]),{data:c.data,error:null}}return{data:null,error:c[e(927)]}}catch(c){return this[e(537)]=c.message||e(823),{data:null,error:this.error}}finally{this[e(648)]=!1}},async deleteMockup(l){const o=r;this[o(648)]=!0;try{const e=await W[o(723)](o(993)+l+"/");return e[o(816)]===204?(this.mockups[o(645)]&&(this.mockups=this[o(686)][o(910)](c=>c.id!==l)),this[o(575)]&&this[o(575)].id===l&&(this.currentMockup=null),{success:!0,error:null}):{success:!1,error:e.data}}catch(e){return this[o(537)]=e.message||o(635),{success:!1,error:this.error}}finally{this.loading=!1}}}}),ct=l=>(ke("data-v-b1d59641"),l=l(),we(),l),ll={key:0,class:r(995)},sl={class:r(995)},rl={key:0},ol={key:1},nl={class:r(720)},il={class:r(506)},cl={class:"text-caption"},ul={class:r(576)},dl={class:r(762)},ml={key:0,class:r(576)},pl={class:r(762)},fl={class:r(875)},hl=["srcdoc"],yl={key:1,class:r(646),style:{height:r(670)}},vl=ct(()=>m("h4",{class:"text-h6 mb-2"},r(697),-1)),_l=ct(()=>m("p",{class:r(549)},r(844),-1)),bl=be({__name:"MockupPreviewDialog",props:{modelValue:{type:Boolean,default:!1},mockup:{type:Object,required:!0},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1}},emits:[r(789),r(723)],setup(l,{emit:o}){const e=r,c=l,C=J({get:()=>c[e(699)],set:k=>o(e(789),k)}),F=it(),q=N(!1),w=N(!1),v=N({...c[e(766)]}),d=N(!1),R=N({show:!1,text:"",color:"success"}),P=k=>{const b=e;return k?new Date(parseInt(k))[b(505)]("en-US",{year:b(606),month:b(920),day:b(606),hour:"2-digit",minute:b(468)}):""},M=()=>{const k=e;q[k(730)]=!q[k(730)]},B=()=>{const k=e;w.value&&(v.value={...c.mockup}),w[k(730)]=!w[k(730)]},g=async()=>{const k=e;d[k(730)]=!0;try{const{data:b,error:s}=await F[k(476)](c[k(766)].id,v[k(730)]);b&&!s?(j(k(790)),Object[k(967)](c[k(766)],b),w.value=!1):j(k(823),k(537))}catch(b){j("Failed to update mockup: "+b[k(773)],k(537))}finally{d[k(730)]=!1}},E=()=>{o(e(723))},j=(k,b="success")=>{R[e(730)]={show:!0,text:k,color:b}};return _e(()=>c.mockup,k=>{v[e(730)]={...k}},{deep:!0}),(k,b)=>{const s=e,T=de("IconBtn");return f(),U(Ve,{modelValue:D(C),"onUpdate:modelValue":b[6]||(b[6]=_=>De(C)?C[s(730)]=_:null),fullscreen:q[s(730)],"max-width":q.value?s(678):s(447),scrollable:""},{default:a(()=>[t(K,null,{default:a(()=>[t(te,{class:s(945)},{default:a(()=>[w[s(730)]?(f(),z("h5",ll,s(885))):(f(),z(se,{key:1},[m("h5",sl,x(l[s(766)][s(502)]),1),t(Z,{color:D(Me)(l.mockup[s(816)]),size:"small",label:""},{default:a(()=>[V(x(ge(l.mockup.status)),1)]),_:1},8,[s(946)])],64)),t(ae),t(O,{icon:"",variant:"text",onClick:M},{default:a(()=>[t(I,{icon:q[s(730)]?"tabler-minimize":s(495)},null,8,[s(767)])]),_:1}),t(T,{onClick:b[0]||(b[0]=_=>C[s(730)]=!1)},{default:a(()=>[t(I,{icon:s(683)})]),_:1})]),_:1}),t(Y),t(X,{class:st({"pa-0":!w[s(730)],"pa-6":w.value}),style:Ae({height:q[s(730)]?s(553):s(617),maxHeight:s(796)})},{default:a(()=>[w[s(730)]?(f(),z(s(540),rl,[t(je,{onSubmit:xe(g,[s(681)])},{default:a(()=>[t(le,{class:s(896)},{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(ve,{modelValue:v.value[s(502)],"onUpdate:modelValue":b[1]||(b[1]=_=>v[s(730)][s(502)]=_),label:s(821),required:"",rules:[_=>!!_||"Name is required"]},null,8,[s(699),"rules"])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:v[s(730)][s(816)],"onUpdate:modelValue":b[2]||(b[2]=_=>v.value[s(816)]=_),label:s(497),items:[{title:s(572),value:s(599)},{title:s(828),value:s(800)},{title:s(531),value:s(934)},{title:s(623),value:"completed"}],required:""},null,8,["modelValue"])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:v[s(730)].html_content,"onUpdate:modelValue":b[3]||(b[3]=_=>v[s(730)].html_content=_),label:s(594),rows:"15",rules:[_=>!!_||"HTML content is required"],monospace:""},null,8,["modelValue",s(493)])]),_:1})]),_:1})]),_:1},8,[s(791)])])):(f(),z(s(540),ol,[m("div",nl,[m(s(540),il,[t(I,{icon:"tabler-calendar",class:s(689),size:"18"}),m(s(899),cl,s(822)+x(P(l[s(766)][s(998)])),1)]),m(s(540),ul,[t(I,{icon:s(989),class:"me-2",size:"18"}),m(s(899),dl,"Updated: "+x(P(l.mockup.updated_at)),1)]),l[s(766)][s(654)]?(f(),z("div",ml,[t(I,{icon:s(639),class:s(689),size:"18"}),m(s(899),pl,s(458)+x(l.mockup[s(654)]),1)])):A("",!0)]),t(Y),m(s(540),fl,[l.mockup.html_content?(f(),z(s(781),{key:0,srcdoc:l[s(766)][s(463)],class:s(746),style:Ae([{width:"100%",border:"none"},{height:q[s(730)]?s(665):"calc(70vh - 110px)"}]),sandbox:s(962),title:s(761)},null,12,hl)):(f(),z(s(540),yl,[t(I,{icon:s(453),size:"64",color:"secondary",class:"mb-4"}),vl,_l]))])]))]),_:1},8,["class",s(710)]),t(Y),t(ce,{class:s(486)},{default:a(()=>[w[s(730)]?(f(),z(se,{key:0},[t(O,{color:s(957),variant:s(985),onClick:B,disabled:d[s(730)]},{default:a(()=>[V(s(469))]),_:1},8,[s(778)]),t(ae),t(O,{color:"primary",onClick:g,loading:d[s(730)]},{default:a(()=>[V(s(950))]),_:1},8,["loading"])],64)):(f(),z(se,{key:1},[l[s(731)]?(f(),U(O,{key:0,color:s(537),variant:s(985),"prepend-icon":s(628),onClick:E},{default:a(()=>[V(s(504))]),_:1})):A("",!0),t(ae),l.hasManagerPermission?(f(),U(O,{key:1,color:"primary","prepend-icon":s(472),onClick:B},{default:a(()=>[V(s(682))]),_:1})):A("",!0),l[s(913)]?(f(),U(O,{key:2,class:s(477),color:s(966),variant:s(985),"prepend-icon":"tabler-code",onClick:B},{default:a(()=>[V(s(563))]),_:1})):A("",!0)],64))]),_:1})]),_:1}),t(ye,{modelValue:R.value.show,"onUpdate:modelValue":b[5]||(b[5]=_=>R[s(730)][s(912)]=_),color:R[s(730)][s(946)],timeout:5e3},{actions:a(()=>[t(T,{onClick:b[4]||(b[4]=_=>R[s(730)][s(912)]=!1)},{default:a(()=>[t(I,{icon:"tabler-x"})]),_:1})]),default:a(()=>[V(x(R[s(730)][s(850)])+" ",1)]),_:1},8,[s(699),s(946)])]),_:1},8,[s(699),s(492),"max-width"])}}},[[r(909),r(642)]]),ut=l=>(ke("data-v-c0e4dfba"),l=l(),we(),l),gl={key:0,class:r(799),style:{height:r(675)}},kl={key:1,class:r(656)},wl=ut(()=>m("h4",{class:r(943)},r(638),-1)),xl={class:r(831)},Vl={class:r(542)},Cl={class:r(906),style:{height:r(467)}},ql={key:0,class:r(785)},Dl=["innerHTML"],jl={key:1,class:"d-flex justify-center align-center h-100"},Sl={class:r(725)},Fl={key:0,class:r(756)},zl=ut(()=>m("span",{class:r(803)},r(458),-1)),Ul={class:r(916)},Pl={class:r(506)},Rl={class:r(762)},Il=be({__name:"ProjectMockupsList",props:{projectId:{type:String,required:!0},mockups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:[r(441)],setup(l,{emit:o}){const e=r,c=l,C=it(),F=Re(),q=N(""),w=N(null),v=N(!1),d=N(!1),R=N(!1),P=N({show:!1,text:"",color:e(819)}),M=J(()=>F[e(577)]()),B=J(()=>F.userData[e(974)]>=2);J(()=>F[e(872)][e(974)]>=3);const g=J(()=>{const s=e;return c[s(686)][s(910)](T=>{const _=s;return!q[_(730)]||T.name.toLowerCase()[_(893)](q[_(730)][_(573)]())||T.requirement&&T.requirement[_(684)][_(573)]()[_(893)](q[_(730)][_(573)]())})}),E=s=>{const T=e;return s?new Date(parseInt(s))[T(505)]("en-US",{year:T(606),month:T(920),day:T(606)}):""},j=async()=>{const s=e;if(w[s(730)]){R.value=!0,d[s(730)]=!1;try{const{success:T,error:_}=await C[s(693)](w.value.id);T&&!_?(k("Mockup deleted successfully"),o(s(441)),v[s(730)]=!1):k(s(635),s(537))}catch(T){k(s(510)+T.message,s(537))}finally{R[s(730)]=!1}}},k=(s,T=e(819))=>{P[e(730)]={show:!0,text:s,color:T}},b=(s,T=150)=>{const _=e;if(!s||s[_(645)]<=T)return s;const Q=s[_(707)](/<[^>]*>/g,"");return Q[_(645)]<=T?s:Q[_(626)](0,T)+_(621)};return(s,T)=>{const _=e,Q=$e,ee=de(_(647));return f(),U(X,{class:_(446)},{default:a(()=>[t(le,null,{default:a(()=>[t(L,{cols:"12",md:"6"},{default:a(()=>[t(ve,{modelValue:q[_(730)],"onUpdate:modelValue":T[0]||(T[0]=y=>q[_(730)]=y),density:_(747),placeholder:_(630),"prepend-inner-icon":_(634),"hide-details":"",variant:_(728),clearable:""},null,8,[_(699)])]),_:1})]),_:1}),t(Y,{class:_(759)}),l.loading?(f(),z(_(540),gl,[t(Ie,{indeterminate:"",color:_(966)})])):D(g)[_(645)]===0?(f(),z("div",kl,[t(I,{icon:"tabler-photo-off",size:"64",color:_(957),class:_(627)}),wl,m("p",xl,x(q[_(730)]?_(877):_(501)),1)])):(f(),U(le,{key:2},{default:a(()=>[(f(!0),z(se,null,me(D(g),y=>{const p=_;return f(),U(L,{key:y.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[t(K,{class:p(613),onClick:i=>{return S=y,w.value=S,void(v.value=!0);var S},border:"",hover:""},{default:a(()=>[t(ne,null,{append:a(()=>[t(Z,{color:D(Me)(y[p(816)]),size:p(871),label:""},{default:a(()=>[V(x(ge(y[p(816)])),1)]),_:2},1032,[p(946)])]),default:a(()=>[t(te,null,{default:a(()=>[V(x(y[p(502)]),1)]),_:2},1024)]),_:2},1024),t(Y),t(X,null,{default:a(()=>[m(p(540),Vl,[m(p(540),Cl,[y[p(463)]?(f(),z(p(540),ql,[m(p(540),{innerHTML:b(y.html_content)},null,8,Dl)])):(f(),z("div",jl,[t(I,{icon:p(631),size:"48",color:"secondary"})])),m(p(540),Sl,[t(O,{color:p(966),variant:p(894),size:p(871),"prepend-icon":p(925)},{default:a(()=>[V(" Preview ")]),_:1})])])]),y[p(654)]?(f(),z("div",Fl,[zl,t(Z,{size:p(915),color:"primary",class:p(839)},{default:a(()=>[V(x(y[p(654)]),1)]),_:2},1024)])):A("",!0),m(p(540),Ul,[m(p(540),Pl,[t(I,{size:"16",icon:p(947),class:"me-1"}),m(p(899),Rl,x(E(y[p(998)])),1)])])]),_:2},1024)]),_:2},1032,[p(861)])]),_:2},1024)}),128))]),_:1})),w[_(730)]?(f(),U(bl,{key:3,modelValue:v[_(730)],"onUpdate:modelValue":T[1]||(T[1]=y=>v[_(730)]=y),mockup:w.value,onDelete:T[2]||(T[2]=y=>d[_(730)]=!0),"is-admin":D(M),"has-manager-permission":D(B)},null,8,["modelValue",_(766),_(521),_(578)])):A("",!0),t(Q,{isDialogVisible:d[_(730)],"onUpdate:isDialogVisible":T[3]||(T[3]=y=>d.value=y),confirmationMsg:_(658),onConfirm:j},null,8,["isDialogVisible"]),t(ye,{modelValue:P[_(730)][_(912)],"onUpdate:modelValue":T[5]||(T[5]=y=>P[_(730)][_(912)]=y),color:P[_(730)][_(946)],timeout:5e3},{actions:a(()=>[t(ee,{onClick:T[4]||(T[4]=y=>P[_(730)].show=!1)},{default:a(()=>[t(I,{icon:_(683)})]),_:1})]),default:a(()=>[V(x(P[_(730)][_(850)])+" ",1)]),_:1},8,[_(699),_(946)])]),_:1})}}},[[r(909),r(591)]]),dt=He({id:r(879),state:()=>({plans:[],currentPlan:null,loading:!1,error:null}),actions:{async fetchDevelopmentPlans(l=null){const o=r;this.loading=!0;try{let e=o(857);l&&(e+=o(833)+l);const c=await W[o(568)](e);return c[o(816)]===200?(this[o(753)]=c[o(927)],{data:c[o(927)],error:null}):{data:[],error:c[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||o(834),{data:[],error:this[o(537)]}}finally{this.loading=!1}},async fetchDevelopmentPlanById(l){const o=r;this[o(648)]=!0;try{const e=await W.get(o(857)+l+"/");return e.status===200?(this[o(795)]=e.data,{data:e[o(927)],error:null}):{data:null,error:e[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||"Failed to fetch development plan",{data:null,error:this[o(537)]}}finally{this[o(648)]=!1}},async createDevelopmentPlan(l){const o=r;this[o(648)]=!0;try{const e=await W[o(554)](o(857),{project:l,status:o(599)});return e.status===201?{data:e[o(927)],error:null}:{data:null,error:e[o(927)]}}catch(e){return this[o(537)]=e.message||o(751),{data:null,error:this[o(537)]}}finally{this[o(648)]=!1}},async updateDevelopmentPlan(l,o){const e=r;this[e(648)]=!0;try{const c=await W[e(551)]("/service/development-plans/"+l+"/",o);return c[e(816)]===200?(this.currentPlan&&this[e(795)].id===l&&(this[e(795)]=c[e(927)]),{data:c.data,error:null}):{data:null,error:c[e(927)]}}catch(c){return this[e(537)]=c.message||e(555),{data:null,error:this[e(537)]}}finally{this[e(648)]=!1}},async createPlanVersion(l,o){const e=r;this[e(648)]=!0;try{const c=await W[e(554)](e(857)+l+e(889),o);return c.status===201?{data:c[e(927)],error:null}:{data:null,error:c[e(927)]}}catch(c){return this[e(537)]=c.message||e(461),{data:null,error:this[e(537)]}}finally{this[e(648)]=!1}},async fetchPlanVersionById(l){const o=r;this[o(648)]=!0;try{const e=await W.get(o(919)+l+"/");return e[o(816)]===200?{data:e.data,error:null}:{data:null,error:e[o(927)]}}catch(e){return this[o(537)]=e[o(773)]||o(840),{data:null,error:this[o(537)]}}finally{this[o(648)]=!1}},async updatePlanVersion(l,o){const e=r;this[e(648)]=!0;try{const c=await W.put("/service/development-plan-versions/"+l+"/",o);return c[e(816)]===200?{data:c.data,error:null}:{data:null,error:c[e(927)]}}catch(c){return this[e(537)]=c.message||e(891),{data:null,error:this.error}}finally{this[e(648)]=!1}},async setCurrentPlanVersion(l,o){const e=r;this.loading=!0;try{const c=await this.fetchDevelopmentPlanById(l);if(!c[e(927)])return{data:null,error:e(813)};const C=await this[e(979)](o);return C[e(927)]?await this.updateDevelopmentPlan(l,{current_version_number:C[e(927)][e(933)],status:c[e(927)].status}):{data:null,error:e(895)}}catch(c){return this[e(537)]=c.message||e(812),{data:null,error:this[e(537)]}}finally{this[e(648)]=!1}}}}),Ne=l=>(ke(r(709)),l=l(),we(),l),Ml={key:0,class:"text-h5"},Bl={key:1,class:"text-h5"},Nl={key:0},Tl=Ne(()=>m("p",{class:r(529)},r(561),-1)),Al={key:1},Ll={class:r(452)},Ol={class:"d-flex align-center"},Hl={class:r(506)},El={class:r(762)},$l={key:0,class:r(986)},Gl={class:r(764)},Jl=Ne(()=>m(r(540),{class:r(511)}," Estimated total cost ",-1)),Xl=Ne(()=>m("thead",null,[m("tr",null,[m("th",null,r(507)),m("th",{class:r(536)},"Hours"),m("th",{class:r(536)},r(571))])],-1)),Zl={class:"text-right"},Yl={class:"text-right"},Kl={key:0},Ql=[Ne(()=>m("td",{colspan:"3",class:r(450)},"No roles and hours defined",-1))],Wl={class:r(973)},es=be({__name:r(489),props:{modelValue:{type:Boolean,default:!1},version:{type:Object,required:!0},isCurrent:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1},hasManagerPermission:{type:Boolean,default:!1},planId:{type:String,default:null}},emits:[r(789),r(441)],setup(l,{emit:o}){const e=r,c=l,C=J({get:()=>c[e(699)],set:k=>o(e(789),k)}),F=dt(),q=N(!1),w=N({...c[e(584)]}),v=N(!1),d=N({show:!1,text:"",color:e(819)}),R=k=>{const b=e;return k?new Date(parseInt(k))[b(505)](b(703),{year:"numeric",month:"short",day:b(606),hour:b(468),minute:b(468)}):""},P=k=>{const b=e;return k||k===0?new Intl[b(680)]("en-US",{style:b(931),currency:"USD",minimumFractionDigits:2})[b(802)](k):"-"},M=()=>{const k=e;q.value&&(w[k(730)]={...c[k(584)]}),q[k(730)]=!q[k(730)]},B=async()=>{const k=e;v[k(730)]=!0;try{const{data:b,error:s}=await F.updatePlanVersion(c.version.id,w[k(730)]);b&&!s?(j(k(956)),Object[k(967)](c.version,b),q[k(730)]=!1,o("refresh")):j("Failed to update plan version","error")}catch(b){j(k(968)+b[k(773)],"error")}finally{v[k(730)]=!1}},g=async()=>{const k=e;if(c[k(984)]){v.value=!0;try{const{data:b,error:s}=await F[k(897)](c[k(984)],c[k(584)].id);b&&!s?(j(k(587)),o(k(441))):j(k(804),k(537))}catch(b){j(k(917)+b.message,k(537))}finally{v[k(730)]=!1}}},E=k=>{const b=e;if(!k)return[];try{return typeof k===b(650)?JSON[b(928)](k):k}catch(s){return console[b(537)]("Error parsing roles and hours:",s),[]}},j=(k,b=e(819))=>{d.value={show:!0,text:k,color:b}};return _e(()=>c[e(584)],k=>{w[e(730)]={...k}},{deep:!0}),(k,b)=>{const s=e,T=de(s(647));return f(),U(Ve,{modelValue:D(C),"onUpdate:modelValue":b[7]||(b[7]=_=>De(C)?C[s(730)]=_:null),"max-width":s(447),scrollable:""},{default:a(()=>[t(K,null,{default:a(()=>[t(te,{class:s(945)},{default:a(()=>[q.value?(f(),z("h5",Ml,s(716))):(f(),z("h5",Bl,[V(s(677)+x(l.version.version_number)+" ",1),l[s(750)]?(f(),U(Z,{key:0,color:"primary",size:s(871),label:"",class:s(477)},{default:a(()=>[V(s(596))]),_:1})):A("",!0)])),t(ae),t(T,{onClick:b[0]||(b[0]=_=>C[s(730)]=!1)},{default:a(()=>[t(I,{icon:s(683)})]),_:1})]),_:1}),t(Y),t(X,{class:s(446)},{default:a(()=>[q[s(730)]?(f(),z(s(540),Nl,[t(je,{onSubmit:xe(B,[s(681)])},{default:a(()=>[t(le,{class:s(896)},{default:a(()=>[t(L,{cols:"12",md:"4"},{default:a(()=>[t(ve,{modelValue:w[s(730)][s(667)],"onUpdate:modelValue":b[1]||(b[1]=_=>w.value[s(667)]=_),modelModifiers:{number:!0},label:s(737),type:"number",required:"",rules:[_=>!!_||"Estimated cost is required"]},null,8,[s(699),s(493)])]),_:1}),t(L,{cols:"12",md:"4"},{default:a(()=>[t(ue,{modelValue:w.value[s(816)],"onUpdate:modelValue":b[2]||(b[2]=_=>w[s(730)][s(816)]=_),label:s(497),items:[{title:s(572),value:"draft"},{title:s(828),value:s(800)},{title:"Archived",value:s(934)},{title:"Completed",value:s(466)}],required:""},null,8,[s(699)])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:w.value[s(548)],"onUpdate:modelValue":b[3]||(b[3]=_=>w[s(730)][s(548)]=_),label:s(655),rows:"4"},null,8,[s(699)])]),_:1}),t(L,{cols:"12"},{default:a(()=>[Tl,t(pe,{modelValue:w.value.roles_and_hours,"onUpdate:modelValue":b[4]||(b[4]=_=>w[s(730)][s(932)]=_),label:s(835),rows:"8",monospace:"",hint:s(905),"persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])):(f(),z(s(540),Al,[t(le,{class:s(896)},{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[m("div",Ll,[m(s(540),Ol,[t(Z,{color:D(Me)(l[s(584)][s(816)]),size:s(871),label:""},{default:a(()=>[V(x(ge(l.version[s(816)])),1)]),_:1},8,[s(946)])]),m(s(540),Hl,[m(s(899),El," Created: "+x(R(l[s(584)][s(998)])),1),l[s(584)][s(690)]?(f(),z(s(899),$l," Created by: "+x(l[s(584)][s(690)][s(938)]),1)):A("",!0)]),m(s(540),null,[m("h4",Gl,x(P(l[s(584)].estimated_cost)),1),Jl])])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(K,{variant:s(728),class:s(627)},{default:a(()=>[t(te,null,{default:a(()=>[V(s(948))]),_:1}),t(X,null,{default:a(()=>[t(Le,null,{default:a(()=>[Xl,m(s(955),null,[(f(!0),z(se,null,me(E(l[s(584)][s(932)]),(_,Q)=>{const ee=s;return f(),z("tr",{key:Q},[m("td",null,x(_[ee(974)]),1),m("td",Zl,x(_[ee(661)]),1),m("td",Yl,x(P(_[ee(653)])),1)])}),128)),E(l[s(584)][s(932)]).length===0?(f(),z("tr",Kl,Ql)):A("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),l.version[s(548)]?(f(),U(L,{key:0,cols:"12"},{default:a(()=>[t(K,{variant:s(728)},{default:a(()=>[t(te,null,{default:a(()=>[V(s(655))]),_:1}),t(X,null,{default:a(()=>[m(s(540),Wl,x(l[s(584)].notes),1)]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})]))]),_:1}),t(Y),t(ce,{class:"pa-4"},{default:a(()=>[q.value?(f(),z(se,{key:0},[t(O,{color:s(957),variant:s(985),onClick:M,disabled:v[s(730)]},{default:a(()=>[V(" Cancel ")]),_:1},8,[s(778)]),t(ae),t(O,{color:s(966),onClick:B,loading:v.value},{default:a(()=>[V(" Save Changes ")]),_:1},8,[s(648)])],64)):(f(),z(se,{key:1},[!l[s(750)]&&l[s(913)]?(f(),U(O,{key:0,color:"primary",variant:"tonal",onClick:g,loading:v[s(730)],"prepend-icon":"tabler-check"},{default:a(()=>[V(s(543))]),_:1},8,[s(648)])):A("",!0),t(ae),l[s(913)]?(f(),U(O,{key:1,color:"primary","prepend-icon":s(472),onClick:M},{default:a(()=>[V(s(682))]),_:1})):A("",!0)],64))]),_:1})]),_:1}),t(ye,{modelValue:d[s(730)][s(912)],"onUpdate:modelValue":b[6]||(b[6]=_=>d[s(730)][s(912)]=_),color:d[s(730)][s(946)],timeout:5e3},{actions:a(()=>[t(T,{onClick:b[5]||(b[5]=_=>d[s(730)].show=!1)},{default:a(()=>[t(I,{icon:s(683)})]),_:1})]),default:a(()=>[V(x(d[s(730)][s(850)])+" ",1)]),_:1},8,["modelValue",s(946)])]),_:1},8,["modelValue"])}}},[[r(909),r(709)]]),ts=m("h5",{class:r(995)},r(903),-1),as={class:r(904)},ls={__name:"PlanVersionCreateDialog",props:{modelValue:{type:Boolean,default:!1},planId:{type:String,required:!0},currentVersionNumber:{type:Number,default:0}},emits:[r(789),"submit"],setup(l,{emit:o}){const e=r,c=l,C=J({get:()=>c[e(699)],set:M=>o(e(789),M)}),F=N({roles_and_hours:e(668),estimated_cost:1e4,notes:"",status:e(599)}),q=[M=>!!M||e(801),M=>!isNaN(parseFloat(M))||e(818)],w=[M=>{try{return JSON.parse(M),!0}catch{return"Roles and hours must be valid JSON"}}],v=N(null),d=()=>{const M=e;F[M(730)]={roles_and_hours:'[{"role": "Project Manager", "hours": 20, "cost": 2000}, {"role": "Developer", "hours": 80, "cost": 8000}]',estimated_cost:1e4,notes:"",status:M(599)},v[M(730)]&&v[M(730)][M(530)]()},R=()=>{C[e(730)]=!1,d()},P=async()=>{const M=e,{valid:B}=await v.value.validate();if(B){const g={...F.value};g[M(667)]=parseFloat(g[M(667)]),o("submit",g),C[M(730)]=!1,d()}};return _e(C,M=>{M||d()}),(M,B)=>{const g=e,E=de(g(647));return f(),U(Ve,{modelValue:D(C),"onUpdate:modelValue":B[4]||(B[4]=j=>De(C)?C[g(730)]=j:null),"max-width":"700",persistent:""},{default:a(()=>[t(K,null,{default:a(()=>[t(te,{class:"d-flex pt-5 px-5"},{default:a(()=>[ts,t(ae),t(E,{onClick:R},{default:a(()=>[t(I,{icon:"tabler-x"})]),_:1})]),_:1}),t(X,{class:g(980)},{default:a(()=>[m("p",as," Creating version "+x(l[g(858)]+1)+g(848),1),t(je,{ref_key:g(622),ref:v,onSubmit:xe(P,["prevent"])},{default:a(()=>[t(le,{class:g(896)},{default:a(()=>[t(L,{cols:"12",md:"6"},{default:a(()=>[t(ve,{modelValue:F[g(730)].estimated_cost,"onUpdate:modelValue":B[0]||(B[0]=j=>F.value[g(667)]=j),modelModifiers:{number:!0},label:"Estimated Cost ($)",type:g(987),rules:q,required:""},null,8,[g(699)])]),_:1}),t(L,{cols:"12",md:"6"},{default:a(()=>[t(ue,{modelValue:F.value[g(816)],"onUpdate:modelValue":B[1]||(B[1]=j=>F.value[g(816)]=j),label:g(497),items:[{title:g(572),value:g(599)},{title:g(828),value:g(800)},{title:"Archived",value:g(934)},{title:"Completed",value:"completed"}],required:""},null,8,[g(699)])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:F[g(730)].roles_and_hours,"onUpdate:modelValue":B[2]||(B[2]=j=>F[g(730)][g(932)]=j),label:g(835),rules:w,rows:"6",monospace:"",hint:g(905),"persistent-hint":""},null,8,[g(699)])]),_:1}),t(L,{cols:"12"},{default:a(()=>[t(pe,{modelValue:F[g(730)].notes,"onUpdate:modelValue":B[3]||(B[3]=j=>F[g(730)][g(548)]=j),label:"Notes",rows:"4"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,[g(791)])]),_:1}),t(Y),t(ce,{class:"pa-4"},{default:a(()=>[t(O,{variant:g(985),color:g(957),onClick:R},{default:a(()=>[V(g(469))]),_:1}),t(ae),t(O,{color:g(966),onClick:P},{default:a(()=>[V(g(755))]),_:1})]),_:1})]),_:1})]),_:1},8,[g(699)])}}},ss={key:0,class:r(799),style:{height:r(675)}},rs={key:1,class:r(601)},os=m("h4",{class:r(943)},r(961),-1),ns=m("p",{class:"text-body-1 text-medium-emphasis mb-6"},r(546),-1),is={key:2},cs={class:r(465)},us=m(r(540),{class:r(943)},r(970),-1),ds={class:r(764)},ms={class:"text-caption text-medium-emphasis"},ps=m(r(540),{class:"text-h6 mb-3"},"Roles & Hours Breakdown",-1),fs=m(r(881),null,[m("tr",null,[m("th",null,r(507)),m("th",{class:r(536)},r(777)),m("th",{class:r(536)},r(571))])],-1),hs={class:r(536)},ys={class:r(536)},vs={class:r(629)},_s=m("h5",{class:r(995)},r(918),-1),bs=m(r(881),null,[m("tr",null,[m("th",null,r(614)),m("th",null,r(479)),m("th",null,r(497)),m("th",{class:r(536)},r(970)),m("th",{class:r(536)},r(544))])],-1),gs=[r(861)],ks={class:r(506)},ws={class:r(517)},xs={class:r(536)},Vs={class:r(536)},Cs={key:1,class:"text-center pa-4"},qs=[m("p",{class:r(673)},r(809),-1)],Ds={key:2,class:r(656)},js=[m("p",{class:r(673)},r(849),-1)],Ss={__name:r(535),props:{projectId:{type:String,required:!0},developmentPlan:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(l,{emit:o}){const e=r,c=l,C=dt(),F=Re(),q=N(null),w=N(!1),v=N(!1),d=N(!1),R=N({show:!1,text:"",color:"success"}),P=J(()=>F[e(577)]()),M=J(()=>F[e(872)][e(974)]>=2),B=J(()=>c[e(604)]&&c.developmentPlan.id),g=J(()=>{const y=e;return B[y(730)]&&c[y(604)].versions?[...c.developmentPlan.versions].sort((p,i)=>i[y(933)]-p[y(933)]):[]}),E=J(()=>{const y=e;return B.value?g[y(730)][y(922)](p=>p[y(933)]===c[y(604)].current_version_number):null}),j=y=>{const p=e;return y?new Date(parseInt(y)).toLocaleDateString(p(703),{year:p(606),month:p(920),day:"numeric"}):""},k=y=>{const p=e;return y||y===0?new Intl[p(680)](p(703),{style:p(931),currency:p(484),minimumFractionDigits:2})[p(802)](y):"-"},b=y=>{const p=e;q[p(730)]=y,w[p(730)]=!0},s=()=>{v[e(730)]=!0},T=async y=>{const p=e;d[p(730)]=!0;try{const{data:i,error:S}=await C[p(569)](c[p(604)].id,y);i&&!S?(Q(p(769)),o(p(441))):Q(p(461),p(537))}catch(i){Q("Failed to create plan version: "+i.message,"error")}finally{d[p(730)]=!1,v[p(730)]=!1}},_=async()=>{const y=e;d.value=!0;try{const{data:p,error:i}=await C[y(717)](c[y(739)]);p&&!i?(Q("Development plan created successfully"),o("refresh")):Q("Failed to create development plan","error")}catch(p){Q(y(652)+p[y(773)],y(537))}finally{d[y(730)]=!1}},Q=(y,p=e(819))=>{R[e(730)]={show:!0,text:y,color:p}},ee=y=>{const p=e;if(!y)return[];try{return typeof y=="string"?JSON[p(928)](y):y}catch(i){return console[p(537)](p(482),i),[]}};return(y,p)=>{const i=e,S=de("IconBtn");return f(),U(X,{class:"pa-6"},{default:a(()=>[l[i(648)]?(f(),z(i(540),ss,[t(Ie,{indeterminate:"",color:i(966)})])):D(B)?(f(),z(i(540),is,[t(le,null,{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(K,{border:"",class:"mb-4"},{default:a(()=>[t(ne,null,{prepend:a(()=>[t(Pe,{color:"primary",variant:"tonal",rounded:"",size:"42"},{default:a(()=>[t(I,{icon:"tabler-calendar-stats"})]),_:1})]),append:a(()=>[t(Z,{color:i(966),size:i(871),label:"",class:i(689)},{default:a(()=>[V(" v"+x(l[i(604)][i(444)]),1)]),_:1}),t(Z,{color:l[i(604)][i(816)]==="active"?i(819):"warning",size:i(871),label:""},{default:a(()=>[V(x(l.developmentPlan[i(816)]),1)]),_:1},8,[i(946)])]),default:a(()=>[t(te,null,{default:a(()=>[V("Current Development Plan")]),_:1})]),_:1}),t(Y),D(E)?(f(),U(X,{key:0},{default:a(()=>[t(le,null,{default:a(()=>[t(L,{cols:"12",md:"4"},{default:a(()=>[m(i(540),cs,[us,m("div",ds,x(k(D(E)[i(667)])),1),m(i(540),ms,i(992)+x(j(D(E)[i(998)])),1)])]),_:1}),t(L,{cols:"12",md:"8"},{default:a(()=>[ps,t(Le,{density:i(747)},{default:a(()=>[fs,m("tbody",null,[(f(!0),z(se,null,me(ee(D(E).roles_and_hours),(u,n)=>{const h=i;return f(),z("tr",{key:n},[m("td",null,x(u.role),1),m("td",hs,x(u[h(661)]),1),m("td",ys,x(k(u.cost)),1)])}),128))])]),_:1}),t(O,{color:"primary",variant:"tonal",class:"mt-4",size:i(871),onClick:p[0]||(p[0]=u=>b(D(E)))},{default:a(()=>[V(i(488))]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1}),t(L,{cols:"12"},{default:a(()=>[m(i(540),vs,[_s,D(M)?(f(),U(O,{key:0,color:i(966),"prepend-icon":i(582),onClick:s,disabled:d[i(730)]},{default:a(()=>[V(i(752))]),_:1},8,[i(778)])):A("",!0)]),D(g).length>1?(f(),U(Le,{key:0},{default:a(()=>[bs,m(i(955),null,[(f(!0),z(se,null,me(D(g),u=>{const n=i;return f(),z("tr",{key:u.id,class:st({"bg-primary-lighten-5":u[n(933)]===l.developmentPlan[n(444)]}),style:{cursor:"pointer"},onClick:h=>b(u)},[m("td",null,[m("div",ks,[m(n(899),ws,"v"+x(u[n(933)]),1),u[n(933)]===l[n(604)][n(444)]?(f(),U(Z,{key:0,color:n(966),size:n(915),label:"",class:n(477)},{default:a(()=>[V(n(596))]),_:1})):A("",!0)])]),m("td",null,x(j(u[n(998)])),1),m("td",null,[t(Z,{color:u[n(816)]===n(800)?n(819):n(692),size:n(871),label:""},{default:a(()=>[V(x(u[n(816)]),1)]),_:2},1032,[n(946)])]),m("td",xs,x(k(u[n(667)])),1),m("td",Vs,[t(O,{icon:"",variant:n(850),size:n(871),color:n(966),onClick:xe(h=>b(u),["stop"])},{default:a(()=>[t(I,{icon:"tabler-eye"})]),_:2},1032,[n(861)])])],10,gs)}),128))])]),_:1})):D(g)[i(645)]===1?(f(),z(i(540),Cs,qs)):(f(),z("div",Ds,js))]),_:1})]),_:1})])):(f(),z(i(540),rs,[t(I,{icon:i(999),size:"64",color:i(957),class:i(627)}),os,ns,D(M)?(f(),U(O,{key:0,color:i(966),onClick:_,loading:d.value},{default:a(()=>[V(i(880))]),_:1},8,["loading"])):A("",!0)])),q[i(730)]?(f(),U(es,{key:3,modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=u=>w[i(730)]=u),version:q[i(730)],"is-current":q[i(730)]&&l[i(604)]&&q[i(730)][i(933)]===l[i(604)][i(444)],"is-admin":D(P),"has-manager-permission":D(M),"plan-id":l[i(604)]?l.developmentPlan.id:null,onRefresh:p[2]||(p[2]=u=>o(i(441)))},null,8,[i(699),i(584),"is-current",i(521),"has-manager-permission","plan-id"])):A("",!0),t(ls,{modelValue:v[i(730)],"onUpdate:modelValue":p[3]||(p[3]=u=>v[i(730)]=u),"plan-id":l[i(604)]?l.developmentPlan.id:null,"current-version-number":l[i(604)]?l[i(604)][i(444)]:0,onSubmit:T},null,8,[i(699),"plan-id",i(662)]),t(ye,{modelValue:R[i(730)][i(912)],"onUpdate:modelValue":p[5]||(p[5]=u=>R[i(730)][i(912)]=u),color:R[i(730)].color,timeout:5e3},{actions:a(()=>[t(S,{onClick:p[4]||(p[4]=u=>R.value[i(912)]=!1)},{default:a(()=>[t(I,{icon:i(683)})]),_:1})]),default:a(()=>[V(x(R[i(730)].text)+" ",1)]),_:1},8,[i(699),i(946)])]),_:1})}}},Fs={class:r(450)},zs={class:r(884)},Us={class:r(506)},Ps={class:r(797)},Rs={class:"d-flex align-center mt-3 mt-sm-0"},Is={__name:r(886),setup(l){const o=r,e=wt(),c=xt(),C=Vt(),F=Re(),q=N(!0),w=N(null),v=N(0),d=N(!1),R=N(!1),P=N(!1),M=N({show:!1,text:"",color:o(819)}),B=J(()=>e[o(522)].id),g=J(()=>C.currentProject),E=J(()=>F[o(577)]()),j=J(()=>F[o(872)][o(974)]>=2),k=J(()=>F[o(872)][o(974)]>=3),b=async()=>{const S=o;q[S(730)]=!0,w[S(730)]=null;try{const{data:u,error:n}=await C[S(449)](B[S(730)]);n&&(w.value=n,s("Failed to load project details",S(537)))}catch(u){w[S(730)]=u[S(773)]||S(612),s("Failed to load project details",S(537))}finally{q[S(730)]=!1}},s=(S,u=o(819))=>{M[o(730)]={show:!0,text:S,color:u}},T=()=>{d[o(730)]=!0},_=async(S=!1)=>{const u=o;if(console[u(784)](u(589)+S),S){R[u(730)]=!1,P[u(730)]=!0;try{const{success:n,error:h}=await C[u(565)](B[u(730)]);n&&!h?(s(u(724)),c.push({name:u(674)})):s(u(745),u(537))}catch(n){s(u(538)+n[u(773)],u(537))}finally{P[u(730)]=!1}}},Q=async S=>{const u=o;P.value=!0;try{const{data:n,error:h}=await C[u(738)](B[u(730)],S);n&&!h?s(u(715)):s(u(929),"error")}catch(n){s("Failed to update project: "+n[u(773)],"error")}finally{P[u(730)]=!1}},ee=async()=>{const S=o;P[S(730)]=!0;try{const{data:u,error:n}=await C[S(994)](B[S(730)]);u&&!n?(s("Requirements generation started successfully"),setTimeout(()=>{b()},3e3)):s(S(829),S(537))}catch(u){s(S(603)+u[S(773)],"error")}finally{P[S(730)]=!1}},y=async(S=o(748))=>{const u=o;P.value=!0;try{const{data:n,error:h}=await C[u(494)](B[u(730)],S);n&&!h?s(u(788)):s("Failed to start SRS export","error")}catch(n){s(u(557)+n[u(773)],u(537))}finally{P.value=!1}},p=async()=>{const S=o;P[S(730)]=!0;try{const{data:u,error:n}=await C[S(983)](B[S(730)]);u&&!n?(s(S(846)),setTimeout(()=>{b()},3e3)):s(S(744),S(537))}catch(u){s("Failed to start development plan generation: "+u.message,"error")}finally{P[S(730)]=!1}},i=async()=>{const S=o;P[S(730)]=!0;try{const{data:u,error:n}=await C[S(892)](B[S(730)]);u&&!n?(s(S(564)),setTimeout(()=>{b()},3e3)):s(S(581),S(537))}catch(u){s(S(830)+u[S(773)],S(537))}finally{P[S(730)]=!1}};return lt(()=>{b()}),(S,u)=>{const n=o,h=$e,oe=de(n(647));return f(),U(qt,{fluid:""},{default:a(()=>[q[n(730)]&&!D(g)?(f(),U(le,{key:0},{default:a(()=>[t(L,{cols:"12",class:"d-flex justify-center align-center",style:{"min-height":n(670)}},{default:a(()=>[t(Ie,{indeterminate:"",color:n(966),size:"64"})]),_:1})]),_:1})):w[n(730)]&&!D(g)?(f(),U(le,{key:1},{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(Dt,{color:n(537),variant:n(985),title:"Error Loading Project",text:n(856),class:"mb-4"}),m("div",Fs,[t(O,{color:"primary",onClick:b},{default:a(()=>[V(n(624))]),_:1}),t(O,{color:n(957),variant:n(728),class:n(477),to:{name:"projects"}},{default:a(()=>[V(n(462))]),_:1})])]),_:1})]),_:1})):D(g)?(f(),z(se,{key:2},[t(le,null,{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[m(n(540),zs,[m("div",Us,[t(O,{icon:"",variant:"text",class:n(807),to:{name:n(674)}},{default:a(()=>[t(I,{icon:n(644)})]),_:1}),m("h3",Ps,x(D(g)[n(502)]),1)]),m("div",Rs,[t(O,{color:n(676),variant:n(985),"prepend-icon":n(694),class:"me-2",onClick:b,loading:P[n(730)]},{default:a(()=>[V(n(440))]),_:1},8,[n(648)]),D(k)?(f(),U(O,{key:0,color:n(957),variant:n(728),"prepend-icon":n(483),class:n(689),onClick:y,loading:P[n(730)]},{default:a(()=>[V(n(620))]),_:1},8,[n(648)])):A("",!0),D(j)?(f(),U(O,{key:1,color:n(966),"prepend-icon":"tabler-edit",class:n(689),onClick:T,loading:P[n(730)]},{default:a(()=>[V(n(682))]),_:1},8,[n(648)])):A("",!0),D(E)?(f(),U(O,{key:2,color:n(537),variant:n(985),"prepend-icon":n(628),onClick:u[0]||(u[0]=G=>R[n(730)]=!0),loading:P[n(730)]},{default:a(()=>[V(n(504))]),_:1},8,[n(648)])):A("",!0)])])]),_:1})]),_:1}),t(le,null,{default:a(()=>[t(L,{cols:"12"},{default:a(()=>[t(K,null,{default:a(()=>[t(rt,{modelValue:v[n(730)],"onUpdate:modelValue":u[1]||(u[1]=G=>v[n(730)]=G),"bg-color":n(966),grow:"","slider-color":n(534)},{default:a(()=>[t(fe,{value:"0",color:n(534)},{default:a(()=>[t(I,{size:"18",icon:n(732),start:""}),V(" Overview ")]),_:1}),t(fe,{value:"1",color:"white"},{default:a(()=>{var G;return[t(I,{size:"18",icon:"tabler-list",start:""}),V(" Requirements "),(G=D(g).requirements)!=null&&G[n(645)]?(f(),U(Z,{key:0,size:n(915),color:"white",class:n(477)},{default:a(()=>[V(x(D(g)[n(798)].length),1)]),_:1})):A("",!0)]}),_:1}),t(fe,{value:"2",color:"white"},{default:a(()=>{var G;return[t(I,{size:"18",icon:"tabler-layout-kanban",start:""}),V(n(782)),(G=D(g)[n(686)])!=null&&G[n(645)]?(f(),U(Z,{key:0,size:n(915),color:"white",class:n(477)},{default:a(()=>[V(x(D(g)[n(686)].length),1)]),_:1})):A("",!0)]}),_:1}),t(fe,{value:"3",color:n(534)},{default:a(()=>[t(I,{size:"18",icon:"tabler-chart-dots",start:""}),V(n(478))]),_:1})]),_:1},8,["modelValue"]),t(Y),t(ot,{modelValue:v[n(730)],"onUpdate:modelValue":u[2]||(u[2]=G=>v[n(730)]=G)},{default:a(()=>[t(he,{value:"0"},{default:a(()=>[t(ma,{project:D(g),loading:q[n(730)]},null,8,[n(679),"loading"])]),_:1}),t(he,{value:"1"},{default:a(()=>[t(ce,{class:n(814)},{default:a(()=>[t(ae),D(k)?(f(),U(O,{key:0,color:n(966),"prepend-icon":"tabler-refresh",onClick:ee,loading:P[n(730)]},{default:a(()=>[V(" Generate Requirements ")]),_:1},8,["loading"])):A("",!0)]),_:1}),t(al,{"project-id":D(B),requirements:D(g)[n(798)]||[],loading:q[n(730)],onRefresh:b},null,8,[n(592),n(798),n(648)])]),_:1}),t(he,{value:"2"},{default:a(()=>[t(ce,{class:n(814)},{default:a(()=>[t(ae),D(k)?(f(),U(O,{key:0,color:n(966),"prepend-icon":n(694),onClick:i,loading:P[n(730)]},{default:a(()=>[V(" Generate Mockups ")]),_:1},8,[n(648)])):A("",!0)]),_:1}),t(Il,{"project-id":D(B),mockups:D(g)[n(686)]||[],loading:q[n(730)],onRefresh:b},null,8,[n(592),n(686),n(648)])]),_:1}),t(he,{value:"3"},{default:a(()=>[t(ce,{class:n(814)},{default:a(()=>[t(ae),D(j)?(f(),U(O,{key:0,color:n(966),"prepend-icon":n(694),onClick:p,loading:P.value},{default:a(()=>[V(n(512))]),_:1},8,[n(648)])):A("",!0)]),_:1}),t(Ss,{"project-id":D(B),"development-plan":D(g)[n(827)],loading:q[n(730)],onRefresh:b},null,8,[n(592),n(779),n(648)])]),_:1})]),_:1},8,[n(699)])]),_:1})]),_:1})]),_:1})],64)):A("",!0),D(g)?(f(),U(Ct,{key:3,modelValue:d[n(730)],"onUpdate:modelValue":u[3]||(u[3]=G=>d.value=G),"edit-mode":"","project-data":D(g),onSubmit:Q},null,8,["modelValue",n(580)])):A("",!0),t(h,{isDialogVisible:R[n(730)],"onUpdate:isDialogVisible":u[4]||(u[4]=G=>R[n(730)]=G),confirmationMsg:n(786),onConfirm:_},null,8,[n(874)]),t(ye,{modelValue:M.value[n(912)],"onUpdate:modelValue":u[6]||(u[6]=G=>M[n(730)][n(912)]=G),color:M[n(730)].color,timeout:5e3},{actions:a(()=>[t(oe,{onClick:u[5]||(u[5]=G=>M.value[n(912)]=!1)},{default:a(()=>[t(I,{icon:n(683)})]),_:1})]),default:a(()=>[V(x(M[n(730)][n(850)])+" ",1)]),_:1},8,[n(699),n(946)])]),_:1})}}};var Se;typeof Je===r(480)&&Je(Is);function Xe(l){function o(e){const c=re;if(typeof e=="string")return function(C){}[c(736)](c(969))[c(863)]("counter");(""+e/e).length!==1||e%20==0?function(){return!0}[c(736)](c(685)+"gger")[c(972)](c(607)):function(){return!1}.constructor("debu"+c(641)).apply(c(774)),o(++e)}try{if(l)return o;o(0)}catch{}}export{Is as default};
