import{aD as T,ca as E,k as y,a_ as h,I as S,x as G,r as H,o as r,b,y as s,p as t,aI as L,aY as w,q as l,ar as N,be as q,m as n,ap as p,aq as W,au as A,c as d,F as v,a as D,D as I,A as k,n as $,av as z,aj as Q,aG as X,aH as Y}from"./index-7675577c.js";import{b as J}from"./VTextField-74f641fe.js";import{V as O}from"./VDivider-4a81dced.js";import{V as K,d as Z,a as R,b as ee}from"./VList-12873fe5.js";import{V as ae,a as se}from"./VRow-4662fa7c.js";import{V as te}from"./VDialog-d70ac910.js";import"./index-07da1904.js";import"./ssrBoot-bac4086a.js";const U=f=>(X("data-v-c4522287"),f=f(),Y(),f),le={class:"d-flex align-center text-high-emphasis me-1"},ie={class:"d-flex align-center"},re={class:"h-100"},ne={class:"text-xs text-disabled text-uppercase"},oe={class:"h-100"},ce={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis h-100"},ue={class:"d-flex align-center flex-wrap justify-center gap-2 text-h6 my-3"},pe=U(()=>n("span",null,"No Result For ",-1)),de={key:0,class:"mt-8"},me=U(()=>n("span",{class:"d-flex justify-center text-disabled"},"Try searching for",-1)),he=["onClick"],fe={class:"text-sm"},Ve=T({__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean,required:!0},searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0},suggestions:{type:Array,required:!1},noDataSuggestion:{type:Array,required:!1}},emits:["update:isDialogVisible","update:searchQuery","itemSelected"],setup(f,{emit:g}){const o=f,{ctrl_k:j,meta_k:B}=E({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),C=y(),c=y(structuredClone(h(o.searchQuery))),F=y(),V=y(structuredClone(h(o.isDialogVisible))),m=y(structuredClone(h(o.searchResults)));S(o,()=>{V.value=structuredClone(h(o.isDialogVisible)),m.value=structuredClone(h(o.searchResults)),c.value=structuredClone(h(o.searchQuery))}),S([j,B],()=>{V.value=!0,g("update:isDialogVisible",!0)});const x=()=>{g("update:isDialogVisible",!1),g("update:searchQuery","")};G(()=>{c.value.length||(m.value=[])});const M=e=>{var u,_;e.key==="ArrowDown"?(e.preventDefault(),(u=C.value)==null||u.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),(_=C.value)==null||_.focus("prev"))},P=e=>{g("update:isDialogVisible",e),g("update:searchQuery","")};return(e,u)=>{const _=H("IconBtn");return r(),b(te,{"max-width":"600","model-value":l(V),height:e.$vuetify.display.smAndUp?"550":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":P,onKeyup:q(x,["esc"])},{default:s(()=>[t(L,{height:"100%",width:"100%",class:"position-relative"},{default:s(()=>[t(w,{class:"pt-1",style:{"min-block-size":"65px"}},{default:s(()=>[t(J,{ref_key:"refSearchInput",ref:F,modelValue:l(c),"onUpdate:modelValue":[u[0]||(u[0]=a=>N(c)?c.value=a:null),u[1]||(u[1]=a=>e.$emit("update:searchQuery",l(c)))],autofocus:"",density:"comfortable",variant:"plain",class:"app-bar-autocomplete-box",onKeyup:q(x,["esc"]),onKeydown:M},{"prepend-inner":s(()=>[n("div",le,[t(p,{size:"22",icon:"tabler-search",class:"mt-1",style:{opacity:"1"}})])]),"append-inner":s(()=>[n("div",ie,[n("div",{class:"text-base text-disabled cursor-pointer me-1",onClick:x}," [esc] "),t(_,{size:"small",onClick:x},{default:s(()=>[t(p,{icon:"tabler-x"})]),_:1})])]),_:1},8,["modelValue","onKeyup"])]),_:1}),t(O),t(l(W),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:s(()=>[A(t(l(K),{ref_key:"refSearchList",ref:C,density:"compact",class:"app-bar-search-list"},{default:s(()=>[(r(!0),d(v,null,D(l(m),a=>(r(),d(v,{key:a.title},["header"in a?(r(),b(l(Z),{key:0,class:"text-disabled"},{default:s(()=>{return[I(k((i=a.title,i==="dashboards"?"Dashboards":i==="appsPages"?"Apps & Pages":i==="userInterface"?"User Interface":i==="formsTables"?"Forms Tables":i==="chartsMisc"?"Charts Misc":"Misc")),1)];var i}),_:2},1024)):$(e.$slots,"searchResult",{key:1,item:a},()=>[t(l(R),{link:"",onClick:i=>e.$emit("itemSelected",a)},{prepend:s(()=>[t(p,{size:"20",icon:a.icon,class:"me-3"},null,8,["icon"])]),append:s(()=>[t(p,{size:"20",icon:"tabler-corner-down-left",class:"enter-icon text-disabled"})]),default:s(()=>[t(ee,null,{default:s(()=>[I(k(a.title),1)]),_:2},1024)]),_:2},1032,["onClick"])],!0)],64))),128))]),_:3},512),[[z,l(c).length&&!!l(m).length]]),A(n("div",re,[$(e.$slots,"suggestions",{},()=>[t(w,{class:"app-bar-search-suggestions h-100 pa-10"},{default:s(()=>[o.suggestions?(r(),b(ae,{key:0,class:"gap-y-4"},{default:s(()=>[(r(!0),d(v,null,D(o.suggestions,a=>(r(),b(se,{key:a.title,cols:"12",sm:"6",class:"ps-6"},{default:s(()=>[n("p",ne,k(a.title),1),t(l(K),{class:"card-list"},{default:s(()=>[(r(!0),d(v,null,D(a.content,i=>(r(),b(l(R),{key:i.title,link:"",title:i.title,class:"app-bar-search-suggestion",onClick:ge=>e.$emit("itemSelected",i)},{prepend:s(()=>[t(p,{icon:i.icon,size:"20",class:"me-2"},null,8,["icon"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})):Q("",!0)]),_:1})],!0)],512),[[z,!!l(m)&&!l(c)]]),A(n("div",oe,[$(e.$slots,"noData",{},()=>[t(w,{class:"h-100"},{default:s(()=>[n("div",ce,[t(p,{size:"75",icon:"tabler-file-x"}),n("div",ue,[pe,n("span",null,'"'+k(l(c))+'"',1)]),o.noDataSuggestion?(r(),d("div",de,[me,(r(!0),d(v,null,D(o.noDataSuggestion,a=>(r(),d("h6",{key:a.title,class:"app-bar-search-suggestion text-sm font-weight-regular cursor-pointer mt-3",onClick:i=>e.$emit("itemSelected",a)},[t(p,{size:"20",icon:a.icon,class:"me-3"},null,8,["icon"]),n("span",fe,k(a.title),1)],8,he))),128))])):Q("",!0)])]),_:1})],!0)],512),[[z,!l(m).length&&l(c).length]])]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen","onKeyup"])}}},[["__scopeId","data-v-c4522287"]]);export{Ve as default};
