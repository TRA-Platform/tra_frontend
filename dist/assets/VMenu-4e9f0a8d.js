import{L as k,ab as x,bf as D,a3 as I,bg as w,ad as A,E as d,k as m,bK as E,c0 as v,bI as K,I as L,aa as g,a9 as M,bh as f,p as b,b8 as O,bi as T}from"./index-53919516.js";import{a as U}from"./VDivider-5b9e39d0.js";const q=k()({name:"VMenu",props:{id:String,...x(D({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:U}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const s=I(e,"modelValue"),{scopeId:P}=w(),V=A(),u=d(()=>e.id||`v-menu-${V}`),i=m(),a=E(v,null),o=m(0);function h(){a==null||a.closeParents()}K(v,{register(){++o.value},unregister(){--o.value},closeParents(){setTimeout(()=>{o.value||(s.value=!1,a==null||a.closeParents())},40)}}),L(s,l=>{l?a==null||a.register():a==null||a.unregister()});const C=d(()=>g({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":u.value},e.activatorProps));return M(()=>{const[l]=f.filterProps(e);return b(f,g({ref:i,class:["v-menu",e.class],style:e.style},l,{modelValue:s.value,"onUpdate:modelValue":r=>s.value=r,absolute:!0,activatorProps:C.value,"onClick:outside":h},P),{activator:t.activator,default:function(){for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return b(O,{root:!0},{default:()=>{var p;return[(p=t.default)==null?void 0:p.call(t,...c)]}})}})}),T({id:u,Î¨openChildren:o},i)}});export{q as V};
